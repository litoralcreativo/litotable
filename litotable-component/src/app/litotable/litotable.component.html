<div class="litotable-container mat-elevation-z8">
  <div *ngIf="dataSource">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="announceSortChange($event)"
    >
      <ng-container
        *ngFor="let key of displayedColumns"
        matColumnDef="{{ key }}"
      >
        <th
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
          sortActionDescription="Sort by number"
        >
          {{ key }}
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element[key] }}
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        (click)="
          !selectedRows.has(row)
            ? selectedRows.add(row)
            : selectedRows.delete(row)
        "
        [class.row-is-selected]="selectedRows.has(row)"
        *matRowDef="let row; columns: displayedColumns"
      ></tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>
    <mat-progress-bar
      [mode]="fetching ? 'indeterminate' : 'determinate'"
    ></mat-progress-bar>
  </div>
</div>
