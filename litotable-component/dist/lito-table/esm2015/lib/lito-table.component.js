import { Component, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { MatPaginator } from '@angular/material/paginator';
import { MatSort } from '@angular/material/sort';
import { MatTableDataSource } from '@angular/material/table';
import 'reflect-metadata';
import { Column } from './column';
import { MesurableConstrainType, } from './configurations/fieldConstrians.config';
import { TableOperation, } from './configurations/litotable.config';
import { ColumnType } from './decorators/column.decorator';
import { moveItemInArray } from '@angular/cdk/drag-drop';
import { MatDrawer } from '@angular/material/sidenav';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/a11y";
import * as i2 from "@angular/material/expansion";
import * as i3 from "@angular/material/button";
import * as i4 from "@angular/material/icon";
import * as i5 from "@angular/material/sidenav";
import * as i6 from "@angular/material/table";
import * as i7 from "@angular/material/checkbox";
import * as i8 from "@angular/material/sort";
import * as i9 from "@angular/material/paginator";
import * as i10 from "@angular/material/progress-bar";
import * as i11 from "@angular/material/menu";
import * as i12 from "@angular/material/divider";
import * as i13 from "@angular/material/slide-toggle";
import * as i14 from "./constrain-creator/constrain-creator.component";
import * as i15 from "@angular/material/card";
import * as i16 from "./lito-color-picker/lito-color-picker.component";
import * as i17 from "@angular/material/button-toggle";
import * as i18 from "@angular/material/form-field";
import * as i19 from "@angular/common";
import * as i20 from "@angular/material/tooltip";
import * as i21 from "@angular/material/input";
import * as i22 from "./pipes/cuit.pipe";
import * as i23 from "./pipes/phone.pipe";
export class LitotableComponent {
    constructor(_liveAnnouncer) {
        this._liveAnnouncer = _liveAnnouncer;
        /* Enums */
        this.columnTypes = ColumnType;
        this.operationTypes = TableOperation;
        this.columns = [];
        this.numberConstrainType = MesurableConstrainType;
        this.displayedColumns = new DisplayedColumns();
        this.rowConstrains = [];
        this.dataSource = new MatTableDataSource();
        this.fetching = false;
        this.selectedRows = new Set();
        this.constrainedRows = new Set();
        this.showSelectedOnly = false;
        this.creationFormOpen = false;
        this._confirmation = 'multiple';
        this.fieldConstrians = [];
        this.multipleActionOutput = new EventEmitter();
        this.singleActionOutput = new EventEmitter();
    }
    ngOnInit() {
        this.setColumns();
        if (this.inputSource != undefined) {
            this.fetching = true;
            this.inputSource.subscribe((datos) => {
                var _a;
                this.fetching = false;
                this.dataSource = new MatTableDataSource(datos);
                this.dataSource.paginator = this.paginator;
                this.dataSource.sort = this.sort;
                this.setRowsConstrains(datos);
                (_a = this.tableActionsConfig) === null || _a === void 0 ? void 0 : _a.updatePermormableState(this.selectedRows);
            });
        }
        else {
            let c = [];
            this.dataSource = new MatTableDataSource(c);
        }
        this.dataSource.paginator = this.paginator;
    }
    parseDate(input) {
        return input.toJSON();
    }
    ngAfterViewInit() {
        this.dataSource.paginator = this.paginator;
    }
    announceSortChange(sortState) {
        if (sortState.direction) {
            this._liveAnnouncer.announce(`Sorted ${sortState.direction}ending`);
        }
        else {
            this._liveAnnouncer.announce('Sorting cleared');
        }
    }
    updateFieldsToRowsConstrains() {
        if (this.fieldConstrians) {
            this.rowConstrains = this.fieldConstrians.map((x) => {
                return new RowConstrain(x.propertyKey, x.constrain);
            });
        }
    }
    setRowsConstrains(source) {
        this.updateFieldsToRowsConstrains();
        source.forEach((element) => {
            this.rowConstrains.forEach((rc) => {
                const value = element[rc.name];
                if (rc._constrain.trigger(value)) {
                    if (rc._constrain.enable) {
                        if (!element['rowStyle']) {
                            Object.defineProperty(element, 'rowStyle', {
                                configurable: true,
                                enumerable: false,
                                value: { style: rc._constrain.style },
                                writable: true,
                            });
                        }
                        else if (element['rowStyle']) {
                            element['rowStyle'].style = Object.assign(Object.assign({}, element['rowStyle'].style), rc._constrain.style);
                        }
                        this.constrainedRows.add(element);
                    }
                }
            });
        });
    }
    updateRowConstrains() {
        this.constrainedRows = new Set();
        const source = this.dataSource.data;
        source.forEach((element) => {
            this.rowConstrains.forEach((rc) => {
                const value = element[rc.name];
                if (rc._constrain.trigger(value)) {
                    if (rc._constrain.enable) {
                        if (!element['rowStyle']) {
                            Object.defineProperty(element, 'rowStyle', {
                                configurable: true,
                                enumerable: false,
                                value: { style: rc._constrain.style },
                                writable: true,
                            });
                        }
                        else if (element['rowStyle']) {
                            element['rowStyle'].style = Object.assign(Object.assign({}, element['rowStyle'].style), rc._constrain.style);
                        }
                        this.constrainedRows.add(element);
                    }
                }
            });
        });
    }
    hasConstrain(propertyKey, value) {
        let result = false;
        if (this.rowConstrains.length != 0) {
        }
        return result;
    }
    setColumns() {
        var _a;
        const columnsMetadata = Reflect.getMetadata('columnsMetadata', this.dataType);
        let columnGroups = new ColumnGroups(0);
        if (columnsMetadata != undefined) {
            this.columns = columnsMetadata.map((c, i) => {
                var _a;
                let column = new Column(c.propertyKey, c.propertyKey, ColumnType.STRING, c.metadata.order);
                column.visible =
                    c.metadata.visible == undefined ? true : c.metadata.visible;
                column.name = c.metadata.columnName || c.propertyKey;
                column.type = c.metadata.type || ColumnType.STRING;
                column.format = c.metadata.format || undefined;
                column.contentAlign = c.metadata.contentAlign || undefined;
                const str = (_a = c.metadata.columnGroup) === null || _a === void 0 ? void 0 : _a.name;
                if (str) {
                    if (columnGroups.groupColumns.filter((x) => x.name == str).length == 0) {
                        let newColGroup = new GroupColumn(str);
                        newColGroup.addColumn(column);
                        columnGroups.groupColumns.push(newColGroup);
                    }
                    else {
                        columnGroups.groupColumns
                            .filter((x) => x.name == str)[0]
                            .addColumn(column);
                    }
                }
                return column;
            });
            this.columns.sort((a, b) => {
                return a.order - b.order;
            });
        }
        this.displayedColumns = new DisplayedColumns(this.columns, this.selection, ((_a = this.tableConfigurations) === null || _a === void 0 ? void 0 : _a.actionsColumn) != undefined);
        this.displayedColumns.columnGroups = columnGroups;
        this.displayedColumns.updateGroups();
    }
    isAllSelected() {
        const numSelected = this.selectedRows.size;
        const numRows = this.dataSource.data.length;
        return numSelected == numRows && numRows != 0;
    }
    masterToggle() {
        this.isAllSelected()
            ? this.selectedRows.clear()
            : this.dataSource.data.forEach((row) => this.selectedRows.add(row));
    }
    selectionToogle(state, row) {
        var _a;
        if (state) {
            this.selectedRows.add(row);
        }
        else {
            if (this.selectedRows.has(row))
                this.selectedRows.delete(row);
        }
        if ((_a = this.tableActionsConfig) === null || _a === void 0 ? void 0 : _a.actions) {
            this.tableActionsConfig.updatePermormableState(this.selectedRows);
        }
    }
    changeConstrainState(value, data, field, isStyle = true) {
        if (isStyle && field && field != '') {
            data.style[field] = value;
        }
        if (!isStyle) {
            switch (field) {
                case 'number-type':
                    data.type = parseInt(value.value);
                    break;
                case 'number-value':
                case 'number-value1':
                    data.values[0] = parseInt(value.target.value);
                    break;
                case 'number-value2':
                    data.values[1] = parseInt(value.target.value);
                    break;
            }
        }
        this.updateRowConstrains();
    }
    addConstrain($event) {
        this.fieldConstrians.push($event);
        this.updateFieldsToRowsConstrains();
        this.updateRowConstrains();
    }
    updateVisibility() {
        this.updateFieldsToRowsConstrains();
        this.updateRowConstrains();
    }
    removeConstrain(constrain) {
        this.fieldConstrians = this.fieldConstrians.filter((x) => x != constrain);
        this.updateVisibility();
    }
    tableDrop(event) {
        moveItemInArray(this.displayedColumns.columnNames, event.previousIndex + 1, event.currentIndex + 1);
    }
    onRowActionClick(row, action) {
        if (action.actionResult.willUpdateRow ||
            action.actionResult.willDeleteRow) {
            row.processing = true;
            this.singleActionOutput.emit({
                operation: action,
                data: row,
            });
        }
    }
    updateRow(row, newRow) {
        let indx = this.dataSource.data.indexOf(row);
        if (newRow) {
            this.dataSource.data[indx] = newRow;
            this.dataSource.data[indx].processing = false;
            this.selectedRows.delete(this.dataSource.data[indx]);
        }
        else {
            this.dataSource.data.splice(indx, 1);
            row.processing = false;
        }
        this.selectedRows.delete(row);
        this.dataSource._updateChangeSubscription();
        this.updateVisibility();
    }
    performFooterAction() {
        var _a, _b, _c, _d;
        if ((_b = (_a = this.tableConfigurations) === null || _a === void 0 ? void 0 : _a.footerAction) === null || _b === void 0 ? void 0 : _b.actionResult.nonObservableAction) {
            (_d = (_c = this.tableConfigurations) === null || _c === void 0 ? void 0 : _c.footerAction) === null || _d === void 0 ? void 0 : _d.actionResult.nonObservableAction();
        }
    }
    performRowActionConfirmation(action, row, confirmation) {
        this._confirmation = 'single';
        this.rowConfirmation = {
            confirmationData: confirmation,
            row: row,
            action: action,
        };
        if (this.drawer) {
            this.drawer.open();
        }
    }
    onGeneralActionClick(operation) {
        this.performGeneralAction(operation);
    }
    performGeneralAction(operation) {
        this.multipleActionOutput.emit({
            operation: operation,
            data: this.selectedRows,
        });
        if (operation.mustLockRows) {
            this.lockSelectedRows(this.selectedRows);
        }
    }
    unLockRow(row) {
        row.processing = false;
    }
    lockSelectedRows(rows) {
        rows.forEach((row) => {
            row.processing = true;
        });
    }
    unLockSelectedRows(rows) {
        rows.forEach((row) => {
            row.processing = false;
        });
    }
    performGeneralActionConfirmation(operation) {
        this._confirmation = 'multiple';
        this.generalConfirmation = {
            confirmationData: operation.confirmation,
            action: operation,
        };
        if (this.drawer) {
            this.drawer.open();
        }
    }
}
LitotableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: LitotableComponent, deps: [{ token: i1.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
LitotableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: LitotableComponent, selector: "lito-table", inputs: { inputSource: ["source", "inputSource"], dataType: ["type", "dataType"], tableActionsConfig: "tableActionsConfig", selection: "selection", tableConfigurations: ["configurations", "tableConfigurations"], fieldConstrians: "fieldConstrians" }, outputs: { multipleActionOutput: "multipleActionOutput", singleActionOutput: "singleActionOutput" }, viewQueries: [{ propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true }, { propertyName: "drawer", first: true, predicate: MatDrawer, descendants: true }], ngImport: i0, template: "<!-- Operations -->\n<mat-accordion class=\"table-operations\">\n  <mat-expansion-panel hideToggle>\n    <mat-expansion-panel-header>\n      <mat-panel-title style=\"align-items: center\">\n        Operaciones\n      </mat-panel-title>\n      <div class=\"table-top-container\">\n        <button\n          mat-icon-button\n          [matMenuTriggerFor]=\"export\"\n          aria-label=\"Exportar\"\n          (click)=\"$event.stopPropagation()\"\n        >\n          <mat-icon>download</mat-icon>\n        </button>\n\n        <button\n          mat-icon-button\n          [matMenuTriggerFor]=\"columns\"\n          aria-label=\"Columnas\"\n          (click)=\"$event.stopPropagation()\"\n        >\n          <mat-icon>view_column</mat-icon>\n        </button>\n\n        <button\n          mat-icon-button\n          [matMenuTriggerFor]=\"constrains\"\n          aria-label=\"Constrains\"\n          (click)=\"$event.stopPropagation()\"\n        >\n          <mat-icon>brush</mat-icon>\n        </button>\n      </div>\n    </mat-expansion-panel-header>\n    <div class=\"operation-buttons-container\" *ngIf=\"tableActionsConfig\">\n      <div *ngFor=\"let operation of tableActionsConfig.actions\">\n        <div class=\"table-bottom-container\">\n          <!-- (selectedRows.size == 0 && operation.mustHaveOneSelected) ||\n              (selectedRows.size != 1 && operation.scope == 1) -->\n          <div\n            [matTooltipDisabled]=\"operation.performable.state\"\n            matTooltip=\"{{ operation.performable.tooltip }}\"\n          >\n            <button\n              [disabled]=\"!operation.performable.state\"\n              mat-stroked-button\n              class=\"general-action\"\n              (click)=\"\n                operation.confirmation\n                  ? performGeneralActionConfirmation(operation)\n                  : performGeneralAction(operation)\n              \"\n            >\n              <mat-icon\n                *ngIf=\"operation?.icon\"\n                [ngStyle]=\"{\n                  color:\n                    (!operation.performable.state\n                      ? 'gray'\n                      : operation?.color) || 'currentColor'\n                }\"\n                >{{ operation.icon }}</mat-icon\n              >\n              {{ operation.content }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<!-- Table -->\n<div class=\"litotable-main-container\">\n  <div class=\"litotable-container mat-elevation-z4\">\n    <div class=\"table-container\">\n      <mat-drawer-container class=\"example-container\" [hasBackdrop]=\"true\">\n        <mat-drawer #drawer mode=\"over\" position=\"end\">\n          <ng-container *ngTemplateOutlet=\"sidenavMenu\"></ng-container>\n        </mat-drawer>\n        <mat-drawer-content>\n          <div *ngIf=\"dataSource\" class=\"table-responsive\">\n            <table\n              mat-table\n              [dataSource]=\"dataSource\"\n              matSort\n              (matSortChange)=\"announceSortChange($event)\"\n            >\n              <!-- Columna de seleccion -->\n              <ng-container matColumnDef=\"selection\">\n                <th mat-header-cell *matHeaderCellDef>\n                  <mat-checkbox\n                    (change)=\"masterToggle()\"\n                    [indeterminate]=\"\n                      this.selectedRows.size != 0 && !isAllSelected()\n                    \"\n                    [checked]=\"isAllSelected()\"\n                  >\n                  </mat-checkbox>\n                </th>\n                <td\n                  mat-cell\n                  *matCellDef=\"let row\"\n                  style=\"background-color: rgba(255, 255, 255, 1)\"\n                >\n                  <mat-checkbox\n                    (click)=\"$event.stopPropagation()\"\n                    (change)=\"selectionToogle($event.checked, row)\"\n                    [checked]=\"selectedRows.has(row)\"\n                    [disabled]=\"row.processing\"\n                  >\n                  </mat-checkbox>\n                </td>\n              </ng-container>\n\n              <!-- Resto de columnas -->\n              <ng-container\n                *ngFor=\"let column of displayedColumns.columns\"\n                matColumnDef=\"{{ column.name }}\"\n              >\n                <!-- Column Header -->\n                <th\n                  mat-header-cell\n                  *matHeaderCellDef\n                  mat-sort-header=\"{{ column.propertyKey }}\"\n                  sortActionDescription=\"Sort by {{ column.propertyKey }}\"\n                  [class.header-borders]=\"tableConfigurations?.headerBorders\"\n                >\n                  {{ column.name }}\n                </th>\n                <!-- Column Data -->\n                <td\n                  mat-cell\n                  *matCellDef=\"let element\"\n                  #litotableTd\n                  [class.cell-borders]=\"tableConfigurations?.headerBorders\"\n                >\n                  <div\n                    #content\n                    style=\"transition: 0.3s all\"\n                    [ngStyle]=\"\n                      litotableTd.parentElement?.style?.color\n                        ? { color: litotableTd.parentElement?.style?.color }\n                        : {}\n                    \"\n                  >\n                    <div *ngIf=\"column.type == columnTypes.STRING\">\n                      {{ element[column.propertyKey] }}\n                    </div>\n                    <div *ngIf=\"column.type == columnTypes.INTEGER\">\n                      {{ element[column.propertyKey] | number: \"1.0-0\" }}\n                    </div>\n                    <div *ngIf=\"column.type == columnTypes.FLOAT\">\n                      {{ element[column.propertyKey] | number: \"1.2-4\" }}\n                    </div>\n                    <div *ngIf=\"column.type == columnTypes.DATE\">\n                      {{\n                        element[column.propertyKey]\n                          | date: (column.format ? column.format : \"short\")\n                      }}\n                    </div>\n                    <div *ngIf=\"column.type == columnTypes.CURRENCY\">\n                      {{ element[column.propertyKey] | currency }}\n                    </div>\n                    <div *ngIf=\"column.type == columnTypes.CUIT\">\n                      {{ element[column.propertyKey] | cuit: \"-\" }}\n                    </div>\n                    <div *ngIf=\"column.type == columnTypes.PHONE\">\n                      {{\n                        element[column.propertyKey]\n                          | phone: (column.format ? column.format : undefined)\n                      }}\n                    </div>\n                  </div>\n                </td>\n              </ng-container>\n\n              <!-- Columna de Acciones -->\n              <ng-container\n                *ngIf=\"tableConfigurations?.actionsColumn\"\n                matColumnDef=\"actions\"\n              >\n                <th\n                  mat-header-cell\n                  *matHeaderCellDef\n                  [class.header-borders]=\"tableConfigurations?.headerBorders\"\n                  class=\"actions-th\"\n                >\n                  Acciones\n                </th>\n                <td\n                  mat-cell\n                  *matCellDef=\"let row\"\n                  [class.cell-borders]=\"tableConfigurations?.headerBorders\"\n                  style=\"padding: 0\"\n                  class=\"actions-td\"\n                >\n                  <div>\n                    <div\n                      *ngFor=\"let action of tableConfigurations?.actionsColumn\"\n                    >\n                      <button\n                        [disabled]=\"row.processing\"\n                        *ngIf=\"action.confirmation\"\n                        mat-icon-button\n                        matTooltip=\"{{ action.tooltip }}\"\n                        (click)=\"\n                          performRowActionConfirmation(\n                            action,\n                            row,\n                            action.confirmation\n                          )\n                        \"\n                      >\n                        <mat-icon\n                          [style]=\"{\n                            color: row.processing ? 'lightgray' : action.color\n                          }\"\n                          >{{ action.icon }}</mat-icon\n                        >\n                      </button>\n                      <button\n                        [disabled]=\"row.processing\"\n                        *ngIf=\"!action.confirmation\"\n                        mat-icon-button\n                        matTooltip=\"{{ action.tooltip }}\"\n                        (click)=\"onRowActionClick(row, action)\"\n                      >\n                        <mat-icon\n                          [style]=\"{\n                            color: row.processing ? 'lightgray' : action.color\n                          }\"\n                          >{{ action.icon }}</mat-icon\n                        >\n                      </button>\n                    </div>\n                  </div>\n                </td>\n              </ng-container>\n\n              <!-- Columnas de agrupacion -->\n              <ng-container matColumnDef=\"empty-group\">\n                <th *matHeaderCellDef class=\"group-header-empty\"></th>\n              </ng-container>\n              <ng-container\n                *ngFor=\"let col of displayedColumns.columnGroups.groupColumns\"\n                matColumnDef=\"{{ col.name }}\"\n              >\n                <th\n                  mat-header-cell\n                  *matHeaderCellDef\n                  [attr.colspan]=\"col.colspan\"\n                >\n                  {{ col.name }}\n                </th>\n              </ng-container>\n              <tr\n                class=\"group-header\"\n                mat-header-row\n                *matHeaderRowDef=\"displayedColumns.columnGroups.displayNames\"\n              ></tr>\n\n              <!-- Encabezados de columnas -->\n              <tr\n                mat-header-row\n                *matHeaderRowDef=\"displayedColumns.columnNames\"\n              ></tr>\n\n              <!-- Formato condicional de filas -->\n              <tr\n                mat-row\n                [class.mat-row-selected]=\"selectedRows.has(row)\"\n                [class.mat-row-selected-borders]=\"\n                  selectedRows.has(row) &&\n                  tableConfigurations?.selectionStyle == 1\n                \"\n                [class.mat-row-selected-shadow]=\"\n                  selectedRows.has(row) &&\n                  tableConfigurations?.selectionStyle == 2\n                \"\n                [class.mat-row-borders]=\"tableConfigurations?.hoverStyle == 1\"\n                [class.mat-row-shadow]=\"tableConfigurations?.hoverStyle == 2\"\n                style=\"transition: 0.3s all\"\n                [ngStyle]=\"constrainedRows.has(row) ? row.rowStyle.style : ''\"\n                *matRowDef=\"let row; columns: displayedColumns.columnNames\"\n                [class.mat-row-processing]=\"row.processing\"\n              ></tr>\n\n              <!-- Mensaje por defecto en caso de no haber datos o se este fetcheando -->\n              <tr class=\"mat-row\" *matNoDataRow>\n                <td class=\"mat-cell\" colspan=\"4\">\n                  {{ fetching ? \"fetching data\" : \"No data found\" }}\n                </td>\n              </tr>\n            </table>\n          </div>\n        </mat-drawer-content>\n      </mat-drawer-container>\n\n      <!-- Footer action button -->\n      <div class=\"table-bottom-container\">\n        <button\n          mat-stroked-button\n          class=\"footercell\"\n          (click)=\"performFooterAction()\"\n        >\n          <mat-icon\n            *ngIf=\"tableConfigurations?.footerAction?.icon\"\n            [ngStyle]=\"{\n              color: tableConfigurations?.footerAction?.color || 'currentColor'\n            }\"\n            >{{ tableConfigurations?.footerAction?.icon }}</mat-icon\n          >\n          {{ tableConfigurations?.footerAction?.content }}\n        </button>\n      </div>\n    </div>\n\n    <!-- Paginator -->\n    <div class=\"table-bottom-container\">\n      <mat-paginator\n        [pageSizeOptions]=\"tableConfigurations?.paginationSizes || [5, 10, 20]\"\n        showFirstLastButtons\n        aria-label=\"Select page\"\n      >\n      </mat-paginator>\n    </div>\n\n    <!-- Progressbar -->\n    <mat-progress-bar\n      [mode]=\"fetching ? 'indeterminate' : 'determinate'\"\n    ></mat-progress-bar>\n  </div>\n</div>\n\n<!-- Export Menu -->\n<mat-menu #export=\"matMenu\" xPosition=\"before\">\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n    disabled=\"true\"\n  >\n    Exportar\n  </div>\n</mat-menu>\n\n<!-- Columns Selector Menu -->\n<mat-menu #columns=\"matMenu\" xPosition=\"before\">\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n    disabled=\"true\"\n  >\n    Columnas\n  </div>\n  <mat-divider></mat-divider>\n\n  <div\n    *ngFor=\"let column of displayedColumns.columns\"\n    mat-menu-item\n    (click)=\"$event.stopPropagation()\"\n  >\n    <mat-slide-toggle\n      color=\"primary\"\n      (click)=\"$event.stopPropagation()\"\n      (change)=\"displayedColumns.changeColumnVisivility(column)\"\n      [checked]=\"column.visible\"\n    >\n      {{ column.name }}\n    </mat-slide-toggle>\n  </div>\n  <mat-divider></mat-divider>\n  <div\n    *ngFor=\"let group of displayedColumns.columnGroups.groupColumns\"\n    mat-menu-item\n    (click)=\"$event.stopPropagation()\"\n  >\n    <mat-slide-toggle\n      color=\"accent\"\n      (click)=\"$event.stopPropagation()\"\n      (change)=\"\n        group.toogleVisibbility($event.checked);\n        displayedColumns.updateVisivility()\n      \"\n      [checked]=\"group.checked\"\n    >\n      {{ group.name }}\n    </mat-slide-toggle>\n  </div>\n  <button\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"displayedColumns.allVisible(); $event.stopPropagation()\"\n  >\n    Todas\n  </button>\n</mat-menu>\n\n<!-- Constrains Menu -->\n<mat-menu\n  #constrains=\"matMenu\"\n  xPosition=\"before\"\n  style=\"padding: 0.5rem !important\"\n>\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n    disabled=\"true\"\n  >\n    Estilos\n  </div>\n  <div\n    mat-menu-item\n    disableRipple=\"true\"\n    *ngFor=\"let constr of fieldConstrians\"\n    (click)=\"$event.stopPropagation()\"\n    [style]=\"{\n      display: 'flex',\n      'align-items': 'center',\n      'justify-items': 'center',\n      color: constr.constrain.style['color'],\n      'background-color': constr.constrain.style['background-color'],\n      'text-align': 'center'\n    }\"\n  >\n    <span style=\"flex-grow: 1; text-align: center\">{{\n      constr.constrainName\n    }}</span>\n    <button\n      mat-icon-button\n      matTooltip=\"remove\"\n      style=\"justify-self: flex-end; margin-left: 1rem\"\n      [matMenuTriggerFor]=\"constrainDeletionConfirm\"\n      [matMenuTriggerData]=\"{ data: constr }\"\n    >\n      <mat-icon style=\"margin: auto\">delete</mat-icon>\n    </button>\n    <button mat-icon-button style=\"justify-self: flex-end\">\n      <mat-icon style=\"margin: auto\" matTooltip=\"hide\">edit</mat-icon>\n    </button>\n    <button\n      mat-icon-button\n      style=\"justify-self: flex-end\"\n      (click)=\"\n        constr.constrain.enable = !constr.constrain.enable; updateVisibility()\n      \"\n    >\n      <mat-icon style=\"margin: auto\" matTooltip=\"hide\">{{\n        constr.constrain.enable ? \"visibility\" : \"visibility_off\"\n      }}</mat-icon>\n    </button>\n  </div>\n\n  <!-- Constrain Creator -->\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n  >\n    <litotable-constrain-creator\n      [columns]=\"displayedColumns.columns\"\n      (result-constrain)=\"addConstrain($event)\"\n      ><mat-icon style=\"margin: auto\"\n        >add_circle</mat-icon\n      ></litotable-constrain-creator\n    >\n  </div>\n</mat-menu>\n\n<mat-menu #constrainDeletionConfirm=\"matMenu\" xPosition=\"before\">\n  <ng-template matMenuContent let-constrain=\"data\">\n    <button\n      mat-menu-item\n      (click)=\"removeConstrain(constrain)\"\n      style=\"color: red; font-weight: 500\"\n    >\n      confirm remove\n    </button>\n  </ng-template>\n</mat-menu>\n\n<mat-menu #constrain=\"matMenu\" xPosition=\"before\">\n  <ng-template matMenuContent let-data=\"data\">\n    <mat-card\n      (click)=\"$event.stopPropagation()\"\n      (keypress)=\"$event.stopPropagation()\"\n    >\n      <mat-card-content\n        (click)=\"$event.stopPropagation()\"\n        (keypress)=\"$event.stopPropagation()\"\n        class=\"constrain-mat-content\"\n      >\n        <div\n          class=\"constrain-mat-content-dual\"\n          (click)=\"$event.stopPropagation()\"\n          (keypress)=\"$event.stopPropagation()\"\n        >\n          <app-lito-color-picker\n            [colors]=\"tableConfigurations?.rowStyleColors\"\n            (result)=\"\n              changeConstrainState($event, data.constrain, 'background-color')\n            \"\n            content=\"Background\"\n          ></app-lito-color-picker>\n          <app-lito-color-picker\n            [colors]=\"tableConfigurations?.rowStyleColors\"\n            (result)=\"changeConstrainState($event, data.constrain, 'color')\"\n            content=\"Foreground\"\n          ></app-lito-color-picker>\n        </div>\n        <div\n          [style]=\"{\n            color: data.constrain.style['color'],\n            'background-color': data.constrain.style['background-color'],\n            'margin-bottom': '1rem',\n            'text-align': 'center',\n            padding: '0.5rem 0',\n            width: '100%'\n          }\"\n        >\n          {{ data.constrain.values[0] }}\n        </div>\n        <mat-button-toggle-group\n          name=\"fontStyle\"\n          aria-label=\"Font Style\"\n          (click)=\"$event.stopPropagation()\"\n          value=\"{{ data.constrain.type }}\"\n          (change)=\"\n            changeConstrainState($event, data.constrain, 'number-type', false)\n          \"\n        >\n          <mat-button-toggle value=\"1\">=</mat-button-toggle>\n          <mat-button-toggle value=\"2\">{{ \"\\>\" }}</mat-button-toggle>\n          <mat-button-toggle value=\"3\">{{ \"\\<\" }}</mat-button-toggle>\n          <mat-button-toggle value=\"4\">{{ \"\\<\\>\" }}</mat-button-toggle>\n        </mat-button-toggle-group>\n        <div\n          *ngIf=\"data.constrain.type != numberConstrainType.BETWEEN\"\n          (click)=\"$event.stopPropagation()\"\n          (keydown)=\"$event.stopPropagation()\"\n          (keypress)=\"$event.stopPropagation()\"\n          style=\"display: flex; justify-content: space-between\"\n        >\n          <mat-form-field\n            style=\"width: 100%\"\n            appearance=\"fill\"\n            (click)=\"$event.stopPropagation()\"\n            (keypress)=\"$event.stopPropagation()\"\n            (keydown)=\"$event.stopPropagation()\"\n          >\n            <mat-label (click)=\"$event.stopPropagation()\">VALOR</mat-label>\n            <input\n              type=\"number\"\n              step=\"100\"\n              (keydown)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              (click)=\"$event.stopPropagation()\"\n              (change)=\"\n                $event.stopPropagation();\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value',\n                  false\n                )\n              \"\n              (keyup)=\"\n                $event.stopPropagation();\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value',\n                  false\n                )\n              \"\n              matInput\n              placeholder=\"\"\n              value=\"{{ data.constrain.values[0] }}\"\n            />\n          </mat-form-field>\n        </div>\n        <!-- BETWEEN -->\n        <div\n          *ngIf=\"data.constrain.type == numberConstrainType.BETWEEN\"\n          (click)=\"$event.stopPropagation()\"\n          (keypress)=\"$event.stopPropagation()\"\n          (keydown)=\"$event.stopPropagation()\"\n          style=\"max-width: fit-content; display: flow-root\"\n        >\n          <mat-form-field\n            style=\"max-width: 45%; float: left\"\n            appearance=\"fill\"\n            (click)=\"$event.stopPropagation()\"\n            (keypress)=\"$event.stopPropagation()\"\n            (keydown)=\"$event.stopPropagation()\"\n          >\n            <mat-label (click)=\"$event.stopPropagation()\">DESDE</mat-label>\n            <input\n              type=\"number\"\n              (click)=\"$event.stopPropagation()\"\n              (keydown)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              (change)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value1',\n                  false\n                )\n              \"\n              (keyup)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value1',\n                  false\n                )\n              \"\n              matInput\n              placeholder=\"\"\n              value=\"{{ data.constrain.values[0] }}\"\n            />\n          </mat-form-field>\n          <mat-form-field\n            style=\"max-width: 45%; float: right\"\n            appearance=\"fill\"\n            (click)=\"$event.stopPropagation()\"\n            (keypress)=\"$event.stopPropagation()\"\n            (keydown)=\"$event.stopPropagation()\"\n          >\n            <mat-label\n              (click)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              >HASTA</mat-label\n            >\n            <input\n              type=\"number\"\n              step=\"100\"\n              (change)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value2',\n                  false\n                )\n              \"\n              (click)=\"$event.stopPropagation()\"\n              (keydown)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              (keyup)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value2',\n                  false\n                )\n              \"\n              matInput\n              placeholder=\"\"\n              value=\"{{ data.constrain.values[1] }}\"\n            />\n          </mat-form-field>\n        </div>\n      </mat-card-content>\n    </mat-card>\n  </ng-template>\n</mat-menu>\n\n<!-- sidenav-menu -->\n<ng-template #sidenavMenu>\n  <div style=\"padding: 1rem\">\n    <h2>\n      <span *ngIf=\"_confirmation == 'single'\">\n        {{\n          rowConfirmation\n            ? rowConfirmation?.confirmationData?.title\n            : \"Confirmacion\"\n        }}\n      </span>\n      <span *ngIf=\"_confirmation == 'multiple'\">\n        {{\n          generalConfirmation\n            ? generalConfirmation?.confirmationData?.title\n            : \"Confirmacion\"\n        }}\n      </span>\n    </h2>\n    <p>\n      <span *ngIf=\"_confirmation == 'single'\">\n        {{ rowConfirmation?.confirmationData?.content }}\n      </span>\n      <span *ngIf=\"_confirmation == 'multiple'\">\n        {{ generalConfirmation?.confirmationData?.content }}\n      </span>\n    </p>\n\n    <button\n      mat-raised-button\n      color=\"primary\"\n      style=\"margin-right: 0.5rem\"\n      (click)=\"\n        drawer.toggle();\n        _confirmation == 'single'\n          ? onRowActionClick(rowConfirmation?.row, rowConfirmation!.action)\n          : onGeneralActionClick(generalConfirmation!.action)\n      \"\n    >\n      accept\n    </button>\n    <button mat-raised-button color=\"warn\" (click)=\"drawer.toggle()\">\n      cancel\n    </button>\n  </div>\n</ng-template>\n", styles: [".litotable-main-container{width:100%;display:flex;flex-direction:row}.litotable-container{width:100%}.litotable-operations{width:0%;transition:.5s all}.litotable-operations.growed{width:50%;margin-left:1rem}table{width:100%;max-width:100%;max-height:100%}.table-responsive{overflow:auto;min-height:.01%}.table-container{padding:1rem 1rem 0}.mat-cell>div{padding:0 10px!important;width:max-content!important}.mat-header-row .mat-header-cell{padding:0 .5rem}.mat-row{transition:.3s all}.mat-header-row .mat-header-cell.header-borders{border-right:1px solid rgba(0,0,0,.12)}.mat-header-row .mat-header-cell.header-borders:nth-child(2){border-left:1px solid rgba(0,0,0,.12)}.mat-row .mat-cell.cell-borders{border-right:1px solid rgba(0,0,0,.12)}.mat-row .mat-cell.cell-borders:nth-child(2){border-left:1px solid rgba(0,0,0,.12)}.mat-row .mat-cell{border-bottom:1px solid transparent;border-top:1px solid transparent}.mat-row.mat-row-borders:hover .mat-cell,.mat-row.mat-row-selected-borders .mat-cell{border-bottom:1px dashed currentColor;border-top:1px dashed currentColor}.mat-row.mat-row-shadow:hover .mat-cell,.mat-row.mat-row-selected-shadow .mat-cell{background-color:#0000000d}.row-is-selected{filter:brightness(1.2) contrast(.8)}.mat-column-selection{overflow:initial}.mat-header-cell{border-top-width:1px;border-top-color:#0000001f;background-color:#00000005;border-top-style:solid}th.mat-column-selection.mat-header-cell:first-of-type,td.mat-column-selection.mat-cell:first-of-type,td.mat-column-selection.mat-footer-cell:first-of-type{padding-left:10px;padding-right:10px;width:20px}.table-top-container,.table-bottom-container{display:flex}.table-top-container{justify-content:flex-end}.table-bottom-container mat-paginator{flex-grow:1}.table-operations mat-expansion-panel{margin:1rem 0}::ng-deep .column-content-alignment-1>div{text-align:left}::ng-deep .column-content-alignment-2>div{text-align:center}::ng-deep .column-content-alignment-3>div{text-align:right}.operation-buttons-container{display:flex;flex-direction:row;justify-content:flex-start}.operation-buttons-container>div{margin:0 .5rem}.constrain-mat-content>*{width:100%}.constrain-mat-content>mat-button-toggle-group{margin-bottom:1rem}.constrain-mat-content>mat-button-toggle-group>*{width:25%}.constrain-mat-content .constrain-mat-content-dual{display:flex;width:100%;justify-content:space-between;margin-bottom:1rem}.constrain-mat-content .constrain-mat-content-dual>*{width:45%}.group-header{height:2rem}.group-header>*{border-bottom:none;border-right:1px solid rgba(0,0,0,.12);border-left:1px solid rgba(0,0,0,.12);text-align:center}.group-header-empty{border-right:none!important;border-left:none!important}.cdk-drag-preview{box-sizing:border-box;padding:1rem;position:relative}.cdk-drag-preview:after{content:\"\";position:absolute;top:0;bottom:0;left:5px;right:5px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder{color:transparent;position:relative;transition:transform .25s cubic-bezier(0,0,.2,1)}.actions-td,.actions-th{position:sticky;right:0;border-left:1px solid rgba(0,0,0,.12);background:white!important}.actions-td>div{display:flex;flex-direction:row;height:100%}.mat-row-processing:after{background:linear-gradient(110deg,rgba(225,225,225,.5) 8%,rgba(255,255,255,.8) 18%,rgba(225,225,225,.5) 33%);opacity:.5;background-size:200% 100%;animation:1.5s shine linear infinite;cursor:not-allowed;position:absolute;left:0;content:\"\";width:100%;height:inherit}.mat-row-processing>*:not(:last-child){color:#d3d3d3!important;border-right:0px solid!important;border-left:0px solid!important}@keyframes shine{to{background-position-x:-200%}}.footercell{width:100%;border-radius:0 0 3px 3px}.mat-row.deletion-row{transition:all 1s ease!important;height:0px}\n"], components: [{ type: i2.MatExpansionPanel, selector: "mat-expansion-panel", inputs: ["disabled", "expanded", "hideToggle", "togglePosition"], outputs: ["opened", "closed", "expandedChange", "afterExpand", "afterCollapse"], exportAs: ["matExpansionPanel"] }, { type: i2.MatExpansionPanelHeader, selector: "mat-expansion-panel-header", inputs: ["tabIndex", "expandedHeight", "collapsedHeight"] }, { type: i3.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i4.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i5.MatDrawerContainer, selector: "mat-drawer-container", inputs: ["autosize", "hasBackdrop"], outputs: ["backdropClick"], exportAs: ["matDrawerContainer"] }, { type: i5.MatDrawer, selector: "mat-drawer", inputs: ["position", "mode", "disableClose", "autoFocus", "opened"], outputs: ["openedChange", "opened", "openedStart", "closed", "closedStart", "positionChanged"], exportAs: ["matDrawer"] }, { type: i5.MatDrawerContent, selector: "mat-drawer-content" }, { type: i6.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { type: i7.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "id", "labelPosition", "name", "required", "checked", "disabled", "indeterminate", "aria-describedby", "value"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i8.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "arrowPosition", "sortActionDescription", "disableClear", "mat-sort-header", "start"], exportAs: ["matSortHeader"] }, { type: i6.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { type: i6.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { type: i9.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { type: i10.MatProgressBar, selector: "mat-progress-bar", inputs: ["color", "mode", "value", "bufferValue"], outputs: ["animationEnd"], exportAs: ["matProgressBar"] }, { type: i11.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i11.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { type: i12.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }, { type: i13.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex", "name", "id", "labelPosition", "aria-label", "aria-labelledby", "required", "checked", "aria-describedby"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }, { type: i14.ConstrainCreatorComponent, selector: "litotable-constrain-creator", inputs: ["columns"], outputs: ["result-constrain"] }, { type: i15.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i16.LitoColorPickerComponent, selector: "app-lito-color-picker", inputs: ["colors", "content"], outputs: ["result", "newColorArray"] }, { type: i17.MatButtonToggle, selector: "mat-button-toggle", inputs: ["disableRipple", "aria-labelledby", "tabIndex", "appearance", "checked", "disabled", "id", "name", "aria-label", "value"], outputs: ["change"], exportAs: ["matButtonToggle"] }, { type: i18.MatFormField, selector: "mat-form-field", inputs: ["color", "floatLabel", "appearance", "hideRequiredMarker", "hintLabel"], exportAs: ["matFormField"] }], directives: [{ type: i2.MatAccordion, selector: "mat-accordion", inputs: ["multi", "displayMode", "togglePosition", "hideToggle"], exportAs: ["matAccordion"] }, { type: i2.MatExpansionPanelTitle, selector: "mat-panel-title" }, { type: i11.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i19.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i19.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i20.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i19.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i19.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i8.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortStart", "matSortDirection", "matSortDisableClear", "matSortActive"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { type: i6.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { type: i6.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { type: i6.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { type: i6.MatCellDef, selector: "[matCellDef]" }, { type: i6.MatCell, selector: "mat-cell, td[mat-cell]" }, { type: i6.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { type: i6.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { type: i6.MatNoDataRow, selector: "ng-template[matNoDataRow]" }, { type: i11.MatMenuContent, selector: "ng-template[matMenuContent]" }, { type: i15.MatCardContent, selector: "mat-card-content, [mat-card-content], [matCardContent]" }, { type: i17.MatButtonToggleGroup, selector: "mat-button-toggle-group", inputs: ["appearance", "name", "vertical", "value", "multiple", "disabled"], outputs: ["valueChange", "change"], exportAs: ["matButtonToggleGroup"] }, { type: i18.MatLabel, selector: "mat-label" }, { type: i21.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["id", "disabled", "required", "type", "value", "readonly", "placeholder", "errorStateMatcher", "aria-describedby"], exportAs: ["matInput"] }], pipes: { "number": i19.DecimalPipe, "date": i19.DatePipe, "currency": i19.CurrencyPipe, "cuit": i22.CuitPipe, "phone": i23.PhonePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: LitotableComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lito-table',
                    templateUrl: './lito-table.component.html',
                    styleUrls: ['./lito-table.component.css'],
                }]
        }], ctorParameters: function () { return [{ type: i1.LiveAnnouncer }]; }, propDecorators: { paginator: [{
                type: ViewChild,
                args: [MatPaginator]
            }], inputSource: [{
                type: Input,
                args: ['source']
            }], dataType: [{
                type: Input,
                args: ['type']
            }], tableActionsConfig: [{
                type: Input,
                args: ['tableActionsConfig']
            }], selection: [{
                type: Input,
                args: ['selection']
            }], tableConfigurations: [{
                type: Input,
                args: ['configurations']
            }], fieldConstrians: [{
                type: Input,
                args: ['fieldConstrians']
            }], sort: [{
                type: ViewChild,
                args: [MatSort]
            }], drawer: [{
                type: ViewChild,
                args: [MatDrawer]
            }], multipleActionOutput: [{
                type: Output,
                args: ['multipleActionOutput']
            }], singleActionOutput: [{
                type: Output,
                args: ['singleActionOutput']
            }] } });
export class DisplayedColumns {
    constructor(columns = [], selectable = false, actionsColumn = false) {
        this.columns = columns;
        this.columnNames = columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        this.columnTypes = columns.map((x) => x.type);
        this.selectable = selectable;
        this.actionColumn = actionsColumn;
        if (selectable)
            this.columnNames.unshift('selection');
        if (actionsColumn)
            this.columnNames.push('actions');
        this.columnGroups = new ColumnGroups(columns.length);
    }
    changeColumnVisivility(column) {
        this.columns.filter((c) => c == column)[0].visible = !column.visible;
        this.columnNames = this.columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        if (this.selectable)
            this.columnNames.unshift('selection');
        if (this.actionColumn)
            this.columnNames.push('actions');
        this.updateGroups();
    }
    updateVisivility() {
        this.columnNames = this.columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        if (this.selectable)
            this.columnNames.unshift('selection');
        if (this.actionColumn)
            this.columnNames.push('actions');
        this.updateGroups();
    }
    updateGroups() {
        this.columnGroups.updateColumns(this.columns.filter((c) => c.visible == true));
    }
    allVisible() {
        this.columns.forEach((c) => (c.visible = true));
        this.columnNames = this.columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        if (this.selectable)
            this.columnNames.unshift('selection');
        if (this.actionColumn)
            this.columnNames.push('actions');
    }
}
export class GroupColumn {
    constructor(name) {
        this.columns = [];
        this.count = 0;
        this.start = 0;
        this.colspan = 1;
        this.name = name;
        this.checked = this.checkState();
    }
    updateColspan() {
        let groupData = this.columns
            .filter((x) => x.visible)
            .sort((a, b) => a.order - b.order);
        this.colspan = groupData.length;
        if (groupData.length != 0)
            this.start = groupData[0].order;
        this.checked = this.checkState();
    }
    addColumn(c) {
        this.columns.push(c);
        this.updateColspan();
    }
    toogleVisibbility(state) {
        for (const c of this.columns) {
            c.visible = state;
        }
    }
    checkState() {
        return this.columns.some((x) => x.visible);
    }
}
export class ColumnGroups {
    constructor(length) {
        this.active = false;
        this.groupColumns = [];
        this.displayNames = [];
        this.size = 0;
        this.displayNames = new Array(length).fill('empty-group');
    }
    updateColumns(visibleColumns) {
        this.displayNames = new Array(visibleColumns.length).fill('empty-group');
        this.groupColumns.forEach((e) => e.updateColspan());
        let deletion = 0;
        for (let i = 0; i < this.groupColumns.length; i++) {
            const element = this.groupColumns[i];
            const firstVisible = element.columns.filter((y) => y.visible)[0];
            if (element.colspan != 0) {
                let index = visibleColumns.findIndex((x) => x.propertyKey == firstVisible.propertyKey);
                this.displayNames.splice(1 + index - deletion, element.colspan, element.name);
                deletion += element.colspan - 1;
            }
        }
        /*
        this.displayNames = visibleColumns
          .reduce(
            (a, c) => {
              const includes = this.groupColumns.some((x) => x.columns.includes(c));
              let str = '';
              this.groupColumns.forEach((gc) => {
                if (gc.columns.includes(c)) {
                  str = gc.name;
                }
              });
              a.push(includes ? str : 'empty-group');
              return a;
            },
            ['empty-group']
          )
          .reduce(
            (a, c) => {
              if (c == 'empty-group' || !a.includes(c)) {
                a.push(c);
              }
              return a;
            },
            ['empty-group']
          );
        */
        this.displayNames.unshift();
    }
}
export class RowConstrain {
    constructor(name, _constrain) {
        this.name = name;
        this._constrain = _constrain;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl0by10YWJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9saXRvLXRhYmxlL3NyYy9saWIvbGl0by10YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9saXRvLXRhYmxlL3NyYy9saWIvbGl0by10YWJsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBRUwsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxFQUNOLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDM0QsT0FBTyxFQUFFLE9BQU8sRUFBUSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdELE9BQU8sa0JBQWtCLENBQUM7QUFFMUIsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNsQyxPQUFPLEVBR0wsc0JBQXNCLEdBQ3ZCLE1BQU0seUNBQXlDLENBQUM7QUFDakQsT0FBTyxFQU9MLGNBQWMsR0FDZixNQUFNLG1DQUFtQyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQXVCLE1BQU0sK0JBQStCLENBQUM7QUFDaEYsT0FBTyxFQUFlLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU90RCxNQUFNLE9BQU8sa0JBQWtCO0lBMkM3QixZQUFvQixjQUE2QjtRQUE3QixtQkFBYyxHQUFkLGNBQWMsQ0FBZTtRQTFDakQsV0FBVztRQUNYLGdCQUFXLEdBQUcsVUFBVSxDQUFDO1FBQ3pCLG1CQUFjLEdBQUcsY0FBYyxDQUFDO1FBRWhDLFlBQU8sR0FBYSxF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SUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDL0IsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGl2ZUFubm91bmNlciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9hMTF5JztcbmltcG9ydCB7IFNlbGVjdGlvbk1vZGVsIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvbGxlY3Rpb25zJztcbmltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRQYWdpbmF0b3IgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9wYWdpbmF0b3InO1xuaW1wb3J0IHsgTWF0U29ydCwgU29ydCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NvcnQnO1xuaW1wb3J0IHsgTWF0VGFibGVEYXRhU291cmNlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvdGFibGUnO1xuaW1wb3J0ICdyZWZsZWN0LW1ldGFkYXRhJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJy4vY29sdW1uJztcbmltcG9ydCB7XG4gIENvbnN0cmFpbixcbiAgRmllbGRDb25zdHJpYW5TdHlsZSxcbiAgTWVzdXJhYmxlQ29uc3RyYWluVHlwZSxcbn0gZnJvbSAnLi9jb25maWd1cmF0aW9ucy9maWVsZENvbnN0cmlhbnMuY29uZmlnJztcbmltcG9ydCB7XG4gIExpdG9HZW5lcmFsQWN0aW9uLFxuICBMaXRvR2VuZXJhbEFjdGlvbkNvbmZpcm1hdGlvbixcbiAgTGl0b1Jvd0FjdGlvbixcbiAgTGl0b1Jvd0FjdGlvbkNvbmZpcm1hdGlvbixcbiAgVGFibGVBY3Rpb25zQ29uZmlnLFxuICBUYWJsZUNvbmZpZ3VyYXRpb25zLFxuICBUYWJsZU9wZXJhdGlvbixcbn0gZnJvbSAnLi9jb25maWd1cmF0aW9ucy9saXRvdGFibGUuY29uZmlnJztcbmltcG9ydCB7IENvbHVtblR5cGUsIFRhYmxlQ29sdW1uTWV0YWRhdGEgfSBmcm9tICcuL2RlY29yYXRvcnMvY29sdW1uLmRlY29yYXRvcic7XG5pbXBvcnQgeyBDZGtEcmFnRHJvcCwgbW92ZUl0ZW1JbkFycmF5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2RyYWctZHJvcCc7XG5pbXBvcnQgeyBNYXREcmF3ZXIgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9zaWRlbmF2JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGl0by10YWJsZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9saXRvLXRhYmxlLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbGl0by10YWJsZS5jb21wb25lbnQuY3NzJ10sXG59KVxuZXhwb3J0IGNsYXNzIExpdG90YWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XG4gIC8qIEVudW1zICovXG4gIGNvbHVtblR5cGVzID0gQ29sdW1uVHlwZTtcbiAgb3BlcmF0aW9uVHlwZXMgPSBUYWJsZU9wZXJhdGlvbjtcblxuICBjb2x1bW5zOiBDb2x1bW5bXSA9IFtdO1xuICBudW1iZXJDb25zdHJhaW5UeXBlID0gTWVzdXJhYmxlQ29uc3RyYWluVHlwZTtcbiAgZGlzcGxheWVkQ29sdW1uczogRGlzcGxheWVkQ29sdW1ucyA9IG5ldyBEaXNwbGF5ZWRDb2x1bW5zKCk7XG4gIHJvd0NvbnN0cmFpbnM6IFJvd0NvbnN0cmFpbltdID0gW107XG4gIGRhdGFTb3VyY2UgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlKCk7XG4gIGZldGNoaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHNlbGVjdGVkUm93cyA9IG5ldyBTZXQoKTtcbiAgY29uc3RyYWluZWRSb3dzID0gbmV3IFNldCgpO1xuICBzaG93U2VsZWN0ZWRPbmx5OiBib29sZWFuID0gZmFsc2U7XG4gIGNyZWF0aW9uRm9ybU9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgcm93Q29uZmlybWF0aW9uPzoge1xuICAgIGNvbmZpcm1hdGlvbkRhdGE6IExpdG9Sb3dBY3Rpb25Db25maXJtYXRpb247XG4gICAgcm93OiBhbnk7XG4gICAgYWN0aW9uOiBMaXRvUm93QWN0aW9uO1xuICB9O1xuICBnZW5lcmFsQ29uZmlybWF0aW9uPzoge1xuICAgIGNvbmZpcm1hdGlvbkRhdGE6IExpdG9HZW5lcmFsQWN0aW9uQ29uZmlybWF0aW9uO1xuICAgIGFjdGlvbjogTGl0b0dlbmVyYWxBY3Rpb247XG4gIH07XG4gIF9jb25maXJtYXRpb246IHN0cmluZyA9ICdtdWx0aXBsZSc7XG5cbiAgQFZpZXdDaGlsZChNYXRQYWdpbmF0b3IpIHBhZ2luYXRvciE6IE1hdFBhZ2luYXRvcjtcbiAgQElucHV0KCdzb3VyY2UnKSBpbnB1dFNvdXJjZSE6IE9ic2VydmFibGU8YW55W10+O1xuICBASW5wdXQoJ3R5cGUnKSBkYXRhVHlwZSE6IE9iamVjdDtcbiAgQElucHV0KCd0YWJsZUFjdGlvbnNDb25maWcnKSB0YWJsZUFjdGlvbnNDb25maWc/OiBUYWJsZUFjdGlvbnNDb25maWc7XG4gIEBJbnB1dCgnc2VsZWN0aW9uJykgc2VsZWN0aW9uITogYm9vbGVhbjtcbiAgQElucHV0KCdjb25maWd1cmF0aW9ucycpIHRhYmxlQ29uZmlndXJhdGlvbnM/OiBUYWJsZUNvbmZpZ3VyYXRpb25zO1xuICBASW5wdXQoJ2ZpZWxkQ29uc3RyaWFucycpIGZpZWxkQ29uc3RyaWFuczogRmllbGRDb25zdHJpYW5TdHlsZVtdID0gW107XG4gIEBWaWV3Q2hpbGQoTWF0U29ydCkgc29ydCE6IE1hdFNvcnQ7XG4gIEBWaWV3Q2hpbGQoTWF0RHJhd2VyKSBkcmF3ZXIhOiBNYXREcmF3ZXI7XG4gIEBPdXRwdXQoJ211bHRpcGxlQWN0aW9uT3V0cHV0JykgbXVsdGlwbGVBY3Rpb25PdXRwdXQ6IEV2ZW50RW1pdHRlcjx7XG4gICAgb3BlcmF0aW9uOiBMaXRvR2VuZXJhbEFjdGlvbjtcbiAgICBkYXRhOiBTZXQ8YW55PjtcbiAgfT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoJ3NpbmdsZUFjdGlvbk91dHB1dCcpIHNpbmdsZUFjdGlvbk91dHB1dDogRXZlbnRFbWl0dGVyPHtcbiAgICBvcGVyYXRpb246IExpdG9Sb3dBY3Rpb247XG4gICAgZGF0YTogYW55O1xuICB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfbGl2ZUFubm91bmNlcjogTGl2ZUFubm91bmNlcikge31cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldENvbHVtbnMoKTtcbiAgICBpZiAodGhpcy5pbnB1dFNvdXJjZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZmV0Y2hpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5pbnB1dFNvdXJjZS5zdWJzY3JpYmUoKGRhdG9zOiBhbnlbXSkgPT4ge1xuICAgICAgICB0aGlzLmZldGNoaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9IG5ldyBNYXRUYWJsZURhdGFTb3VyY2UoZGF0b3MpO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2UucGFnaW5hdG9yID0gdGhpcy5wYWdpbmF0b3I7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0ID0gdGhpcy5zb3J0O1xuICAgICAgICB0aGlzLnNldFJvd3NDb25zdHJhaW5zKGRhdG9zKTtcbiAgICAgICAgdGhpcy50YWJsZUFjdGlvbnNDb25maWc/LnVwZGF0ZVBlcm1vcm1hYmxlU3RhdGUodGhpcy5zZWxlY3RlZFJvd3MpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjOiBhbnlbXSA9IFtdO1xuICAgICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZShjKTtcbiAgICB9XG4gICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xuICB9XG5cbiAgcGFyc2VEYXRlKGlucHV0OiBEYXRlKTogc3RyaW5nIHtcbiAgICByZXR1cm4gaW5wdXQudG9KU09OKCk7XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xuICB9XG5cbiAgYW5ub3VuY2VTb3J0Q2hhbmdlKHNvcnRTdGF0ZTogU29ydCkge1xuICAgIGlmIChzb3J0U3RhdGUuZGlyZWN0aW9uKSB7XG4gICAgICB0aGlzLl9saXZlQW5ub3VuY2VyLmFubm91bmNlKGBTb3J0ZWQgJHtzb3J0U3RhdGUuZGlyZWN0aW9ufWVuZGluZ2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saXZlQW5ub3VuY2VyLmFubm91bmNlKCdTb3J0aW5nIGNsZWFyZWQnKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVGaWVsZHNUb1Jvd3NDb25zdHJhaW5zKCkge1xuICAgIGlmICh0aGlzLmZpZWxkQ29uc3RyaWFucykge1xuICAgICAgdGhpcy5yb3dDb25zdHJhaW5zID0gdGhpcy5maWVsZENvbnN0cmlhbnMubWFwKCh4KSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUm93Q29uc3RyYWluKHgucHJvcGVydHlLZXksIHguY29uc3RyYWluKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHNldFJvd3NDb25zdHJhaW5zKHNvdXJjZTogYW55W10pIHtcbiAgICB0aGlzLnVwZGF0ZUZpZWxkc1RvUm93c0NvbnN0cmFpbnMoKTtcbiAgICBzb3VyY2UuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5yb3dDb25zdHJhaW5zLmZvckVhY2goKHJjKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudFtyYy5uYW1lXTtcbiAgICAgICAgaWYgKHJjLl9jb25zdHJhaW4udHJpZ2dlcih2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAocmMuX2NvbnN0cmFpbi5lbmFibGUpIHtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFsncm93U3R5bGUnXSkge1xuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ3Jvd1N0eWxlJywge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdHlsZTogcmMuX2NvbnN0cmFpbi5zdHlsZSB9LFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudFsncm93U3R5bGUnXSkge1xuICAgICAgICAgICAgICBlbGVtZW50Wydyb3dTdHlsZSddLnN0eWxlID0ge1xuICAgICAgICAgICAgICAgIC4uLmVsZW1lbnRbJ3Jvd1N0eWxlJ10uc3R5bGUsXG4gICAgICAgICAgICAgICAgLi4ucmMuX2NvbnN0cmFpbi5zdHlsZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWluZWRSb3dzLmFkZChlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUm93Q29uc3RyYWlucygpIHtcbiAgICB0aGlzLmNvbnN0cmFpbmVkUm93cyA9IG5ldyBTZXQoKTtcblxuICAgIGNvbnN0IHNvdXJjZTogYW55W10gPSB0aGlzLmRhdGFTb3VyY2UuZGF0YTtcbiAgICBzb3VyY2UuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5yb3dDb25zdHJhaW5zLmZvckVhY2goKHJjKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZWxlbWVudFtyYy5uYW1lXTtcbiAgICAgICAgaWYgKHJjLl9jb25zdHJhaW4udHJpZ2dlcih2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAocmMuX2NvbnN0cmFpbi5lbmFibGUpIHtcbiAgICAgICAgICAgIGlmICghZWxlbWVudFsncm93U3R5bGUnXSkge1xuICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ3Jvd1N0eWxlJywge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdHlsZTogcmMuX2NvbnN0cmFpbi5zdHlsZSB9LFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudFsncm93U3R5bGUnXSkge1xuICAgICAgICAgICAgICBlbGVtZW50Wydyb3dTdHlsZSddLnN0eWxlID0ge1xuICAgICAgICAgICAgICAgIC4uLmVsZW1lbnRbJ3Jvd1N0eWxlJ10uc3R5bGUsXG4gICAgICAgICAgICAgICAgLi4ucmMuX2NvbnN0cmFpbi5zdHlsZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWluZWRSb3dzLmFkZChlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaGFzQ29uc3RyYWluKHByb3BlcnR5S2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgaWYgKHRoaXMucm93Q29uc3RyYWlucy5sZW5ndGggIT0gMCkge1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc2V0Q29sdW1ucygpIHtcbiAgICBjb25zdCBjb2x1bW5zTWV0YWRhdGE6IGFueVtdID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcbiAgICAgICdjb2x1bW5zTWV0YWRhdGEnLFxuICAgICAgdGhpcy5kYXRhVHlwZVxuICAgICk7XG5cbiAgICBsZXQgY29sdW1uR3JvdXBzOiBDb2x1bW5Hcm91cHMgPSBuZXcgQ29sdW1uR3JvdXBzKDApO1xuXG4gICAgaWYgKGNvbHVtbnNNZXRhZGF0YSAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnNNZXRhZGF0YS5tYXAoXG4gICAgICAgIChjOiB7IHByb3BlcnR5S2V5OiBzdHJpbmc7IG1ldGFkYXRhOiBUYWJsZUNvbHVtbk1ldGFkYXRhIH0sIGkpID0+IHtcbiAgICAgICAgICBsZXQgY29sdW1uID0gbmV3IENvbHVtbihcbiAgICAgICAgICAgIGMucHJvcGVydHlLZXksXG4gICAgICAgICAgICBjLnByb3BlcnR5S2V5LFxuICAgICAgICAgICAgQ29sdW1uVHlwZS5TVFJJTkcsXG4gICAgICAgICAgICBjLm1ldGFkYXRhLm9yZGVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb2x1bW4udmlzaWJsZSA9XG4gICAgICAgICAgICBjLm1ldGFkYXRhLnZpc2libGUgPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGMubWV0YWRhdGEudmlzaWJsZTtcbiAgICAgICAgICBjb2x1bW4ubmFtZSA9IGMubWV0YWRhdGEuY29sdW1uTmFtZSB8fCBjLnByb3BlcnR5S2V5O1xuICAgICAgICAgIGNvbHVtbi50eXBlID0gYy5tZXRhZGF0YS50eXBlIHx8IENvbHVtblR5cGUuU1RSSU5HO1xuICAgICAgICAgIGNvbHVtbi5mb3JtYXQgPSBjLm1ldGFkYXRhLmZvcm1hdCB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgY29sdW1uLmNvbnRlbnRBbGlnbiA9IGMubWV0YWRhdGEuY29udGVudEFsaWduIHx8IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGNvbnN0IHN0ciA9IGMubWV0YWRhdGEuY29sdW1uR3JvdXA/Lm5hbWU7XG4gICAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb2x1bW5Hcm91cHMuZ3JvdXBDb2x1bW5zLmZpbHRlcigoeCkgPT4geC5uYW1lID09IHN0cikubGVuZ3RoID09IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBsZXQgbmV3Q29sR3JvdXAgPSBuZXcgR3JvdXBDb2x1bW4oc3RyKTtcbiAgICAgICAgICAgICAgbmV3Q29sR3JvdXAuYWRkQ29sdW1uKGNvbHVtbik7XG4gICAgICAgICAgICAgIGNvbHVtbkdyb3Vwcy5ncm91cENvbHVtbnMucHVzaChuZXdDb2xHcm91cCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb2x1bW5Hcm91cHMuZ3JvdXBDb2x1bW5zXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4geC5uYW1lID09IHN0cilbMF1cbiAgICAgICAgICAgICAgICAuYWRkQ29sdW1uKGNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB0aGlzLmNvbHVtbnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5vcmRlciEgLSBiLm9yZGVyITtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmRpc3BsYXllZENvbHVtbnMgPSBuZXcgRGlzcGxheWVkQ29sdW1ucyhcbiAgICAgIHRoaXMuY29sdW1ucyxcbiAgICAgIHRoaXMuc2VsZWN0aW9uLFxuICAgICAgdGhpcy50YWJsZUNvbmZpZ3VyYXRpb25zPy5hY3Rpb25zQ29sdW1uICE9IHVuZGVmaW5lZFxuICAgICk7XG4gICAgdGhpcy5kaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbkdyb3VwcyA9IGNvbHVtbkdyb3VwcztcbiAgICB0aGlzLmRpc3BsYXllZENvbHVtbnMudXBkYXRlR3JvdXBzKCk7XG4gIH1cblxuICBpc0FsbFNlbGVjdGVkKCkge1xuICAgIGNvbnN0IG51bVNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZFJvd3Muc2l6ZTtcbiAgICBjb25zdCBudW1Sb3dzID0gdGhpcy5kYXRhU291cmNlLmRhdGEubGVuZ3RoO1xuICAgIHJldHVybiBudW1TZWxlY3RlZCA9PSBudW1Sb3dzICYmIG51bVJvd3MgIT0gMDtcbiAgfVxuXG4gIG1hc3RlclRvZ2dsZSgpIHtcbiAgICB0aGlzLmlzQWxsU2VsZWN0ZWQoKVxuICAgICAgPyB0aGlzLnNlbGVjdGVkUm93cy5jbGVhcigpXG4gICAgICA6IHRoaXMuZGF0YVNvdXJjZS5kYXRhLmZvckVhY2goKHJvdykgPT4gdGhpcy5zZWxlY3RlZFJvd3MuYWRkKHJvdykpO1xuICB9XG5cbiAgc2VsZWN0aW9uVG9vZ2xlKHN0YXRlOiBib29sZWFuLCByb3c6IGFueSkge1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgdGhpcy5zZWxlY3RlZFJvd3MuYWRkKHJvdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cy5oYXMocm93KSkgdGhpcy5zZWxlY3RlZFJvd3MuZGVsZXRlKHJvdyk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRhYmxlQWN0aW9uc0NvbmZpZz8uYWN0aW9ucykge1xuICAgICAgdGhpcy50YWJsZUFjdGlvbnNDb25maWcudXBkYXRlUGVybW9ybWFibGVTdGF0ZSh0aGlzLnNlbGVjdGVkUm93cyk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlQ29uc3RyYWluU3RhdGUoXG4gICAgdmFsdWU6IGFueSxcbiAgICBkYXRhOiBDb25zdHJhaW4gfCBhbnksXG4gICAgZmllbGQ6IHN0cmluZyxcbiAgICBpc1N0eWxlOiBib29sZWFuID0gdHJ1ZVxuICApIHtcbiAgICBpZiAoaXNTdHlsZSAmJiBmaWVsZCAmJiBmaWVsZCAhPSAnJykge1xuICAgICAgZGF0YS5zdHlsZVtmaWVsZF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKCFpc1N0eWxlKSB7XG4gICAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICAgIGNhc2UgJ251bWJlci10eXBlJzpcbiAgICAgICAgICBkYXRhLnR5cGUgPSBwYXJzZUludCh2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlci12YWx1ZSc6XG4gICAgICAgIGNhc2UgJ251bWJlci12YWx1ZTEnOlxuICAgICAgICAgIGRhdGEudmFsdWVzWzBdID0gcGFyc2VJbnQodmFsdWUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyLXZhbHVlMic6XG4gICAgICAgICAgZGF0YS52YWx1ZXNbMV0gPSBwYXJzZUludCh2YWx1ZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVJvd0NvbnN0cmFpbnMoKTtcbiAgfVxuXG4gIGFkZENvbnN0cmFpbigkZXZlbnQ6IEZpZWxkQ29uc3RyaWFuU3R5bGUpIHtcbiAgICB0aGlzLmZpZWxkQ29uc3RyaWFucy5wdXNoKCRldmVudCk7XG4gICAgdGhpcy51cGRhdGVGaWVsZHNUb1Jvd3NDb25zdHJhaW5zKCk7XG4gICAgdGhpcy51cGRhdGVSb3dDb25zdHJhaW5zKCk7XG4gIH1cblxuICB1cGRhdGVWaXNpYmlsaXR5KCkge1xuICAgIHRoaXMudXBkYXRlRmllbGRzVG9Sb3dzQ29uc3RyYWlucygpO1xuICAgIHRoaXMudXBkYXRlUm93Q29uc3RyYWlucygpO1xuICB9XG5cbiAgcmVtb3ZlQ29uc3RyYWluKGNvbnN0cmFpbjogRmllbGRDb25zdHJpYW5TdHlsZSkge1xuICAgIHRoaXMuZmllbGRDb25zdHJpYW5zID0gdGhpcy5maWVsZENvbnN0cmlhbnMuZmlsdGVyKCh4KSA9PiB4ICE9IGNvbnN0cmFpbik7XG4gICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KCk7XG4gIH1cblxuICB0YWJsZURyb3AoZXZlbnQ6IENka0RyYWdEcm9wPHN0cmluZ1tdPikge1xuICAgIG1vdmVJdGVtSW5BcnJheShcbiAgICAgIHRoaXMuZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5OYW1lcyxcbiAgICAgIGV2ZW50LnByZXZpb3VzSW5kZXggKyAxLFxuICAgICAgZXZlbnQuY3VycmVudEluZGV4ICsgMVxuICAgICk7XG4gIH1cblxuICBvblJvd0FjdGlvbkNsaWNrKHJvdzogYW55LCBhY3Rpb246IExpdG9Sb3dBY3Rpb24pIHtcbiAgICBpZiAoXG4gICAgICBhY3Rpb24uYWN0aW9uUmVzdWx0LndpbGxVcGRhdGVSb3cgfHxcbiAgICAgIGFjdGlvbi5hY3Rpb25SZXN1bHQud2lsbERlbGV0ZVJvd1xuICAgICkge1xuICAgICAgcm93LnByb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5zaW5nbGVBY3Rpb25PdXRwdXQuZW1pdCh7XG4gICAgICAgIG9wZXJhdGlvbjogYWN0aW9uLFxuICAgICAgICBkYXRhOiByb3csXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVSb3cocm93OiBhbnksIG5ld1JvdzogYW55KSB7XG4gICAgbGV0IGluZHggPSB0aGlzLmRhdGFTb3VyY2UuZGF0YS5pbmRleE9mKHJvdyk7XG4gICAgaWYgKG5ld1Jvdykge1xuICAgICAgdGhpcy5kYXRhU291cmNlLmRhdGFbaW5keF0gPSBuZXdSb3c7XG4gICAgICAodGhpcy5kYXRhU291cmNlLmRhdGFbaW5keF0gYXMgYW55KS5wcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNlbGVjdGVkUm93cy5kZWxldGUodGhpcy5kYXRhU291cmNlLmRhdGFbaW5keF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGFTb3VyY2UuZGF0YS5zcGxpY2UoaW5keCwgMSk7XG4gICAgICByb3cucHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdGVkUm93cy5kZWxldGUocm93KTtcblxuICAgIHRoaXMuZGF0YVNvdXJjZS5fdXBkYXRlQ2hhbmdlU3Vic2NyaXB0aW9uKCk7XG4gICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KCk7XG4gIH1cblxuICBwZXJmb3JtRm9vdGVyQWN0aW9uKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMudGFibGVDb25maWd1cmF0aW9ucz8uZm9vdGVyQWN0aW9uPy5hY3Rpb25SZXN1bHQubm9uT2JzZXJ2YWJsZUFjdGlvblxuICAgICkge1xuICAgICAgdGhpcy50YWJsZUNvbmZpZ3VyYXRpb25zPy5mb290ZXJBY3Rpb24/LmFjdGlvblJlc3VsdC5ub25PYnNlcnZhYmxlQWN0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgcGVyZm9ybVJvd0FjdGlvbkNvbmZpcm1hdGlvbihcbiAgICBhY3Rpb246IExpdG9Sb3dBY3Rpb24sXG4gICAgcm93OiBhbnksXG4gICAgY29uZmlybWF0aW9uOiBMaXRvUm93QWN0aW9uQ29uZmlybWF0aW9uXG4gICkge1xuICAgIHRoaXMuX2NvbmZpcm1hdGlvbiA9ICdzaW5nbGUnO1xuICAgIHRoaXMucm93Q29uZmlybWF0aW9uID0ge1xuICAgICAgY29uZmlybWF0aW9uRGF0YTogY29uZmlybWF0aW9uLFxuICAgICAgcm93OiByb3csXG4gICAgICBhY3Rpb246IGFjdGlvbixcbiAgICB9O1xuICAgIGlmICh0aGlzLmRyYXdlcikge1xuICAgICAgdGhpcy5kcmF3ZXIub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIG9uR2VuZXJhbEFjdGlvbkNsaWNrKG9wZXJhdGlvbjogTGl0b0dlbmVyYWxBY3Rpb24pIHtcbiAgICB0aGlzLnBlcmZvcm1HZW5lcmFsQWN0aW9uKG9wZXJhdGlvbik7XG4gIH1cblxuICBwZXJmb3JtR2VuZXJhbEFjdGlvbihvcGVyYXRpb246IExpdG9HZW5lcmFsQWN0aW9uKSB7XG4gICAgdGhpcy5tdWx0aXBsZUFjdGlvbk91dHB1dC5lbWl0KHtcbiAgICAgIG9wZXJhdGlvbjogb3BlcmF0aW9uLFxuICAgICAgZGF0YTogdGhpcy5zZWxlY3RlZFJvd3MsXG4gICAgfSk7XG4gICAgaWYgKG9wZXJhdGlvbi5tdXN0TG9ja1Jvd3MpIHtcbiAgICAgIHRoaXMubG9ja1NlbGVjdGVkUm93cyh0aGlzLnNlbGVjdGVkUm93cyk7XG4gICAgfVxuICB9XG5cbiAgdW5Mb2NrUm93KHJvdzogYW55KSB7XG4gICAgcm93LnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgfVxuICBsb2NrU2VsZWN0ZWRSb3dzKHJvd3M6IFNldDxhbnk+KSB7XG4gICAgcm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHJvdy5wcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICB1bkxvY2tTZWxlY3RlZFJvd3Mocm93czogU2V0PGFueT4pIHtcbiAgICByb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgcm93LnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHBlcmZvcm1HZW5lcmFsQWN0aW9uQ29uZmlybWF0aW9uKG9wZXJhdGlvbjogTGl0b0dlbmVyYWxBY3Rpb24pIHtcbiAgICB0aGlzLl9jb25maXJtYXRpb24gPSAnbXVsdGlwbGUnO1xuICAgIHRoaXMuZ2VuZXJhbENvbmZpcm1hdGlvbiA9IHtcbiAgICAgIGNvbmZpcm1hdGlvbkRhdGE6IG9wZXJhdGlvbi5jb25maXJtYXRpb24hLFxuICAgICAgYWN0aW9uOiBvcGVyYXRpb24sXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmRyYXdlcikge1xuICAgICAgdGhpcy5kcmF3ZXIub3BlbigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlzcGxheWVkQ29sdW1ucyB7XG4gIGNvbHVtbnM6IENvbHVtbltdO1xuICBjb2x1bW5OYW1lczogc3RyaW5nW107XG4gIGNvbHVtblR5cGVzOiBDb2x1bW5UeXBlW107XG4gIHNlbGVjdGFibGU6IGJvb2xlYW47XG4gIGFjdGlvbkNvbHVtbjogYm9vbGVhbjtcbiAgY29sdW1uR3JvdXBzOiBDb2x1bW5Hcm91cHM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29sdW1uczogQ29sdW1uW10gPSBbXSxcbiAgICBzZWxlY3RhYmxlOiBib29sZWFuID0gZmFsc2UsXG4gICAgYWN0aW9uc0NvbHVtbjogYm9vbGVhbiA9IGZhbHNlXG4gICkge1xuICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgdGhpcy5jb2x1bW5OYW1lcyA9IGNvbHVtbnNcbiAgICAgIC5maWx0ZXIoKGMpID0+IGMudmlzaWJsZSA9PSB0cnVlKVxuICAgICAgLm1hcCgoeCkgPT4geC5uYW1lKTtcbiAgICB0aGlzLmNvbHVtblR5cGVzID0gY29sdW1ucy5tYXAoKHgpID0+IHgudHlwZSk7XG4gICAgdGhpcy5zZWxlY3RhYmxlID0gc2VsZWN0YWJsZTtcbiAgICB0aGlzLmFjdGlvbkNvbHVtbiA9IGFjdGlvbnNDb2x1bW47XG4gICAgaWYgKHNlbGVjdGFibGUpIHRoaXMuY29sdW1uTmFtZXMudW5zaGlmdCgnc2VsZWN0aW9uJyk7XG4gICAgaWYgKGFjdGlvbnNDb2x1bW4pIHRoaXMuY29sdW1uTmFtZXMucHVzaCgnYWN0aW9ucycpO1xuICAgIHRoaXMuY29sdW1uR3JvdXBzID0gbmV3IENvbHVtbkdyb3Vwcyhjb2x1bW5zLmxlbmd0aCk7XG4gIH1cblxuICBjaGFuZ2VDb2x1bW5WaXNpdmlsaXR5KGNvbHVtbjogQ29sdW1uKSB7XG4gICAgdGhpcy5jb2x1bW5zLmZpbHRlcigoYykgPT4gYyA9PSBjb2x1bW4pWzBdLnZpc2libGUgPSAhY29sdW1uLnZpc2libGU7XG4gICAgdGhpcy5jb2x1bW5OYW1lcyA9IHRoaXMuY29sdW1uc1xuICAgICAgLmZpbHRlcigoYykgPT4gYy52aXNpYmxlID09IHRydWUpXG4gICAgICAubWFwKCh4KSA9PiB4Lm5hbWUpO1xuICAgIGlmICh0aGlzLnNlbGVjdGFibGUpIHRoaXMuY29sdW1uTmFtZXMudW5zaGlmdCgnc2VsZWN0aW9uJyk7XG4gICAgaWYgKHRoaXMuYWN0aW9uQ29sdW1uKSB0aGlzLmNvbHVtbk5hbWVzLnB1c2goJ2FjdGlvbnMnKTtcbiAgICB0aGlzLnVwZGF0ZUdyb3VwcygpO1xuICB9XG5cbiAgdXBkYXRlVmlzaXZpbGl0eSgpIHtcbiAgICB0aGlzLmNvbHVtbk5hbWVzID0gdGhpcy5jb2x1bW5zXG4gICAgICAuZmlsdGVyKChjKSA9PiBjLnZpc2libGUgPT0gdHJ1ZSlcbiAgICAgIC5tYXAoKHgpID0+IHgubmFtZSk7XG4gICAgaWYgKHRoaXMuc2VsZWN0YWJsZSkgdGhpcy5jb2x1bW5OYW1lcy51bnNoaWZ0KCdzZWxlY3Rpb24nKTtcbiAgICBpZiAodGhpcy5hY3Rpb25Db2x1bW4pIHRoaXMuY29sdW1uTmFtZXMucHVzaCgnYWN0aW9ucycpO1xuICAgIHRoaXMudXBkYXRlR3JvdXBzKCk7XG4gIH1cblxuICB1cGRhdGVHcm91cHMoKSB7XG4gICAgdGhpcy5jb2x1bW5Hcm91cHMudXBkYXRlQ29sdW1ucyhcbiAgICAgIHRoaXMuY29sdW1ucy5maWx0ZXIoKGMpID0+IGMudmlzaWJsZSA9PSB0cnVlKVxuICAgICk7XG4gIH1cblxuICBhbGxWaXNpYmxlKCkge1xuICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjKSA9PiAoYy52aXNpYmxlID0gdHJ1ZSkpO1xuICAgIHRoaXMuY29sdW1uTmFtZXMgPSB0aGlzLmNvbHVtbnNcbiAgICAgIC5maWx0ZXIoKGMpID0+IGMudmlzaWJsZSA9PSB0cnVlKVxuICAgICAgLm1hcCgoeCkgPT4geC5uYW1lKTtcbiAgICBpZiAodGhpcy5zZWxlY3RhYmxlKSB0aGlzLmNvbHVtbk5hbWVzLnVuc2hpZnQoJ3NlbGVjdGlvbicpO1xuICAgIGlmICh0aGlzLmFjdGlvbkNvbHVtbikgdGhpcy5jb2x1bW5OYW1lcy5wdXNoKCdhY3Rpb25zJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwQ29sdW1uIHtcbiAgbmFtZTogc3RyaW5nO1xuICBjb2x1bW5zOiBDb2x1bW5bXSA9IFtdO1xuICBjb3VudDogbnVtYmVyID0gMDtcbiAgc3RhcnQ6IG51bWJlciA9IDA7XG4gIGNvbHNwYW46IG51bWJlciA9IDE7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5jaGVja2VkID0gdGhpcy5jaGVja1N0YXRlKCk7XG4gIH1cbiAgdXBkYXRlQ29sc3BhbigpIHtcbiAgICBsZXQgZ3JvdXBEYXRhID0gdGhpcy5jb2x1bW5zXG4gICAgICAuZmlsdGVyKCh4KSA9PiB4LnZpc2libGUpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xuICAgIHRoaXMuY29sc3BhbiA9IGdyb3VwRGF0YS5sZW5ndGg7XG4gICAgaWYgKGdyb3VwRGF0YS5sZW5ndGggIT0gMCkgdGhpcy5zdGFydCA9IGdyb3VwRGF0YVswXS5vcmRlcjtcbiAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmNoZWNrU3RhdGUoKTtcbiAgfVxuICBhZGRDb2x1bW4oYzogQ29sdW1uKSB7XG4gICAgdGhpcy5jb2x1bW5zLnB1c2goYyk7XG4gICAgdGhpcy51cGRhdGVDb2xzcGFuKCk7XG4gIH1cbiAgdG9vZ2xlVmlzaWJiaWxpdHkoc3RhdGU6IGJvb2xlYW4pIHtcbiAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5jb2x1bW5zKSB7XG4gICAgICBjLnZpc2libGUgPSBzdGF0ZTtcbiAgICB9XG4gIH1cbiAgY2hlY2tTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW5zLnNvbWUoKHgpID0+IHgudmlzaWJsZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtbkdyb3VwcyB7XG4gIGFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBncm91cENvbHVtbnM6IEdyb3VwQ29sdW1uW10gPSBbXTtcbiAgZGlzcGxheU5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICBzaXplOiBudW1iZXIgPSAwO1xuICBjb25zdHJ1Y3RvcihsZW5ndGg6IG51bWJlcikge1xuICAgIHRoaXMuZGlzcGxheU5hbWVzID0gbmV3IEFycmF5KGxlbmd0aCkuZmlsbCgnZW1wdHktZ3JvdXAnKTtcbiAgfVxuICB1cGRhdGVDb2x1bW5zKHZpc2libGVDb2x1bW5zOiBDb2x1bW5bXSkge1xuICAgIHRoaXMuZGlzcGxheU5hbWVzID0gbmV3IEFycmF5KHZpc2libGVDb2x1bW5zLmxlbmd0aCkuZmlsbCgnZW1wdHktZ3JvdXAnKTtcbiAgICB0aGlzLmdyb3VwQ29sdW1ucy5mb3JFYWNoKChlKSA9PiBlLnVwZGF0ZUNvbHNwYW4oKSk7XG4gICAgbGV0IGRlbGV0aW9uID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JvdXBDb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5ncm91cENvbHVtbnNbaV07XG4gICAgICBjb25zdCBmaXJzdFZpc2libGUgPSBlbGVtZW50LmNvbHVtbnMuZmlsdGVyKCh5KSA9PiB5LnZpc2libGUpWzBdO1xuXG4gICAgICBpZiAoZWxlbWVudC5jb2xzcGFuICE9IDApIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdmlzaWJsZUNvbHVtbnMuZmluZEluZGV4KFxuICAgICAgICAgICh4KSA9PiB4LnByb3BlcnR5S2V5ID09IGZpcnN0VmlzaWJsZS5wcm9wZXJ0eUtleVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRpc3BsYXlOYW1lcy5zcGxpY2UoXG4gICAgICAgICAgMSArIGluZGV4IC0gZGVsZXRpb24sXG4gICAgICAgICAgZWxlbWVudC5jb2xzcGFuLFxuICAgICAgICAgIGVsZW1lbnQubmFtZVxuICAgICAgICApO1xuICAgICAgICBkZWxldGlvbiArPSBlbGVtZW50LmNvbHNwYW4gLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBcbiAgICB0aGlzLmRpc3BsYXlOYW1lcyA9IHZpc2libGVDb2x1bW5zXG4gICAgICAucmVkdWNlKFxuICAgICAgICAoYSwgYykgPT4ge1xuICAgICAgICAgIGNvbnN0IGluY2x1ZGVzID0gdGhpcy5ncm91cENvbHVtbnMuc29tZSgoeCkgPT4geC5jb2x1bW5zLmluY2x1ZGVzKGMpKTtcbiAgICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgICAgdGhpcy5ncm91cENvbHVtbnMuZm9yRWFjaCgoZ2MpID0+IHtcbiAgICAgICAgICAgIGlmIChnYy5jb2x1bW5zLmluY2x1ZGVzKGMpKSB7XG4gICAgICAgICAgICAgIHN0ciA9IGdjLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYS5wdXNoKGluY2x1ZGVzID8gc3RyIDogJ2VtcHR5LWdyb3VwJyk7XG4gICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sXG4gICAgICAgIFsnZW1wdHktZ3JvdXAnXVxuICAgICAgKVxuICAgICAgLnJlZHVjZShcbiAgICAgICAgKGEsIGMpID0+IHtcbiAgICAgICAgICBpZiAoYyA9PSAnZW1wdHktZ3JvdXAnIHx8ICFhLmluY2x1ZGVzKGMpKSB7XG4gICAgICAgICAgICBhLnB1c2goYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9LFxuICAgICAgICBbJ2VtcHR5LWdyb3VwJ11cbiAgICAgICk7XG4gICAgKi9cbiAgICB0aGlzLmRpc3BsYXlOYW1lcy51bnNoaWZ0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJvd0NvbnN0cmFpbiB7XG4gIG5hbWU6IHN0cmluZztcbiAgX2NvbnN0cmFpbjogQ29uc3RyYWluO1xuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIF9jb25zdHJhaW46IENvbnN0cmFpbikge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fY29uc3RyYWluID0gX2NvbnN0cmFpbjtcbiAgfVxufVxuIiwiPCEtLSBPcGVyYXRpb25zIC0tPlxuPG1hdC1hY2NvcmRpb24gY2xhc3M9XCJ0YWJsZS1vcGVyYXRpb25zXCI+XG4gIDxtYXQtZXhwYW5zaW9uLXBhbmVsIGhpZGVUb2dnbGU+XG4gICAgPG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyPlxuICAgICAgPG1hdC1wYW5lbC10aXRsZSBzdHlsZT1cImFsaWduLWl0ZW1zOiBjZW50ZXJcIj5cbiAgICAgICAgT3BlcmFjaW9uZXNcbiAgICAgIDwvbWF0LXBhbmVsLXRpdGxlPlxuICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLXRvcC1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgIFttYXRNZW51VHJpZ2dlckZvcl09XCJleHBvcnRcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJFeHBvcnRhclwiXG4gICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWljb24+ZG93bmxvYWQ8L21hdC1pY29uPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cImNvbHVtbnNcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb2x1bW5hc1wiXG4gICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWljb24+dmlld19jb2x1bW48L21hdC1pY29uPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cImNvbnN0cmFpbnNcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb25zdHJhaW5zXCJcbiAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtaWNvbj5icnVzaDwvbWF0LWljb24+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cbiAgICA8ZGl2IGNsYXNzPVwib3BlcmF0aW9uLWJ1dHRvbnMtY29udGFpbmVyXCIgKm5nSWY9XCJ0YWJsZUFjdGlvbnNDb25maWdcIj5cbiAgICAgIDxkaXYgKm5nRm9yPVwibGV0IG9wZXJhdGlvbiBvZiB0YWJsZUFjdGlvbnNDb25maWcuYWN0aW9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtYm90dG9tLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDwhLS0gKHNlbGVjdGVkUm93cy5zaXplID09IDAgJiYgb3BlcmF0aW9uLm11c3RIYXZlT25lU2VsZWN0ZWQpIHx8XG4gICAgICAgICAgICAgIChzZWxlY3RlZFJvd3Muc2l6ZSAhPSAxICYmIG9wZXJhdGlvbi5zY29wZSA9PSAxKSAtLT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBbbWF0VG9vbHRpcERpc2FibGVkXT1cIm9wZXJhdGlvbi5wZXJmb3JtYWJsZS5zdGF0ZVwiXG4gICAgICAgICAgICBtYXRUb29sdGlwPVwie3sgb3BlcmF0aW9uLnBlcmZvcm1hYmxlLnRvb2x0aXAgfX1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiFvcGVyYXRpb24ucGVyZm9ybWFibGUuc3RhdGVcIlxuICAgICAgICAgICAgICBtYXQtc3Ryb2tlZC1idXR0b25cbiAgICAgICAgICAgICAgY2xhc3M9XCJnZW5lcmFsLWFjdGlvblwiXG4gICAgICAgICAgICAgIChjbGljayk9XCJcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24uY29uZmlybWF0aW9uXG4gICAgICAgICAgICAgICAgICA/IHBlcmZvcm1HZW5lcmFsQWN0aW9uQ29uZmlybWF0aW9uKG9wZXJhdGlvbilcbiAgICAgICAgICAgICAgICAgIDogcGVyZm9ybUdlbmVyYWxBY3Rpb24ob3BlcmF0aW9uKVxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bWF0LWljb25cbiAgICAgICAgICAgICAgICAqbmdJZj1cIm9wZXJhdGlvbj8uaWNvblwiXG4gICAgICAgICAgICAgICAgW25nU3R5bGVdPVwie1xuICAgICAgICAgICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICAgICAgICAgICghb3BlcmF0aW9uLnBlcmZvcm1hYmxlLnN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgPyAnZ3JheSdcbiAgICAgICAgICAgICAgICAgICAgICA6IG9wZXJhdGlvbj8uY29sb3IpIHx8ICdjdXJyZW50Q29sb3InXG4gICAgICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICAgICAgPnt7IG9wZXJhdGlvbi5pY29uIH19PC9tYXQtaWNvblxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IG9wZXJhdGlvbi5jb250ZW50IH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9tYXQtZXhwYW5zaW9uLXBhbmVsPlxuPC9tYXQtYWNjb3JkaW9uPlxuXG48IS0tIFRhYmxlIC0tPlxuPGRpdiBjbGFzcz1cImxpdG90YWJsZS1tYWluLWNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwibGl0b3RhYmxlLWNvbnRhaW5lciBtYXQtZWxldmF0aW9uLXo0XCI+XG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLWNvbnRhaW5lclwiPlxuICAgICAgPG1hdC1kcmF3ZXItY29udGFpbmVyIGNsYXNzPVwiZXhhbXBsZS1jb250YWluZXJcIiBbaGFzQmFja2Ryb3BdPVwidHJ1ZVwiPlxuICAgICAgICA8bWF0LWRyYXdlciAjZHJhd2VyIG1vZGU9XCJvdmVyXCIgcG9zaXRpb249XCJlbmRcIj5cbiAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwic2lkZW5hdk1lbnVcIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9tYXQtZHJhd2VyPlxuICAgICAgICA8bWF0LWRyYXdlci1jb250ZW50PlxuICAgICAgICAgIDxkaXYgKm5nSWY9XCJkYXRhU291cmNlXCIgY2xhc3M9XCJ0YWJsZS1yZXNwb25zaXZlXCI+XG4gICAgICAgICAgICA8dGFibGVcbiAgICAgICAgICAgICAgbWF0LXRhYmxlXG4gICAgICAgICAgICAgIFtkYXRhU291cmNlXT1cImRhdGFTb3VyY2VcIlxuICAgICAgICAgICAgICBtYXRTb3J0XG4gICAgICAgICAgICAgIChtYXRTb3J0Q2hhbmdlKT1cImFubm91bmNlU29ydENoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPCEtLSBDb2x1bW5hIGRlIHNlbGVjY2lvbiAtLT5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJzZWxlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICAgICAgICAgICAgPG1hdC1jaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIm1hc3RlclRvZ2dsZSgpXCJcbiAgICAgICAgICAgICAgICAgICAgW2luZGV0ZXJtaW5hdGVdPVwiXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3Muc2l6ZSAhPSAwICYmICFpc0FsbFNlbGVjdGVkKClcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwiaXNBbGxTZWxlY3RlZCgpXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDwvbWF0LWNoZWNrYm94PlxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICBtYXQtY2VsbFxuICAgICAgICAgICAgICAgICAgKm1hdENlbGxEZWY9XCJsZXQgcm93XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG1hdC1jaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJzZWxlY3Rpb25Ub29nbGUoJGV2ZW50LmNoZWNrZWQsIHJvdylcIlxuICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3RlZFJvd3MuaGFzKHJvdylcIlxuICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwicm93LnByb2Nlc3NpbmdcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgICAgPCEtLSBSZXN0byBkZSBjb2x1bW5hcyAtLT5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5zXCJcbiAgICAgICAgICAgICAgICBtYXRDb2x1bW5EZWY9XCJ7eyBjb2x1bW4ubmFtZSB9fVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8IS0tIENvbHVtbiBIZWFkZXIgLS0+XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBtYXQtaGVhZGVyLWNlbGxcbiAgICAgICAgICAgICAgICAgICptYXRIZWFkZXJDZWxsRGVmXG4gICAgICAgICAgICAgICAgICBtYXQtc29ydC1oZWFkZXI9XCJ7eyBjb2x1bW4ucHJvcGVydHlLZXkgfX1cIlxuICAgICAgICAgICAgICAgICAgc29ydEFjdGlvbkRlc2NyaXB0aW9uPVwiU29ydCBieSB7eyBjb2x1bW4ucHJvcGVydHlLZXkgfX1cIlxuICAgICAgICAgICAgICAgICAgW2NsYXNzLmhlYWRlci1ib3JkZXJzXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LmhlYWRlckJvcmRlcnNcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt7IGNvbHVtbi5uYW1lIH19XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8IS0tIENvbHVtbiBEYXRhIC0tPlxuICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgbWF0LWNlbGxcbiAgICAgICAgICAgICAgICAgICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIlxuICAgICAgICAgICAgICAgICAgI2xpdG90YWJsZVRkXG4gICAgICAgICAgICAgICAgICBbY2xhc3MuY2VsbC1ib3JkZXJzXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LmhlYWRlckJvcmRlcnNcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgI2NvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ0cmFuc2l0aW9uOiAwLjNzIGFsbFwiXG4gICAgICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cIlxuICAgICAgICAgICAgICAgICAgICAgIGxpdG90YWJsZVRkLnBhcmVudEVsZW1lbnQ/LnN0eWxlPy5jb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGNvbG9yOiBsaXRvdGFibGVUZC5wYXJlbnRFbGVtZW50Py5zdHlsZT8uY29sb3IgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7fVxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuU1RSSU5HXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3sgZWxlbWVudFtjb2x1bW4ucHJvcGVydHlLZXldIH19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuSU5URUdFUlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt7IGVsZW1lbnRbY29sdW1uLnByb3BlcnR5S2V5XSB8IG51bWJlcjogXCIxLjAtMFwiIH19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuRkxPQVRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfCBudW1iZXI6IFwiMS4yLTRcIiB9fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbHVtbi50eXBlID09IGNvbHVtblR5cGVzLkRBVEVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtjb2x1bW4ucHJvcGVydHlLZXldXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgZGF0ZTogKGNvbHVtbi5mb3JtYXQgPyBjb2x1bW4uZm9ybWF0IDogXCJzaG9ydFwiKVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuQ1VSUkVOQ1lcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfCBjdXJyZW5jeSB9fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbHVtbi50eXBlID09IGNvbHVtblR5cGVzLkNVSVRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfCBjdWl0OiBcIi1cIiB9fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImNvbHVtbi50eXBlID09IGNvbHVtblR5cGVzLlBIT05FXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbY29sdW1uLnByb3BlcnR5S2V5XVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8IHBob25lOiAoY29sdW1uLmZvcm1hdCA/IGNvbHVtbi5mb3JtYXQgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgICA8IS0tIENvbHVtbmEgZGUgQWNjaW9uZXMgLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAqbmdJZj1cInRhYmxlQ29uZmlndXJhdGlvbnM/LmFjdGlvbnNDb2x1bW5cIlxuICAgICAgICAgICAgICAgIG1hdENvbHVtbkRlZj1cImFjdGlvbnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBtYXQtaGVhZGVyLWNlbGxcbiAgICAgICAgICAgICAgICAgICptYXRIZWFkZXJDZWxsRGVmXG4gICAgICAgICAgICAgICAgICBbY2xhc3MuaGVhZGVyLWJvcmRlcnNdPVwidGFibGVDb25maWd1cmF0aW9ucz8uaGVhZGVyQm9yZGVyc1wiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImFjdGlvbnMtdGhcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEFjY2lvbmVzXG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgIG1hdC1jZWxsXG4gICAgICAgICAgICAgICAgICAqbWF0Q2VsbERlZj1cImxldCByb3dcIlxuICAgICAgICAgICAgICAgICAgW2NsYXNzLmNlbGwtYm9yZGVyc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5oZWFkZXJCb3JkZXJzXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZzogMFwiXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cImFjdGlvbnMtdGRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgYWN0aW9uIG9mIHRhYmxlQ29uZmlndXJhdGlvbnM/LmFjdGlvbnNDb2x1bW5cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cInJvdy5wcm9jZXNzaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICpuZ0lmPVwiYWN0aW9uLmNvbmZpcm1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJ7eyBhY3Rpb24udG9vbHRpcCB9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1Sb3dBY3Rpb25Db25maXJtYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24uY29uZmlybWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZV09XCJ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJvdy5wcm9jZXNzaW5nID8gJ2xpZ2h0Z3JheScgOiBhY3Rpb24uY29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID57eyBhY3Rpb24uaWNvbiB9fTwvbWF0LWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwicm93LnByb2Nlc3NpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCIhYWN0aW9uLmNvbmZpcm1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJ7eyBhY3Rpb24udG9vbHRpcCB9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25Sb3dBY3Rpb25DbGljayhyb3csIGFjdGlvbilcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBbc3R5bGVdPVwie1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByb3cucHJvY2Vzc2luZyA/ICdsaWdodGdyYXknIDogYWN0aW9uLmNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+e3sgYWN0aW9uLmljb24gfX08L21hdC1pY29uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgICAgPCEtLSBDb2x1bW5hcyBkZSBhZ3J1cGFjaW9uIC0tPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cImVtcHR5LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPHRoICptYXRIZWFkZXJDZWxsRGVmIGNsYXNzPVwiZ3JvdXAtaGVhZGVyLWVtcHR5XCI+PC90aD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgY29sIG9mIGRpc3BsYXllZENvbHVtbnMuY29sdW1uR3JvdXBzLmdyb3VwQ29sdW1uc1wiXG4gICAgICAgICAgICAgICAgbWF0Q29sdW1uRGVmPVwie3sgY29sLm5hbWUgfX1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBtYXQtaGVhZGVyLWNlbGxcbiAgICAgICAgICAgICAgICAgICptYXRIZWFkZXJDZWxsRGVmXG4gICAgICAgICAgICAgICAgICBbYXR0ci5jb2xzcGFuXT1cImNvbC5jb2xzcGFuXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7eyBjb2wubmFtZSB9fVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImdyb3VwLWhlYWRlclwiXG4gICAgICAgICAgICAgICAgbWF0LWhlYWRlci1yb3dcbiAgICAgICAgICAgICAgICAqbWF0SGVhZGVyUm93RGVmPVwiZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5Hcm91cHMuZGlzcGxheU5hbWVzXCJcbiAgICAgICAgICAgICAgPjwvdHI+XG5cbiAgICAgICAgICAgICAgPCEtLSBFbmNhYmV6YWRvcyBkZSBjb2x1bW5hcyAtLT5cbiAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgbWF0LWhlYWRlci1yb3dcbiAgICAgICAgICAgICAgICAqbWF0SGVhZGVyUm93RGVmPVwiZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5OYW1lc1wiXG4gICAgICAgICAgICAgID48L3RyPlxuXG4gICAgICAgICAgICAgIDwhLS0gRm9ybWF0byBjb25kaWNpb25hbCBkZSBmaWxhcyAtLT5cbiAgICAgICAgICAgICAgPHRyXG4gICAgICAgICAgICAgICAgbWF0LXJvd1xuICAgICAgICAgICAgICAgIFtjbGFzcy5tYXQtcm93LXNlbGVjdGVkXT1cInNlbGVjdGVkUm93cy5oYXMocm93KVwiXG4gICAgICAgICAgICAgICAgW2NsYXNzLm1hdC1yb3ctc2VsZWN0ZWQtYm9yZGVyc109XCJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93cy5oYXMocm93KSAmJlxuICAgICAgICAgICAgICAgICAgdGFibGVDb25maWd1cmF0aW9ucz8uc2VsZWN0aW9uU3R5bGUgPT0gMVxuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgW2NsYXNzLm1hdC1yb3ctc2VsZWN0ZWQtc2hhZG93XT1cIlxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dzLmhhcyhyb3cpICYmXG4gICAgICAgICAgICAgICAgICB0YWJsZUNvbmZpZ3VyYXRpb25zPy5zZWxlY3Rpb25TdHlsZSA9PSAyXG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICBbY2xhc3MubWF0LXJvdy1ib3JkZXJzXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LmhvdmVyU3R5bGUgPT0gMVwiXG4gICAgICAgICAgICAgICAgW2NsYXNzLm1hdC1yb3ctc2hhZG93XT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LmhvdmVyU3R5bGUgPT0gMlwiXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ0cmFuc2l0aW9uOiAwLjNzIGFsbFwiXG4gICAgICAgICAgICAgICAgW25nU3R5bGVdPVwiY29uc3RyYWluZWRSb3dzLmhhcyhyb3cpID8gcm93LnJvd1N0eWxlLnN0eWxlIDogJydcIlxuICAgICAgICAgICAgICAgICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBkaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbk5hbWVzXCJcbiAgICAgICAgICAgICAgICBbY2xhc3MubWF0LXJvdy1wcm9jZXNzaW5nXT1cInJvdy5wcm9jZXNzaW5nXCJcbiAgICAgICAgICAgICAgPjwvdHI+XG5cbiAgICAgICAgICAgICAgPCEtLSBNZW5zYWplIHBvciBkZWZlY3RvIGVuIGNhc28gZGUgbm8gaGFiZXIgZGF0b3MgbyBzZSBlc3RlIGZldGNoZWFuZG8gLS0+XG4gICAgICAgICAgICAgIDx0ciBjbGFzcz1cIm1hdC1yb3dcIiAqbWF0Tm9EYXRhUm93PlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1hdC1jZWxsXCIgY29sc3Bhbj1cIjRcIj5cbiAgICAgICAgICAgICAgICAgIHt7IGZldGNoaW5nID8gXCJmZXRjaGluZyBkYXRhXCIgOiBcIk5vIGRhdGEgZm91bmRcIiB9fVxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21hdC1kcmF3ZXItY29udGVudD5cbiAgICAgIDwvbWF0LWRyYXdlci1jb250YWluZXI+XG5cbiAgICAgIDwhLS0gRm9vdGVyIGFjdGlvbiBidXR0b24gLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFibGUtYm90dG9tLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgbWF0LXN0cm9rZWQtYnV0dG9uXG4gICAgICAgICAgY2xhc3M9XCJmb290ZXJjZWxsXCJcbiAgICAgICAgICAoY2xpY2spPVwicGVyZm9ybUZvb3RlckFjdGlvbigpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtaWNvblxuICAgICAgICAgICAgKm5nSWY9XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5mb290ZXJBY3Rpb24/Lmljb25cIlxuICAgICAgICAgICAgW25nU3R5bGVdPVwie1xuICAgICAgICAgICAgICBjb2xvcjogdGFibGVDb25maWd1cmF0aW9ucz8uZm9vdGVyQWN0aW9uPy5jb2xvciB8fCAnY3VycmVudENvbG9yJ1xuICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICA+e3sgdGFibGVDb25maWd1cmF0aW9ucz8uZm9vdGVyQWN0aW9uPy5pY29uIH19PC9tYXQtaWNvblxuICAgICAgICAgID5cbiAgICAgICAgICB7eyB0YWJsZUNvbmZpZ3VyYXRpb25zPy5mb290ZXJBY3Rpb24/LmNvbnRlbnQgfX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gUGFnaW5hdG9yIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1ib3R0b20tY29udGFpbmVyXCI+XG4gICAgICA8bWF0LXBhZ2luYXRvclxuICAgICAgICBbcGFnZVNpemVPcHRpb25zXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LnBhZ2luYXRpb25TaXplcyB8fCBbNSwgMTAsIDIwXVwiXG4gICAgICAgIHNob3dGaXJzdExhc3RCdXR0b25zXG4gICAgICAgIGFyaWEtbGFiZWw9XCJTZWxlY3QgcGFnZVwiXG4gICAgICA+XG4gICAgICA8L21hdC1wYWdpbmF0b3I+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIFByb2dyZXNzYmFyIC0tPlxuICAgIDxtYXQtcHJvZ3Jlc3MtYmFyXG4gICAgICBbbW9kZV09XCJmZXRjaGluZyA/ICdpbmRldGVybWluYXRlJyA6ICdkZXRlcm1pbmF0ZSdcIlxuICAgID48L21hdC1wcm9ncmVzcy1iYXI+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjwhLS0gRXhwb3J0IE1lbnUgLS0+XG48bWF0LW1lbnUgI2V4cG9ydD1cIm1hdE1lbnVcIiB4UG9zaXRpb249XCJiZWZvcmVcIj5cbiAgPGRpdlxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgZGlzYWJsZWQ9XCJ0cnVlXCJcbiAgPlxuICAgIEV4cG9ydGFyXG4gIDwvZGl2PlxuPC9tYXQtbWVudT5cblxuPCEtLSBDb2x1bW5zIFNlbGVjdG9yIE1lbnUgLS0+XG48bWF0LW1lbnUgI2NvbHVtbnM9XCJtYXRNZW51XCIgeFBvc2l0aW9uPVwiYmVmb3JlXCI+XG4gIDxkaXZcbiAgICBtYXQtbWVudS1pdGVtXG4gICAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIlxuICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgIGRpc2FibGVkPVwidHJ1ZVwiXG4gID5cbiAgICBDb2x1bW5hc1xuICA8L2Rpdj5cbiAgPG1hdC1kaXZpZGVyPjwvbWF0LWRpdmlkZXI+XG5cbiAgPGRpdlxuICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5zXCJcbiAgICBtYXQtbWVudS1pdGVtXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gID5cbiAgICA8bWF0LXNsaWRlLXRvZ2dsZVxuICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgKGNoYW5nZSk9XCJkaXNwbGF5ZWRDb2x1bW5zLmNoYW5nZUNvbHVtblZpc2l2aWxpdHkoY29sdW1uKVwiXG4gICAgICBbY2hlY2tlZF09XCJjb2x1bW4udmlzaWJsZVwiXG4gICAgPlxuICAgICAge3sgY29sdW1uLm5hbWUgfX1cbiAgICA8L21hdC1zbGlkZS10b2dnbGU+XG4gIDwvZGl2PlxuICA8bWF0LWRpdmlkZXI+PC9tYXQtZGl2aWRlcj5cbiAgPGRpdlxuICAgICpuZ0Zvcj1cImxldCBncm91cCBvZiBkaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbkdyb3Vwcy5ncm91cENvbHVtbnNcIlxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgPlxuICAgIDxtYXQtc2xpZGUtdG9nZ2xlXG4gICAgICBjb2xvcj1cImFjY2VudFwiXG4gICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgIChjaGFuZ2UpPVwiXG4gICAgICAgIGdyb3VwLnRvb2dsZVZpc2liYmlsaXR5KCRldmVudC5jaGVja2VkKTtcbiAgICAgICAgZGlzcGxheWVkQ29sdW1ucy51cGRhdGVWaXNpdmlsaXR5KClcbiAgICAgIFwiXG4gICAgICBbY2hlY2tlZF09XCJncm91cC5jaGVja2VkXCJcbiAgICA+XG4gICAgICB7eyBncm91cC5uYW1lIH19XG4gICAgPC9tYXQtc2xpZGUtdG9nZ2xlPlxuICA8L2Rpdj5cbiAgPGJ1dHRvblxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4gICAgKGNsaWNrKT1cImRpc3BsYXllZENvbHVtbnMuYWxsVmlzaWJsZSgpOyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICA+XG4gICAgVG9kYXNcbiAgPC9idXR0b24+XG48L21hdC1tZW51PlxuXG48IS0tIENvbnN0cmFpbnMgTWVudSAtLT5cbjxtYXQtbWVudVxuICAjY29uc3RyYWlucz1cIm1hdE1lbnVcIlxuICB4UG9zaXRpb249XCJiZWZvcmVcIlxuICBzdHlsZT1cInBhZGRpbmc6IDAuNXJlbSAhaW1wb3J0YW50XCJcbj5cbiAgPGRpdlxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgZGlzYWJsZWQ9XCJ0cnVlXCJcbiAgPlxuICAgIEVzdGlsb3NcbiAgPC9kaXY+XG4gIDxkaXZcbiAgICBtYXQtbWVudS1pdGVtXG4gICAgZGlzYWJsZVJpcHBsZT1cInRydWVcIlxuICAgICpuZ0Zvcj1cImxldCBjb25zdHIgb2YgZmllbGRDb25zdHJpYW5zXCJcbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICBbc3R5bGVdPVwie1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgJ2FsaWduLWl0ZW1zJzogJ2NlbnRlcicsXG4gICAgICAnanVzdGlmeS1pdGVtcyc6ICdjZW50ZXInLFxuICAgICAgY29sb3I6IGNvbnN0ci5jb25zdHJhaW4uc3R5bGVbJ2NvbG9yJ10sXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6IGNvbnN0ci5jb25zdHJhaW4uc3R5bGVbJ2JhY2tncm91bmQtY29sb3InXSxcbiAgICAgICd0ZXh0LWFsaWduJzogJ2NlbnRlcidcbiAgICB9XCJcbiAgPlxuICAgIDxzcGFuIHN0eWxlPVwiZmxleC1ncm93OiAxOyB0ZXh0LWFsaWduOiBjZW50ZXJcIj57e1xuICAgICAgY29uc3RyLmNvbnN0cmFpbk5hbWVcbiAgICB9fTwvc3Bhbj5cbiAgICA8YnV0dG9uXG4gICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgIG1hdFRvb2x0aXA9XCJyZW1vdmVcIlxuICAgICAgc3R5bGU9XCJqdXN0aWZ5LXNlbGY6IGZsZXgtZW5kOyBtYXJnaW4tbGVmdDogMXJlbVwiXG4gICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwiY29uc3RyYWluRGVsZXRpb25Db25maXJtXCJcbiAgICAgIFttYXRNZW51VHJpZ2dlckRhdGFdPVwieyBkYXRhOiBjb25zdHIgfVwiXG4gICAgPlxuICAgICAgPG1hdC1pY29uIHN0eWxlPVwibWFyZ2luOiBhdXRvXCI+ZGVsZXRlPC9tYXQtaWNvbj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiBzdHlsZT1cImp1c3RpZnktc2VsZjogZmxleC1lbmRcIj5cbiAgICAgIDxtYXQtaWNvbiBzdHlsZT1cIm1hcmdpbjogYXV0b1wiIG1hdFRvb2x0aXA9XCJoaWRlXCI+ZWRpdDwvbWF0LWljb24+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvblxuICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICBzdHlsZT1cImp1c3RpZnktc2VsZjogZmxleC1lbmRcIlxuICAgICAgKGNsaWNrKT1cIlxuICAgICAgICBjb25zdHIuY29uc3RyYWluLmVuYWJsZSA9ICFjb25zdHIuY29uc3RyYWluLmVuYWJsZTsgdXBkYXRlVmlzaWJpbGl0eSgpXG4gICAgICBcIlxuICAgID5cbiAgICAgIDxtYXQtaWNvbiBzdHlsZT1cIm1hcmdpbjogYXV0b1wiIG1hdFRvb2x0aXA9XCJoaWRlXCI+e3tcbiAgICAgICAgY29uc3RyLmNvbnN0cmFpbi5lbmFibGUgPyBcInZpc2liaWxpdHlcIiA6IFwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgfX08L21hdC1pY29uPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cblxuICA8IS0tIENvbnN0cmFpbiBDcmVhdG9yIC0tPlxuICA8ZGl2XG4gICAgbWF0LW1lbnUtaXRlbVxuICAgIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCJcbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgPlxuICAgIDxsaXRvdGFibGUtY29uc3RyYWluLWNyZWF0b3JcbiAgICAgIFtjb2x1bW5zXT1cImRpc3BsYXllZENvbHVtbnMuY29sdW1uc1wiXG4gICAgICAocmVzdWx0LWNvbnN0cmFpbik9XCJhZGRDb25zdHJhaW4oJGV2ZW50KVwiXG4gICAgICA+PG1hdC1pY29uIHN0eWxlPVwibWFyZ2luOiBhdXRvXCJcbiAgICAgICAgPmFkZF9jaXJjbGU8L21hdC1pY29uXG4gICAgICA+PC9saXRvdGFibGUtY29uc3RyYWluLWNyZWF0b3JcbiAgICA+XG4gIDwvZGl2PlxuPC9tYXQtbWVudT5cblxuPG1hdC1tZW51ICNjb25zdHJhaW5EZWxldGlvbkNvbmZpcm09XCJtYXRNZW51XCIgeFBvc2l0aW9uPVwiYmVmb3JlXCI+XG4gIDxuZy10ZW1wbGF0ZSBtYXRNZW51Q29udGVudCBsZXQtY29uc3RyYWluPVwiZGF0YVwiPlxuICAgIDxidXR0b25cbiAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgIChjbGljayk9XCJyZW1vdmVDb25zdHJhaW4oY29uc3RyYWluKVwiXG4gICAgICBzdHlsZT1cImNvbG9yOiByZWQ7IGZvbnQtd2VpZ2h0OiA1MDBcIlxuICAgID5cbiAgICAgIGNvbmZpcm0gcmVtb3ZlXG4gICAgPC9idXR0b24+XG4gIDwvbmctdGVtcGxhdGU+XG48L21hdC1tZW51PlxuXG48bWF0LW1lbnUgI2NvbnN0cmFpbj1cIm1hdE1lbnVcIiB4UG9zaXRpb249XCJiZWZvcmVcIj5cbiAgPG5nLXRlbXBsYXRlIG1hdE1lbnVDb250ZW50IGxldC1kYXRhPVwiZGF0YVwiPlxuICAgIDxtYXQtY2FyZFxuICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICA+XG4gICAgICA8bWF0LWNhcmQtY29udGVudFxuICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgKGtleXByZXNzKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgIGNsYXNzPVwiY29uc3RyYWluLW1hdC1jb250ZW50XCJcbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiY29uc3RyYWluLW1hdC1jb250ZW50LWR1YWxcIlxuICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICA+XG4gICAgICAgICAgPGFwcC1saXRvLWNvbG9yLXBpY2tlclxuICAgICAgICAgICAgW2NvbG9yc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5yb3dTdHlsZUNvbG9yc1wiXG4gICAgICAgICAgICAocmVzdWx0KT1cIlxuICAgICAgICAgICAgICBjaGFuZ2VDb25zdHJhaW5TdGF0ZSgkZXZlbnQsIGRhdGEuY29uc3RyYWluLCAnYmFja2dyb3VuZC1jb2xvcicpXG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgY29udGVudD1cIkJhY2tncm91bmRcIlxuICAgICAgICAgID48L2FwcC1saXRvLWNvbG9yLXBpY2tlcj5cbiAgICAgICAgICA8YXBwLWxpdG8tY29sb3ItcGlja2VyXG4gICAgICAgICAgICBbY29sb3JzXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LnJvd1N0eWxlQ29sb3JzXCJcbiAgICAgICAgICAgIChyZXN1bHQpPVwiY2hhbmdlQ29uc3RyYWluU3RhdGUoJGV2ZW50LCBkYXRhLmNvbnN0cmFpbiwgJ2NvbG9yJylcIlxuICAgICAgICAgICAgY29udGVudD1cIkZvcmVncm91bmRcIlxuICAgICAgICAgID48L2FwcC1saXRvLWNvbG9yLXBpY2tlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBbc3R5bGVdPVwie1xuICAgICAgICAgICAgY29sb3I6IGRhdGEuY29uc3RyYWluLnN0eWxlWydjb2xvciddLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBkYXRhLmNvbnN0cmFpbi5zdHlsZVsnYmFja2dyb3VuZC1jb2xvciddLFxuICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnMXJlbScsXG4gICAgICAgICAgICAndGV4dC1hbGlnbic6ICdjZW50ZXInLFxuICAgICAgICAgICAgcGFkZGluZzogJzAuNXJlbSAwJyxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgICB9XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IGRhdGEuY29uc3RyYWluLnZhbHVlc1swXSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlLWdyb3VwXG4gICAgICAgICAgbmFtZT1cImZvbnRTdHlsZVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkZvbnQgU3R5bGVcIlxuICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIHZhbHVlPVwie3sgZGF0YS5jb25zdHJhaW4udHlwZSB9fVwiXG4gICAgICAgICAgKGNoYW5nZSk9XCJcbiAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKCRldmVudCwgZGF0YS5jb25zdHJhaW4sICdudW1iZXItdHlwZScsIGZhbHNlKVxuICAgICAgICAgIFwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWJ1dHRvbi10b2dnbGUgdmFsdWU9XCIxXCI+PTwvbWF0LWJ1dHRvbi10b2dnbGU+XG4gICAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlIHZhbHVlPVwiMlwiPnt7IFwiXFw+XCIgfX08L21hdC1idXR0b24tdG9nZ2xlPlxuICAgICAgICAgIDxtYXQtYnV0dG9uLXRvZ2dsZSB2YWx1ZT1cIjNcIj57eyBcIlxcPFwiIH19PC9tYXQtYnV0dG9uLXRvZ2dsZT5cbiAgICAgICAgICA8bWF0LWJ1dHRvbi10b2dnbGUgdmFsdWU9XCI0XCI+e3sgXCJcXDxcXD5cIiB9fTwvbWF0LWJ1dHRvbi10b2dnbGU+XG4gICAgICAgIDwvbWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAqbmdJZj1cImRhdGEuY29uc3RyYWluLnR5cGUgIT0gbnVtYmVyQ29uc3RyYWluVHlwZS5CRVRXRUVOXCJcbiAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAoa2V5ZG93bik9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZFxuICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogMTAwJVwiXG4gICAgICAgICAgICBhcHBlYXJhbmNlPVwiZmlsbFwiXG4gICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgKGtleWRvd24pPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bWF0LWxhYmVsIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIj5WQUxPUjwvbWF0LWxhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICBzdGVwPVwiMTAwXCJcbiAgICAgICAgICAgICAgKGtleWRvd24pPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgKGtleXByZXNzKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIlxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VDb25zdHJhaW5TdGF0ZShcbiAgICAgICAgICAgICAgICAgICRldmVudCxcbiAgICAgICAgICAgICAgICAgIGRhdGEuY29uc3RyYWluLFxuICAgICAgICAgICAgICAgICAgJ251bWJlci12YWx1ZScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgKGtleXVwKT1cIlxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VDb25zdHJhaW5TdGF0ZShcbiAgICAgICAgICAgICAgICAgICRldmVudCxcbiAgICAgICAgICAgICAgICAgIGRhdGEuY29uc3RyYWluLFxuICAgICAgICAgICAgICAgICAgJ251bWJlci12YWx1ZScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgICAgICB2YWx1ZT1cInt7IGRhdGEuY29uc3RyYWluLnZhbHVlc1swXSB9fVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8IS0tIEJFVFdFRU4gLS0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAqbmdJZj1cImRhdGEuY29uc3RyYWluLnR5cGUgPT0gbnVtYmVyQ29uc3RyYWluVHlwZS5CRVRXRUVOXCJcbiAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAoa2V5ZG93bik9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIHN0eWxlPVwibWF4LXdpZHRoOiBmaXQtY29udGVudDsgZGlzcGxheTogZmxvdy1yb290XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZFxuICAgICAgICAgICAgc3R5bGU9XCJtYXgtd2lkdGg6IDQ1JTsgZmxvYXQ6IGxlZnRcIlxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cImZpbGxcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1hdC1sYWJlbCAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+REVTREU8L21hdC1sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIlxuICAgICAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKFxuICAgICAgICAgICAgICAgICAgJGV2ZW50LFxuICAgICAgICAgICAgICAgICAgZGF0YS5jb25zdHJhaW4sXG4gICAgICAgICAgICAgICAgICAnbnVtYmVyLXZhbHVlMScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgKGtleXVwKT1cIlxuICAgICAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKFxuICAgICAgICAgICAgICAgICAgJGV2ZW50LFxuICAgICAgICAgICAgICAgICAgZGF0YS5jb25zdHJhaW4sXG4gICAgICAgICAgICAgICAgICAnbnVtYmVyLXZhbHVlMScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgICAgICB2YWx1ZT1cInt7IGRhdGEuY29uc3RyYWluLnZhbHVlc1swXSB9fVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkXG4gICAgICAgICAgICBzdHlsZT1cIm1heC13aWR0aDogNDUlOyBmbG9hdDogcmlnaHRcIlxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cImZpbGxcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1hdC1sYWJlbFxuICAgICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgKGtleXByZXNzKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgID5IQVNUQTwvbWF0LWxhYmVsXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIHN0ZXA9XCIxMDBcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIlxuICAgICAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKFxuICAgICAgICAgICAgICAgICAgJGV2ZW50LFxuICAgICAgICAgICAgICAgICAgZGF0YS5jb25zdHJhaW4sXG4gICAgICAgICAgICAgICAgICAnbnVtYmVyLXZhbHVlMicsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoa2V5dXApPVwiXG4gICAgICAgICAgICAgICAgY2hhbmdlQ29uc3RyYWluU3RhdGUoXG4gICAgICAgICAgICAgICAgICAkZXZlbnQsXG4gICAgICAgICAgICAgICAgICBkYXRhLmNvbnN0cmFpbixcbiAgICAgICAgICAgICAgICAgICdudW1iZXItdmFsdWUyJyxcbiAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICBtYXRJbnB1dFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlwiXG4gICAgICAgICAgICAgIHZhbHVlPVwie3sgZGF0YS5jb25zdHJhaW4udmFsdWVzWzFdIH19XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XG4gICAgPC9tYXQtY2FyZD5cbiAgPC9uZy10ZW1wbGF0ZT5cbjwvbWF0LW1lbnU+XG5cbjwhLS0gc2lkZW5hdi1tZW51IC0tPlxuPG5nLXRlbXBsYXRlICNzaWRlbmF2TWVudT5cbiAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDFyZW1cIj5cbiAgICA8aDI+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ3NpbmdsZSdcIj5cbiAgICAgICAge3tcbiAgICAgICAgICByb3dDb25maXJtYXRpb25cbiAgICAgICAgICAgID8gcm93Q29uZmlybWF0aW9uPy5jb25maXJtYXRpb25EYXRhPy50aXRsZVxuICAgICAgICAgICAgOiBcIkNvbmZpcm1hY2lvblwiXG4gICAgICAgIH19XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ211bHRpcGxlJ1wiPlxuICAgICAgICB7e1xuICAgICAgICAgIGdlbmVyYWxDb25maXJtYXRpb25cbiAgICAgICAgICAgID8gZ2VuZXJhbENvbmZpcm1hdGlvbj8uY29uZmlybWF0aW9uRGF0YT8udGl0bGVcbiAgICAgICAgICAgIDogXCJDb25maXJtYWNpb25cIlxuICAgICAgICB9fVxuICAgICAgPC9zcGFuPlxuICAgIDwvaDI+XG4gICAgPHA+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ3NpbmdsZSdcIj5cbiAgICAgICAge3sgcm93Q29uZmlybWF0aW9uPy5jb25maXJtYXRpb25EYXRhPy5jb250ZW50IH19XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ211bHRpcGxlJ1wiPlxuICAgICAgICB7eyBnZW5lcmFsQ29uZmlybWF0aW9uPy5jb25maXJtYXRpb25EYXRhPy5jb250ZW50IH19XG4gICAgICA8L3NwYW4+XG4gICAgPC9wPlxuXG4gICAgPGJ1dHRvblxuICAgICAgbWF0LXJhaXNlZC1idXR0b25cbiAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICBzdHlsZT1cIm1hcmdpbi1yaWdodDogMC41cmVtXCJcbiAgICAgIChjbGljayk9XCJcbiAgICAgICAgZHJhd2VyLnRvZ2dsZSgpO1xuICAgICAgICBfY29uZmlybWF0aW9uID09ICdzaW5nbGUnXG4gICAgICAgICAgPyBvblJvd0FjdGlvbkNsaWNrKHJvd0NvbmZpcm1hdGlvbj8ucm93LCByb3dDb25maXJtYXRpb24hLmFjdGlvbilcbiAgICAgICAgICA6IG9uR2VuZXJhbEFjdGlvbkNsaWNrKGdlbmVyYWxDb25maXJtYXRpb24hLmFjdGlvbilcbiAgICAgIFwiXG4gICAgPlxuICAgICAgYWNjZXB0XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cIndhcm5cIiAoY2xpY2spPVwiZHJhd2VyLnRvZ2dsZSgpXCI+XG4gICAgICBjYW5jZWxcbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuIl19