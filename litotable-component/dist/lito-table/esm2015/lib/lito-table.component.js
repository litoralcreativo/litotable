import { Component, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { MatPaginator } from '@angular/material/paginator';
import { MatSort } from '@angular/material/sort';
import { MatTableDataSource } from '@angular/material/table';
import 'reflect-metadata';
import { Column } from './column';
import { MesurableConstrainType, } from './configurations/fieldConstrians.config';
import { TableOperation, } from './configurations/litotable.config';
import { ColumnType } from './decorators/column.decorator';
import { moveItemInArray, } from '@angular/cdk/drag-drop';
import { MatDrawer } from '@angular/material/sidenav';
import { FormControl } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/a11y";
import * as i2 from "@angular/material/expansion";
import * as i3 from "@angular/material/button";
import * as i4 from "@angular/material/icon";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/material/select";
import * as i7 from "@angular/material/core";
import * as i8 from "@angular/material/sidenav";
import * as i9 from "@angular/material/table";
import * as i10 from "@angular/material/checkbox";
import * as i11 from "@angular/material/sort";
import * as i12 from "@angular/material/paginator";
import * as i13 from "@angular/material/progress-bar";
import * as i14 from "@angular/material/menu";
import * as i15 from "@angular/material/divider";
import * as i16 from "@angular/material/slide-toggle";
import * as i17 from "./constrain-creator/constrain-creator.component";
import * as i18 from "@angular/material/card";
import * as i19 from "./lito-color-picker/lito-color-picker.component";
import * as i20 from "@angular/material/button-toggle";
import * as i21 from "@angular/common";
import * as i22 from "@angular/material/tooltip";
import * as i23 from "@angular/forms";
import * as i24 from "@angular/material/input";
import * as i25 from "@angular/cdk/drag-drop";
import * as i26 from "./pipes/cuit.pipe";
import * as i27 from "./pipes/phone.pipe";
export class LitotableComponent {
    constructor(_liveAnnouncer) {
        this._liveAnnouncer = _liveAnnouncer;
        /* Enums */
        this.columnTypes = ColumnType;
        this.operationTypes = TableOperation;
        this.columns = [];
        this.numberConstrainType = MesurableConstrainType;
        this.displayedColumns = new DisplayedColumns();
        this.rowConstrains = [];
        this.dataSource = new MatTableDataSource();
        this.fetching = false;
        this.selectedRows = new Set();
        this.constrainedRows = new Set();
        this.showSelectedOnly = false;
        this.creationFormOpen = false;
        this._confirmation = 'multiple';
        /* Filter */
        this.filteringColumnsFormControl = new FormControl();
        this.filteringStringFormControl = new FormControl('');
        this.fieldConstrians = [];
        this.multipleActionOutput = new EventEmitter();
        this.singleActionOutput = new EventEmitter();
        this.draganddrop = false;
    }
    ngOnInit() {
        this.setColumns();
        if (this.inputSource != undefined) {
            this.fetching = true;
            this.inputSource.subscribe((datos) => {
                var _a;
                this.fetching = false;
                this.dataSource = new MatTableDataSource(datos);
                this.dataSource.paginator = this.paginator;
                this.dataSource.sort = this.sort;
                this.setRowsConstrains(datos);
                (_a = this.tableActionsConfig) === null || _a === void 0 ? void 0 : _a.updatePermormableState(this.selectedRows);
                this.defaultFilterPredicate = this.dataSource.filterPredicate;
            });
        }
        else {
            let c = [];
            this.dataSource = new MatTableDataSource(c);
        }
        this.dataSource.paginator = this.paginator;
    }
    parseDate(input) {
        return input.toJSON();
    }
    ngAfterViewInit() {
        this.dataSource.paginator = this.paginator;
    }
    announceSortChange(sortState) {
        if (sortState.direction) {
            this._liveAnnouncer.announce(`Sorted ${sortState.direction}ending`);
        }
        else {
            this._liveAnnouncer.announce('Sorting cleared');
        }
    }
    updateFieldsToRowsConstrains() {
        if (this.fieldConstrians) {
            this.rowConstrains = this.fieldConstrians.map((x) => {
                return new RowConstrain(x.propertyKey, x.constrain);
            });
        }
    }
    setRowsConstrains(source) {
        this.updateFieldsToRowsConstrains();
        source.forEach((element) => {
            this.rowConstrains.forEach((rc) => {
                const value = element[rc.name];
                if (rc._constrain.trigger(value)) {
                    if (rc._constrain.enable) {
                        if (!element['rowStyle']) {
                            Object.defineProperty(element, 'rowStyle', {
                                configurable: true,
                                enumerable: false,
                                value: { style: rc._constrain.style },
                                writable: true,
                            });
                        }
                        else if (element['rowStyle']) {
                            element['rowStyle'].style = Object.assign(Object.assign({}, element['rowStyle'].style), rc._constrain.style);
                        }
                        this.constrainedRows.add(element);
                    }
                }
            });
        });
    }
    updateRowConstrains() {
        this.constrainedRows = new Set();
        const source = this.dataSource.data;
        source.forEach((element) => {
            this.rowConstrains.forEach((rc) => {
                const value = element[rc.name];
                if (rc._constrain.trigger(value)) {
                    if (rc._constrain.enable) {
                        if (!element['rowStyle']) {
                            Object.defineProperty(element, 'rowStyle', {
                                configurable: true,
                                enumerable: false,
                                value: { style: rc._constrain.style },
                                writable: true,
                            });
                        }
                        else if (element['rowStyle']) {
                            element['rowStyle'].style = Object.assign(Object.assign({}, element['rowStyle'].style), rc._constrain.style);
                        }
                        this.constrainedRows.add(element);
                    }
                }
            });
        });
    }
    hasConstrain(propertyKey, value) {
        let result = false;
        if (this.rowConstrains.length != 0) {
        }
        return result;
    }
    setColumns() {
        var _a;
        const columnsMetadata = Reflect.getMetadata('columnsMetadata', this.dataType);
        let columnGroups = new ColumnGroups(0);
        if (columnsMetadata != undefined) {
            this.columns = columnsMetadata.map((c, i) => {
                var _a;
                let column = new Column(c.propertyKey, c.propertyKey, ColumnType.STRING, c.metadata.order);
                column.visible =
                    c.metadata.visible == undefined ? true : c.metadata.visible;
                column.name = c.metadata.columnName || c.propertyKey;
                column.type = c.metadata.type || ColumnType.STRING;
                column.format = c.metadata.format || undefined;
                column.contentAlign = c.metadata.contentAlign || undefined;
                column.enumTypeAsociation =
                    c.metadata.enumTypeAsociation || undefined;
                const str = (_a = c.metadata.columnGroup) === null || _a === void 0 ? void 0 : _a.name;
                if (str) {
                    if (columnGroups.groupColumns.filter((x) => x.name == str).length == 0) {
                        let newColGroup = new GroupColumn(str);
                        newColGroup.addColumn(column);
                        columnGroups.groupColumns.push(newColGroup);
                    }
                    else {
                        columnGroups.groupColumns
                            .filter((x) => x.name == str)[0]
                            .addColumn(column);
                    }
                }
                return column;
            });
            this.columns.sort((a, b) => {
                return a.order - b.order;
            });
        }
        this.displayedColumns = new DisplayedColumns(this.columns, this.selection, ((_a = this.tableConfigurations) === null || _a === void 0 ? void 0 : _a.actionsColumn) != undefined);
        this.displayedColumns.columnGroups = columnGroups;
        this.displayedColumns.updateGroups();
    }
    isAllSelected() {
        const numSelected = this.selectedRows.size;
        const numRows = this.dataSource.data.length;
        return numSelected == numRows && numRows != 0;
    }
    masterToggle() {
        this.isAllSelected()
            ? this.selectedRows.clear()
            : this.dataSource.data.forEach((row) => this.selectedRows.add(row));
    }
    selectionToogle(state, row) {
        var _a;
        if (state) {
            this.selectedRows.add(row);
        }
        else {
            if (this.selectedRows.has(row))
                this.selectedRows.delete(row);
        }
        if ((_a = this.tableActionsConfig) === null || _a === void 0 ? void 0 : _a.actions) {
            this.tableActionsConfig.updatePermormableState(this.selectedRows);
        }
    }
    changeConstrainState(value, data, field, isStyle = true) {
        if (isStyle && field && field != '') {
            data.style[field] = value;
        }
        if (!isStyle) {
            switch (field) {
                case 'number-type':
                    data.type = parseInt(value.value);
                    break;
                case 'number-value':
                case 'number-value1':
                    data.values[0] = parseInt(value.target.value);
                    break;
                case 'number-value2':
                    data.values[1] = parseInt(value.target.value);
                    break;
            }
        }
        this.updateRowConstrains();
    }
    addConstrain($event) {
        this.fieldConstrians.push($event);
        this.updateFieldsToRowsConstrains();
        this.updateRowConstrains();
    }
    updateVisibility() {
        this.updateFieldsToRowsConstrains();
        this.updateRowConstrains();
    }
    removeConstrain(constrain) {
        this.fieldConstrians = this.fieldConstrians.filter((x) => x != constrain);
        this.updateVisibility();
    }
    tableDrop(event) {
        moveItemInArray(this.displayedColumns.columnNames, event.previousIndex + 1, event.currentIndex + 1);
    }
    onRowActionClick(row, action) {
        if (action.actionResult.willUpdateRow ||
            action.actionResult.willDeleteRow) {
            row.processing = true;
            this.singleActionOutput.emit({
                operation: action,
                data: row,
            });
        }
    }
    updateRow(row, newRow) {
        let indx = this.dataSource.data.indexOf(row);
        if (newRow) {
            this.dataSource.data[indx] = newRow;
            this.dataSource.data[indx].processing = false;
            this.selectedRows.delete(this.dataSource.data[indx]);
        }
        else {
            this.dataSource.data.splice(indx, 1);
            row.processing = false;
        }
        this.selectedRows.delete(row);
        this.dataSource._updateChangeSubscription();
        this.updateVisibility();
    }
    performFooterAction() {
        var _a, _b, _c, _d;
        if ((_b = (_a = this.tableConfigurations) === null || _a === void 0 ? void 0 : _a.footerAction) === null || _b === void 0 ? void 0 : _b.actionResult.nonObservableAction) {
            (_d = (_c = this.tableConfigurations) === null || _c === void 0 ? void 0 : _c.footerAction) === null || _d === void 0 ? void 0 : _d.actionResult.nonObservableAction();
        }
    }
    performRowActionConfirmation(action, row, confirmation) {
        this._confirmation = 'single';
        this.rowConfirmation = {
            confirmationData: confirmation,
            row: row,
            action: action,
        };
        if (this.drawer) {
            this.drawer.open();
        }
    }
    onGeneralActionClick(operation) {
        this.performGeneralAction(operation);
    }
    performGeneralAction(operation) {
        this.multipleActionOutput.emit({
            operation: operation,
            data: this.selectedRows,
        });
        if (operation.mustLockRows) {
            this.lockSelectedRows(this.selectedRows);
        }
    }
    unLockRow(row) {
        row.processing = false;
    }
    lockSelectedRows(rows) {
        rows.forEach((row) => {
            row.processing = true;
        });
    }
    unLockSelectedRows(rows) {
        rows.forEach((row) => {
            row.processing = false;
        });
    }
    performGeneralActionConfirmation(operation) {
        this._confirmation = 'multiple';
        this.generalConfirmation = {
            confirmationData: operation.confirmation,
            action: operation,
        };
        if (this.drawer) {
            this.drawer.open();
        }
    }
    applyFilter() {
        const filterValue = this.filteringStringFormControl.value;
        this.dataSource.filter = filterValue.trim().toLowerCase();
    }
    setFilterSelection() {
        if (this.filteringColumnsFormControl.value &&
            this.filteringColumnsFormControl.value.length != 0) {
            this.dataSource.filterPredicate = (data, filter) => {
                let result = false;
                result = this.filteringColumnsFormControl.value.some((field) => {
                    return data[field].toString().toLowerCase().indexOf(filter) !== -1;
                });
                return result;
            };
        }
        else {
            this.dataSource.filterPredicate = this.defaultFilterPredicate;
        }
        this.applyFilter();
    }
    /* DragAndDrop */
    toogleDragAndDrop() {
        this.draganddrop = !this.draganddrop;
    }
    drop(event) {
        const rowIndex = event.currentIndex + this.paginator.pageIndex * this.paginator.pageSize;
        const element = event.container.data[rowIndex];
        console.log(element);
        /* if (event.previousContainer === event.container) {
          moveItemInArray(
            event.container.data,
            event.previousIndex,
            event.currentIndex
          );
        } else {
          transferArrayItem(
            event.previousContainer.data,
            event.container.data,
            event.previousIndex,
            event.currentIndex
          );
        } */
    }
}
LitotableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: LitotableComponent, deps: [{ token: i1.LiveAnnouncer }], target: i0.ɵɵFactoryTarget.Component });
LitotableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.16", type: LitotableComponent, selector: "lito-table", inputs: { inputSource: ["source", "inputSource"], dataType: ["type", "dataType"], tableActionsConfig: "tableActionsConfig", selection: "selection", tableConfigurations: ["configurations", "tableConfigurations"], fieldConstrians: "fieldConstrians" }, outputs: { multipleActionOutput: "multipleActionOutput", singleActionOutput: "singleActionOutput" }, viewQueries: [{ propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true }, { propertyName: "drawer", first: true, predicate: MatDrawer, descendants: true }], ngImport: i0, template: "<!-- Operations -->\n<!-- EXPANDABLE -->\n<mat-accordion\n  class=\"table-operations\"\n  *ngIf=\"tableActionsConfig && tableActionsConfig.expandable\"\n>\n  <mat-expansion-panel hideToggle>\n    <mat-expansion-panel-header>\n      <mat-panel-title style=\"align-items: center\">\n        Operaciones\n      </mat-panel-title>\n    </mat-expansion-panel-header>\n    <div class=\"operation-buttons-container\" *ngIf=\"tableActionsConfig\">\n      <div *ngFor=\"let operation of tableActionsConfig.actions\">\n        <div class=\"table-bottom-container\">\n          <!-- (selectedRows.size == 0 && operation.mustHaveOneSelected) ||\n              (selectedRows.size != 1 && operation.scope == 1) -->\n          <div\n            [matTooltipDisabled]=\"operation.performable.state\"\n            matTooltip=\"{{ operation.performable.tooltip }}\"\n          >\n            <button\n              [disabled]=\"!operation.performable.state\"\n              mat-stroked-button\n              class=\"general-action\"\n              (click)=\"\n                operation.confirmation\n                  ? performGeneralActionConfirmation(operation)\n                  : performGeneralAction(operation)\n              \"\n            >\n              <mat-icon\n                *ngIf=\"operation?.icon\"\n                [ngStyle]=\"{\n                  color:\n                    (!operation.performable.state\n                      ? 'gray'\n                      : operation?.color) || 'currentColor'\n                }\"\n                >{{ operation.icon }}</mat-icon\n              >\n              {{ operation.content }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </mat-expansion-panel>\n</mat-accordion>\n\n<!-- NOT EXPANDABLE -->\n<div\n  class=\"table-operations mat-elevation-z2 not-expandable-operatios\"\n  *ngIf=\"tableActionsConfig && !tableActionsConfig.expandable\"\n>\n  <div class=\"not-expandable-actions-container\">\n    <div class=\"operation-buttons-container\" *ngIf=\"tableActionsConfig\">\n      <div *ngFor=\"let operation of tableActionsConfig.actions\">\n        <div class=\"table-bottom-container\">\n          <!-- (selectedRows.size == 0 && operation.mustHaveOneSelected) ||\n              (selectedRows.size != 1 && operation.scope == 1) -->\n          <div\n            [matTooltipDisabled]=\"operation.performable.state\"\n            matTooltip=\"{{ operation.performable.tooltip }}\"\n          >\n            <button\n              [disabled]=\"!operation.performable.state\"\n              mat-stroked-button\n              class=\"general-action\"\n              (click)=\"\n                operation.confirmation\n                  ? performGeneralActionConfirmation(operation)\n                  : performGeneralAction(operation)\n              \"\n            >\n              <mat-icon\n                *ngIf=\"operation?.icon\"\n                [ngStyle]=\"{\n                  color:\n                    (!operation.performable.state\n                      ? 'gray'\n                      : operation?.color) || 'currentColor'\n                }\"\n                >{{ operation.icon }}</mat-icon\n              >\n              {{ operation.content }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Table -->\n<div class=\"litotable-main-container\">\n  <div class=\"litotable-container mat-elevation-z4\">\n    <!-- Toolbar actions -->\n    <div class=\"table-top-container\">\n      <button\n        mat-icon-button\n        aria-label=\"Drag & Drop\"\n        (click)=\"$event.stopPropagation(); toogleDragAndDrop()\"\n      >\n        <mat-icon [ngStyle]=\"{ color: draganddrop ? 'red' : 'currentColor' }\"\n          >open_with</mat-icon\n        >\n      </button>\n\n      <button\n        mat-icon-button\n        [matMenuTriggerFor]=\"export\"\n        aria-label=\"Exportar\"\n        (click)=\"$event.stopPropagation()\"\n      >\n        <mat-icon>download</mat-icon>\n      </button>\n\n      <button\n        mat-icon-button\n        [matMenuTriggerFor]=\"columns\"\n        aria-label=\"Columnas\"\n        (click)=\"$event.stopPropagation()\"\n      >\n        <mat-icon>view_column</mat-icon>\n      </button>\n\n      <button\n        mat-icon-button\n        [matMenuTriggerFor]=\"constrains\"\n        aria-label=\"Constrains\"\n        (click)=\"$event.stopPropagation()\"\n      >\n        <mat-icon>brush</mat-icon>\n      </button>\n    </div>\n    <div class=\"table-container\">\n      <!-- Filter -->\n      <div class=\"filter-container\">\n        <mat-form-field appearance=\"standard\">\n          <mat-label>Columnas a filtrar</mat-label>\n          <mat-select\n            (selectionChange)=\"setFilterSelection()\"\n            [formControl]=\"filteringColumnsFormControl\"\n            multiple\n          >\n            <mat-option\n              *ngFor=\"let columna of displayedColumns.columns\"\n              [value]=\"columna.propertyKey\"\n              >{{ columna.name }}</mat-option\n            >\n          </mat-select>\n        </mat-form-field>\n        <mat-form-field appearance=\"standard\" class=\"filter-selector\">\n          <mat-label>Filter</mat-label>\n          <input\n            [formControl]=\"filteringStringFormControl\"\n            matInput\n            (keyup)=\"applyFilter()\"\n            placeholder=\"Ex. ium\"\n            #input\n          />\n        </mat-form-field>\n      </div>\n      <mat-drawer-container class=\"example-container\" [hasBackdrop]=\"true\">\n        <mat-drawer #drawer mode=\"over\" position=\"end\">\n          <ng-container *ngTemplateOutlet=\"sidenavMenu\"></ng-container>\n        </mat-drawer>\n        <mat-drawer-content>\n          <div *ngIf=\"dataSource\" class=\"table-responsive\">\n            <!-- Table -->\n            <table\n              mat-table\n              [dataSource]=\"dataSource\"\n              matSort\n              (matSortChange)=\"announceSortChange($event)\"\n              cdkDropList\n              [cdkDropListData]=\"dataSource.data\"\n              (cdkDropListDropped)=\"drop($event)\"\n              cdkDropListSortingDisabled\n            >\n              <!-- Columna de seleccion -->\n              <ng-container matColumnDef=\"selection\">\n                <th mat-header-cell *matHeaderCellDef>\n                  <mat-checkbox\n                    (change)=\"masterToggle()\"\n                    [indeterminate]=\"\n                      this.selectedRows.size != 0 && !isAllSelected()\n                    \"\n                    [checked]=\"isAllSelected()\"\n                  >\n                  </mat-checkbox>\n                </th>\n                <td\n                  mat-cell\n                  *matCellDef=\"let row\"\n                  style=\"background-color: rgba(255, 255, 255, 1)\"\n                >\n                  <mat-checkbox\n                    (click)=\"$event.stopPropagation()\"\n                    (change)=\"selectionToogle($event.checked, row)\"\n                    [checked]=\"selectedRows.has(row)\"\n                    [disabled]=\"row.processing\"\n                  >\n                  </mat-checkbox>\n                </td>\n              </ng-container>\n\n              <!-- Resto de columnas -->\n              <ng-container\n                *ngFor=\"let column of displayedColumns.columns\"\n                matColumnDef=\"{{ column.name }}\"\n              >\n                <!-- Column Header -->\n                <th\n                  mat-header-cell\n                  *matHeaderCellDef\n                  mat-sort-header=\"{{ column.propertyKey }}\"\n                  sortActionDescription=\"Sort by {{ column.propertyKey }}\"\n                  [class.header-borders]=\"tableConfigurations?.headerBorders\"\n                >\n                  {{ column.name }}\n                </th>\n                <!-- Column Data -->\n                <td\n                  mat-cell\n                  *matCellDef=\"let element\"\n                  #litotableTd\n                  [class.cell-borders]=\"tableConfigurations?.headerBorders\"\n                >\n                  <div\n                    #content\n                    style=\"transition: 0.3s all\"\n                    [class.cell-align-left]=\"\n                      column.contentAlign && column.contentAlign == 1\n                    \"\n                    [class.cell-align-center]=\"\n                      column.contentAlign && column.contentAlign == 2\n                    \"\n                    [class.cell-align-right]=\"\n                      column.contentAlign && column.contentAlign == 3\n                    \"\n                    [ngStyle]=\"\n                      litotableTd.parentElement?.style?.color\n                        ? { color: litotableTd.parentElement?.style?.color }\n                        : {}\n                    \"\n                  >\n                    <span *ngIf=\"column.type == columnTypes.STRING\">\n                      {{ element[column.propertyKey] }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.INTEGER\">\n                      {{ element[column.propertyKey] | number: \"1.0-0\" }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.FLOAT\">\n                      {{ element[column.propertyKey] | number: \"1.2-4\" }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.DATE\">\n                      {{\n                        element[column.propertyKey]\n                          | date: (column.format ? column.format : \"short\")\n                      }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.CURRENCY\">\n                      {{ element[column.propertyKey] | currency }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.CUIT\">\n                      {{ element[column.propertyKey] | cuit: \"-\" }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.PHONE\">\n                      {{\n                        element[column.propertyKey]\n                          | phone: (column.format ? column.format : undefined)\n                      }}\n                    </span>\n                    <span *ngIf=\"column.type == columnTypes.ENUM\">\n                      <span\n                        *ngFor=\"let asociation of column.enumTypeAsociation\"\n                      >\n                        <mat-icon\n                          *ngIf=\"asociation.key == element[column.propertyKey]\"\n                          matTooltip=\"{{ asociation.tooltip }}\"\n                          >{{ asociation.icon }}</mat-icon\n                        >\n                      </span>\n                    </span>\n                  </div>\n                </td>\n              </ng-container>\n\n              <!-- Columna de Acciones -->\n              <ng-container\n                *ngIf=\"tableConfigurations?.actionsColumn\"\n                matColumnDef=\"actions\"\n              >\n                <th\n                  mat-header-cell\n                  *matHeaderCellDef\n                  [class.header-borders]=\"tableConfigurations?.headerBorders\"\n                  class=\"actions-th\"\n                >\n                  Acciones\n                </th>\n                <td\n                  mat-cell\n                  *matCellDef=\"let row\"\n                  [class.cell-borders]=\"tableConfigurations?.headerBorders\"\n                  style=\"padding: 0\"\n                  class=\"actions-td\"\n                >\n                  <div>\n                    <div\n                      *ngFor=\"let action of tableConfigurations?.actionsColumn\"\n                    >\n                      <button\n                        [disabled]=\"row.processing\"\n                        *ngIf=\"action.confirmation\"\n                        mat-icon-button\n                        matTooltip=\"{{ action.tooltip }}\"\n                        (click)=\"\n                          performRowActionConfirmation(\n                            action,\n                            row,\n                            action.confirmation\n                          )\n                        \"\n                      >\n                        <mat-icon\n                          [style]=\"{\n                            color: row.processing ? 'lightgray' : action.color\n                          }\"\n                          >{{ action.icon }}</mat-icon\n                        >\n                      </button>\n                      <button\n                        [disabled]=\"row.processing\"\n                        *ngIf=\"!action.confirmation\"\n                        mat-icon-button\n                        matTooltip=\"{{ action.tooltip }}\"\n                        (click)=\"onRowActionClick(row, action)\"\n                      >\n                        <mat-icon\n                          [style]=\"{\n                            color: row.processing ? 'lightgray' : action.color\n                          }\"\n                          >{{ action.icon }}</mat-icon\n                        >\n                      </button>\n                    </div>\n                  </div>\n                </td>\n              </ng-container>\n\n              <!-- Columnas de agrupacion -->\n              <ng-container matColumnDef=\"empty-group\">\n                <th *matHeaderCellDef class=\"group-header-empty\"></th>\n              </ng-container>\n              <ng-container\n                *ngFor=\"let col of displayedColumns.columnGroups.groupColumns\"\n                matColumnDef=\"{{ col.name }}\"\n              >\n                <th\n                  mat-header-cell\n                  *matHeaderCellDef\n                  [attr.colspan]=\"col.colspan\"\n                >\n                  {{ col.name }}\n                </th>\n              </ng-container>\n              <tr\n                class=\"group-header\"\n                mat-header-row\n                *matHeaderRowDef=\"displayedColumns.columnGroups.displayNames\"\n              ></tr>\n\n              <!-- Encabezados de columnas -->\n              <tr\n                mat-header-row\n                *matHeaderRowDef=\"displayedColumns.columnNames\"\n              ></tr>\n\n              <!-- Formato condicional de filas -->\n              <tr\n                cdkDrag\n                [cdkDragDisabled]=\"!draganddrop\"\n                mat-row\n                [class.mat-row-selected]=\"selectedRows.has(row)\"\n                [class.mat-row-selected-borders]=\"\n                  selectedRows.has(row) &&\n                  tableConfigurations?.selectionStyle == 1\n                \"\n                [class.mat-row-selected-shadow]=\"\n                  selectedRows.has(row) &&\n                  tableConfigurations?.selectionStyle == 2\n                \"\n                [class.mat-row-borders]=\"tableConfigurations?.hoverStyle == 1\"\n                [class.mat-row-shadow]=\"tableConfigurations?.hoverStyle == 2\"\n                style=\"transition: 0.3s background-color\"\n                [ngStyle]=\"constrainedRows.has(row) ? row.rowStyle.style : ''\"\n                *matRowDef=\"let row; columns: displayedColumns.columnNames\"\n                [class.mat-row-processing]=\"row.processing\"\n              >\n                <div *cdkDragPlaceholder>placeholder</div>\n              </tr>\n\n              <!-- Mensaje por defecto en caso de no haber datos o se este fetcheando -->\n              <tr class=\"mat-row\" *matNoDataRow>\n                <td class=\"mat-cell\" colspan=\"4\">\n                  {{ fetching ? \"fetching data\" : \"No data found\" }}\n                </td>\n              </tr>\n            </table>\n          </div>\n        </mat-drawer-content>\n      </mat-drawer-container>\n\n      <!-- Footer action button -->\n      <div class=\"table-bottom-container\">\n        <button\n          mat-stroked-button\n          class=\"footercell\"\n          (click)=\"performFooterAction()\"\n        >\n          <mat-icon\n            *ngIf=\"tableConfigurations?.footerAction?.icon\"\n            [ngStyle]=\"{\n              color: tableConfigurations?.footerAction?.color || 'currentColor'\n            }\"\n            >{{ tableConfigurations?.footerAction?.icon }}</mat-icon\n          >\n          {{ tableConfigurations?.footerAction?.content }}\n        </button>\n      </div>\n    </div>\n\n    <!-- Paginator -->\n    <div class=\"table-bottom-container\">\n      <mat-paginator\n        [pageSizeOptions]=\"tableConfigurations?.paginationSizes || [5, 10, 20]\"\n        showFirstLastButtons\n        aria-label=\"Select page\"\n      >\n      </mat-paginator>\n    </div>\n\n    <!-- Progressbar -->\n    <mat-progress-bar\n      [mode]=\"fetching ? 'indeterminate' : 'determinate'\"\n    ></mat-progress-bar>\n  </div>\n</div>\n\n<!-- Export Menu -->\n<mat-menu #export=\"matMenu\" xPosition=\"before\">\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n    disabled=\"true\"\n  >\n    Exportar\n  </div>\n</mat-menu>\n\n<!-- Columns Selector Menu -->\n<mat-menu #columns=\"matMenu\" xPosition=\"before\">\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n    disabled=\"true\"\n  >\n    Columnas\n  </div>\n  <mat-divider></mat-divider>\n\n  <div\n    *ngFor=\"let column of displayedColumns.columns\"\n    mat-menu-item\n    (click)=\"$event.stopPropagation()\"\n  >\n    <mat-slide-toggle\n      color=\"primary\"\n      (click)=\"$event.stopPropagation()\"\n      (change)=\"displayedColumns.changeColumnVisivility(column)\"\n      [checked]=\"column.visible\"\n    >\n      {{ column.name }}\n    </mat-slide-toggle>\n  </div>\n  <mat-divider></mat-divider>\n  <div\n    *ngFor=\"let group of displayedColumns.columnGroups.groupColumns\"\n    mat-menu-item\n    (click)=\"$event.stopPropagation()\"\n  >\n    <mat-slide-toggle\n      color=\"accent\"\n      (click)=\"$event.stopPropagation()\"\n      (change)=\"\n        group.toogleVisibbility($event.checked);\n        displayedColumns.updateVisivility()\n      \"\n      [checked]=\"group.checked\"\n    >\n      {{ group.name }}\n    </mat-slide-toggle>\n  </div>\n  <button\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"displayedColumns.allVisible(); $event.stopPropagation()\"\n  >\n    Todas\n  </button>\n</mat-menu>\n\n<!-- Constrains Menu -->\n<mat-menu\n  #constrains=\"matMenu\"\n  xPosition=\"before\"\n  style=\"padding: 0.5rem !important\"\n>\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n    disabled=\"true\"\n  >\n    Estilos\n  </div>\n  <div\n    mat-menu-item\n    disableRipple=\"true\"\n    *ngFor=\"let constr of fieldConstrians\"\n    (click)=\"$event.stopPropagation()\"\n    [style]=\"{\n      display: 'flex',\n      'align-items': 'center',\n      'justify-items': 'center',\n      color: constr.constrain.style['color'],\n      'background-color': constr.constrain.style['background-color'],\n      'text-align': 'center'\n    }\"\n  >\n    <span style=\"flex-grow: 1; text-align: center\">{{\n      constr.constrainName\n    }}</span>\n    <button\n      mat-icon-button\n      matTooltip=\"remove\"\n      style=\"justify-self: flex-end; margin-left: 1rem\"\n      [matMenuTriggerFor]=\"constrainDeletionConfirm\"\n      [matMenuTriggerData]=\"{ data: constr }\"\n    >\n      <mat-icon style=\"margin: auto\">delete</mat-icon>\n    </button>\n    <button mat-icon-button style=\"justify-self: flex-end\">\n      <mat-icon style=\"margin: auto\" matTooltip=\"hide\">edit</mat-icon>\n    </button>\n    <button\n      mat-icon-button\n      style=\"justify-self: flex-end\"\n      (click)=\"\n        constr.constrain.enable = !constr.constrain.enable; updateVisibility()\n      \"\n    >\n      <mat-icon style=\"margin: auto\" matTooltip=\"hide\">{{\n        constr.constrain.enable ? \"visibility\" : \"visibility_off\"\n      }}</mat-icon>\n    </button>\n  </div>\n\n  <!-- Constrain Creator -->\n  <div\n    mat-menu-item\n    style=\"text-align: center\"\n    (click)=\"$event.stopPropagation()\"\n  >\n    <litotable-constrain-creator\n      [columns]=\"displayedColumns.columns\"\n      (result-constrain)=\"addConstrain($event)\"\n      ><mat-icon style=\"margin: auto\"\n        >add_circle</mat-icon\n      ></litotable-constrain-creator\n    >\n  </div>\n</mat-menu>\n\n<mat-menu #constrainDeletionConfirm=\"matMenu\" xPosition=\"before\">\n  <ng-template matMenuContent let-constrain=\"data\">\n    <button\n      mat-menu-item\n      (click)=\"removeConstrain(constrain)\"\n      style=\"color: red; font-weight: 500\"\n    >\n      confirm remove\n    </button>\n  </ng-template>\n</mat-menu>\n\n<mat-menu #constrain=\"matMenu\" xPosition=\"before\">\n  <ng-template matMenuContent let-data=\"data\">\n    <mat-card\n      (click)=\"$event.stopPropagation()\"\n      (keypress)=\"$event.stopPropagation()\"\n    >\n      <mat-card-content\n        (click)=\"$event.stopPropagation()\"\n        (keypress)=\"$event.stopPropagation()\"\n        class=\"constrain-mat-content\"\n      >\n        <div\n          class=\"constrain-mat-content-dual\"\n          (click)=\"$event.stopPropagation()\"\n          (keypress)=\"$event.stopPropagation()\"\n        >\n          <app-lito-color-picker\n            [colors]=\"tableConfigurations?.rowStyleColors\"\n            (result)=\"\n              changeConstrainState($event, data.constrain, 'background-color')\n            \"\n            content=\"Background\"\n          ></app-lito-color-picker>\n          <app-lito-color-picker\n            [colors]=\"tableConfigurations?.rowStyleColors\"\n            (result)=\"changeConstrainState($event, data.constrain, 'color')\"\n            content=\"Foreground\"\n          ></app-lito-color-picker>\n        </div>\n        <div\n          [style]=\"{\n            color: data.constrain.style['color'],\n            'background-color': data.constrain.style['background-color'],\n            'margin-bottom': '1rem',\n            'text-align': 'center',\n            padding: '0.5rem 0',\n            width: '100%'\n          }\"\n        >\n          {{ data.constrain.values[0] }}\n        </div>\n        <mat-button-toggle-group\n          name=\"fontStyle\"\n          aria-label=\"Font Style\"\n          (click)=\"$event.stopPropagation()\"\n          value=\"{{ data.constrain.type }}\"\n          (change)=\"\n            changeConstrainState($event, data.constrain, 'number-type', false)\n          \"\n        >\n          <mat-button-toggle value=\"1\">=</mat-button-toggle>\n          <mat-button-toggle value=\"2\">{{ \"\\>\" }}</mat-button-toggle>\n          <mat-button-toggle value=\"3\">{{ \"\\<\" }}</mat-button-toggle>\n          <mat-button-toggle value=\"4\">{{ \"\\<\\>\" }}</mat-button-toggle>\n        </mat-button-toggle-group>\n        <div\n          *ngIf=\"data.constrain.type != numberConstrainType.BETWEEN\"\n          (click)=\"$event.stopPropagation()\"\n          (keydown)=\"$event.stopPropagation()\"\n          (keypress)=\"$event.stopPropagation()\"\n          style=\"display: flex; justify-content: space-between\"\n        >\n          <mat-form-field\n            style=\"width: 100%\"\n            appearance=\"fill\"\n            (click)=\"$event.stopPropagation()\"\n            (keypress)=\"$event.stopPropagation()\"\n            (keydown)=\"$event.stopPropagation()\"\n          >\n            <mat-label (click)=\"$event.stopPropagation()\">VALOR</mat-label>\n            <input\n              type=\"number\"\n              step=\"100\"\n              (keydown)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              (click)=\"$event.stopPropagation()\"\n              (change)=\"\n                $event.stopPropagation();\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value',\n                  false\n                )\n              \"\n              (keyup)=\"\n                $event.stopPropagation();\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value',\n                  false\n                )\n              \"\n              matInput\n              placeholder=\"\"\n              value=\"{{ data.constrain.values[0] }}\"\n            />\n          </mat-form-field>\n        </div>\n        <!-- BETWEEN -->\n        <div\n          *ngIf=\"data.constrain.type == numberConstrainType.BETWEEN\"\n          (click)=\"$event.stopPropagation()\"\n          (keypress)=\"$event.stopPropagation()\"\n          (keydown)=\"$event.stopPropagation()\"\n          style=\"max-width: fit-content; display: flow-root\"\n        >\n          <mat-form-field\n            style=\"max-width: 45%; float: left\"\n            appearance=\"fill\"\n            (click)=\"$event.stopPropagation()\"\n            (keypress)=\"$event.stopPropagation()\"\n            (keydown)=\"$event.stopPropagation()\"\n          >\n            <mat-label (click)=\"$event.stopPropagation()\">DESDE</mat-label>\n            <input\n              type=\"number\"\n              (click)=\"$event.stopPropagation()\"\n              (keydown)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              (change)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value1',\n                  false\n                )\n              \"\n              (keyup)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value1',\n                  false\n                )\n              \"\n              matInput\n              placeholder=\"\"\n              value=\"{{ data.constrain.values[0] }}\"\n            />\n          </mat-form-field>\n          <mat-form-field\n            style=\"max-width: 45%; float: right\"\n            appearance=\"fill\"\n            (click)=\"$event.stopPropagation()\"\n            (keypress)=\"$event.stopPropagation()\"\n            (keydown)=\"$event.stopPropagation()\"\n          >\n            <mat-label\n              (click)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              >HASTA</mat-label\n            >\n            <input\n              type=\"number\"\n              step=\"100\"\n              (change)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value2',\n                  false\n                )\n              \"\n              (click)=\"$event.stopPropagation()\"\n              (keydown)=\"$event.stopPropagation()\"\n              (keypress)=\"$event.stopPropagation()\"\n              (keyup)=\"\n                changeConstrainState(\n                  $event,\n                  data.constrain,\n                  'number-value2',\n                  false\n                )\n              \"\n              matInput\n              placeholder=\"\"\n              value=\"{{ data.constrain.values[1] }}\"\n            />\n          </mat-form-field>\n        </div>\n      </mat-card-content>\n    </mat-card>\n  </ng-template>\n</mat-menu>\n\n<!-- sidenav-menu -->\n<ng-template #sidenavMenu>\n  <div style=\"padding: 1rem\">\n    <h2>\n      <span *ngIf=\"_confirmation == 'single'\">\n        {{\n          rowConfirmation\n            ? rowConfirmation?.confirmationData?.title\n            : \"Confirmacion\"\n        }}\n      </span>\n      <span *ngIf=\"_confirmation == 'multiple'\">\n        {{\n          generalConfirmation\n            ? generalConfirmation?.confirmationData?.title\n            : \"Confirmacion\"\n        }}\n      </span>\n    </h2>\n    <p>\n      <span *ngIf=\"_confirmation == 'single'\">\n        {{ rowConfirmation?.confirmationData?.content }}\n      </span>\n      <span *ngIf=\"_confirmation == 'multiple'\">\n        {{ generalConfirmation?.confirmationData?.content }}\n      </span>\n    </p>\n\n    <button\n      mat-raised-button\n      color=\"primary\"\n      style=\"margin-right: 0.5rem\"\n      (click)=\"\n        drawer.toggle();\n        _confirmation == 'single'\n          ? onRowActionClick(rowConfirmation?.row, rowConfirmation!.action)\n          : onGeneralActionClick(generalConfirmation!.action)\n      \"\n    >\n      accept\n    </button>\n    <button mat-raised-button color=\"warn\" (click)=\"drawer.toggle()\">\n      cancel\n    </button>\n  </div>\n</ng-template>\n", styles: [".litotable-main-container{width:100%;display:flex;flex-direction:row}.litotable-container{width:100%}.litotable-operations{width:0%;transition:.5s all}.litotable-operations.growed{width:50%;margin-left:1rem}.not-expandable-operatios{margin:1rem 0;border-radius:4px;padding:3px 24px}table{width:100%;max-width:100%;max-height:100%}.table-responsive{overflow:auto;min-height:.01%}.table-container{padding:1rem 1rem 0;overflow:hidden}.mat-cell>div{padding:0 10px!important;width:max-content!important}.mat-header-row .mat-header-cell{padding:0 .5rem}.mat-row{transition:.3s all}.mat-header-row .mat-header-cell.header-borders{border-right:1px solid rgba(0,0,0,.12)}.mat-header-row .mat-header-cell.header-borders:nth-child(2){border-left:1px solid rgba(0,0,0,.12)}.mat-row .mat-cell.cell-borders{border-right:1px solid rgba(0,0,0,.12)}.mat-row .mat-cell.cell-borders:nth-child(2){border-left:1px solid rgba(0,0,0,.12)}.mat-row .mat-cell{border-bottom:1px solid transparent;border-top:1px solid transparent}.mat-row.mat-row-borders:hover .mat-cell,.mat-row.mat-row-selected-borders .mat-cell{border-bottom:1px dashed currentColor;border-top:1px dashed currentColor}.mat-row.mat-row-shadow:hover .mat-cell,.mat-row.mat-row-selected-shadow .mat-cell{background-color:#0000000d}.row-is-selected{filter:brightness(1.2) contrast(.8)}.mat-column-selection{overflow:initial}.mat-header-cell{border-top-width:1px;border-top-color:#0000001f;background-color:#00000005;border-top-style:solid}th.mat-column-selection.mat-header-cell:first-of-type,td.mat-column-selection.mat-cell:first-of-type,td.mat-column-selection.mat-footer-cell:first-of-type{padding-left:10px;padding-right:10px;width:20px}.table-top-container,.table-bottom-container{display:flex}.table-top-container{justify-content:flex-end;padding:.5rem .5rem 0}.not-expandable-actions-container{padding:16px 0}.table-bottom-container mat-paginator{flex-grow:1}.table-operations mat-expansion-panel{margin:1rem 0}::ng-deep .column-content-alignment-1>div{text-align:left}::ng-deep .column-content-alignment-2>div{text-align:center}::ng-deep .column-content-alignment-3>div{text-align:right}.operation-buttons-container{display:flex;flex-direction:row;justify-content:flex-start}.operation-buttons-container>div{margin:0 .5rem}.constrain-mat-content>*{width:100%}.constrain-mat-content>mat-button-toggle-group{margin-bottom:1rem}.constrain-mat-content>mat-button-toggle-group>*{width:25%}.constrain-mat-content .constrain-mat-content-dual{display:flex;width:100%;justify-content:space-between;margin-bottom:1rem}.constrain-mat-content .constrain-mat-content-dual>*{width:45%}.group-header{height:2rem}.group-header>*{border-bottom:none;border-right:1px solid rgba(0,0,0,.12);border-left:1px solid rgba(0,0,0,.12);text-align:center}.group-header-empty{border-right:none!important;border-left:none!important}.cdk-drag-preview{box-sizing:border-box;padding:1rem;position:relative}.cdk-drag-preview:after{content:\"\";position:absolute;top:0;bottom:0;left:5px;right:5px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder{color:transparent;position:relative;transition:transform .25s cubic-bezier(0,0,.2,1)}.actions-td,.actions-th{position:sticky;right:0;border-left:1px solid rgba(0,0,0,.12);background:white!important}.actions-td>div{display:flex;flex-direction:row;height:100%}.mat-row-processing:after{background:linear-gradient(110deg,rgba(225,225,225,.5) 8%,rgba(255,255,255,.8) 18%,rgba(225,225,225,.5) 33%);opacity:.5;background-size:200% 100%;animation:1.5s shine linear infinite;cursor:not-allowed;position:absolute;left:0;content:\"\";width:100%;height:inherit}.mat-row-processing>*:not(:last-child){color:#d3d3d3!important;border-right:0px solid!important;border-left:0px solid!important}@keyframes shine{to{background-position-x:-200%}}.footercell{width:100%;border-radius:0 0 3px 3px}.mat-row.deletion-row{transition:all 1s ease!important;height:0px}.cell-align-left{float:left}.cell-align-center{margin-right:auto;margin-left:auto}.cell-align-right{float:right}.filter-container{display:flex;flex-direction:row;width:100%;overflow:hidden}.filter-container .filter-selector{margin-left:1rem;flex-grow:1}.cdk-drag-preview{background-color:#fff;padding:0!important;display:flex;justify-content:space-between;margin:0;align-items:center;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-preview>*{display:flex;align-items:center;justify-content:center;height:100%;flex-grow:1}.cdk-drag:not(.cdk-drag-disabled){cursor:move}.cdk-drag-placeholder{height:48px;width:0;opacity:0}.cdk-drop-list-dragging tr:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)!important}\n"], components: [{ type: i2.MatExpansionPanel, selector: "mat-expansion-panel", inputs: ["disabled", "expanded", "hideToggle", "togglePosition"], outputs: ["opened", "closed", "expandedChange", "afterExpand", "afterCollapse"], exportAs: ["matExpansionPanel"] }, { type: i2.MatExpansionPanelHeader, selector: "mat-expansion-panel-header", inputs: ["tabIndex", "expandedHeight", "collapsedHeight"] }, { type: i3.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i4.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i5.MatFormField, selector: "mat-form-field", inputs: ["color", "floatLabel", "appearance", "hideRequiredMarker", "hintLabel"], exportAs: ["matFormField"] }, { type: i6.MatSelect, selector: "mat-select", inputs: ["disabled", "disableRipple", "tabIndex"], exportAs: ["matSelect"] }, { type: i7.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { type: i8.MatDrawerContainer, selector: "mat-drawer-container", inputs: ["autosize", "hasBackdrop"], outputs: ["backdropClick"], exportAs: ["matDrawerContainer"] }, { type: i8.MatDrawer, selector: "mat-drawer", inputs: ["position", "mode", "disableClose", "autoFocus", "opened"], outputs: ["openedChange", "opened", "openedStart", "closed", "closedStart", "positionChanged"], exportAs: ["matDrawer"] }, { type: i8.MatDrawerContent, selector: "mat-drawer-content" }, { type: i9.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { type: i10.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "id", "labelPosition", "name", "required", "checked", "disabled", "indeterminate", "aria-describedby", "value"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { type: i11.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "arrowPosition", "sortActionDescription", "disableClear", "mat-sort-header", "start"], exportAs: ["matSortHeader"] }, { type: i9.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { type: i9.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { type: i12.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { type: i13.MatProgressBar, selector: "mat-progress-bar", inputs: ["color", "mode", "value", "bufferValue"], outputs: ["animationEnd"], exportAs: ["matProgressBar"] }, { type: i14.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i14.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { type: i15.MatDivider, selector: "mat-divider", inputs: ["vertical", "inset"] }, { type: i16.MatSlideToggle, selector: "mat-slide-toggle", inputs: ["disabled", "disableRipple", "color", "tabIndex", "name", "id", "labelPosition", "aria-label", "aria-labelledby", "required", "checked", "aria-describedby"], outputs: ["change", "toggleChange"], exportAs: ["matSlideToggle"] }, { type: i17.ConstrainCreatorComponent, selector: "litotable-constrain-creator", inputs: ["columns"], outputs: ["result-constrain"] }, { type: i18.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i19.LitoColorPickerComponent, selector: "app-lito-color-picker", inputs: ["colors", "content"], outputs: ["result", "newColorArray"] }, { type: i20.MatButtonToggle, selector: "mat-button-toggle", inputs: ["disableRipple", "aria-labelledby", "tabIndex", "appearance", "checked", "disabled", "id", "name", "aria-label", "value"], outputs: ["change"], exportAs: ["matButtonToggle"] }], directives: [{ type: i21.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i2.MatAccordion, selector: "mat-accordion", inputs: ["multi", "displayMode", "togglePosition", "hideToggle"], exportAs: ["matAccordion"] }, { type: i2.MatExpansionPanelTitle, selector: "mat-panel-title" }, { type: i21.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i22.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i21.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i14.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i5.MatLabel, selector: "mat-label" }, { type: i23.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i23.FormControlDirective, selector: "[formControl]", inputs: ["disabled", "formControl", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { type: i24.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["id", "disabled", "required", "type", "value", "readonly", "placeholder", "errorStateMatcher", "aria-describedby"], exportAs: ["matInput"] }, { type: i23.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i21.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i11.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortStart", "matSortDirection", "matSortDisableClear", "matSortActive"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { type: i25.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "id", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListAutoScrollDisabled", "cdkDropListOrientation", "cdkDropListLockAxis", "cdkDropListData", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { type: i9.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { type: i9.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { type: i9.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { type: i9.MatCellDef, selector: "[matCellDef]" }, { type: i9.MatCell, selector: "mat-cell, td[mat-cell]" }, { type: i9.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { type: i9.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { type: i25.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragDisabled", "cdkDragStartDelay", "cdkDragLockAxis", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragBoundary", "cdkDragRootElement", "cdkDragPreviewContainer", "cdkDragData", "cdkDragFreeDragPosition"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { type: i25.CdkDragPlaceholder, selector: "ng-template[cdkDragPlaceholder]", inputs: ["data"] }, { type: i9.MatNoDataRow, selector: "ng-template[matNoDataRow]" }, { type: i14.MatMenuContent, selector: "ng-template[matMenuContent]" }, { type: i18.MatCardContent, selector: "mat-card-content, [mat-card-content], [matCardContent]" }, { type: i20.MatButtonToggleGroup, selector: "mat-button-toggle-group", inputs: ["appearance", "name", "vertical", "value", "multiple", "disabled"], outputs: ["valueChange", "change"], exportAs: ["matButtonToggleGroup"] }], pipes: { "number": i21.DecimalPipe, "date": i21.DatePipe, "currency": i21.CurrencyPipe, "cuit": i26.CuitPipe, "phone": i27.PhonePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.16", ngImport: i0, type: LitotableComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lito-table',
                    templateUrl: './lito-table.component.html',
                    styleUrls: ['./lito-table.component.css'],
                }]
        }], ctorParameters: function () { return [{ type: i1.LiveAnnouncer }]; }, propDecorators: { paginator: [{
                type: ViewChild,
                args: [MatPaginator]
            }], inputSource: [{
                type: Input,
                args: ['source']
            }], dataType: [{
                type: Input,
                args: ['type']
            }], tableActionsConfig: [{
                type: Input,
                args: ['tableActionsConfig']
            }], selection: [{
                type: Input,
                args: ['selection']
            }], tableConfigurations: [{
                type: Input,
                args: ['configurations']
            }], fieldConstrians: [{
                type: Input,
                args: ['fieldConstrians']
            }], sort: [{
                type: ViewChild,
                args: [MatSort]
            }], drawer: [{
                type: ViewChild,
                args: [MatDrawer]
            }], multipleActionOutput: [{
                type: Output,
                args: ['multipleActionOutput']
            }], singleActionOutput: [{
                type: Output,
                args: ['singleActionOutput']
            }] } });
export class DisplayedColumns {
    constructor(columns = [], selectable = false, actionsColumn = false) {
        this.columns = columns;
        this.columnNames = columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        this.columnTypes = columns.map((x) => x.type);
        this.selectable = selectable;
        this.actionColumn = actionsColumn;
        if (selectable)
            this.columnNames.unshift('selection');
        if (actionsColumn)
            this.columnNames.push('actions');
        this.columnGroups = new ColumnGroups(columns.length);
    }
    changeColumnVisivility(column) {
        this.columns.filter((c) => c == column)[0].visible = !column.visible;
        this.columnNames = this.columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        if (this.selectable)
            this.columnNames.unshift('selection');
        if (this.actionColumn)
            this.columnNames.push('actions');
        this.updateGroups();
    }
    updateVisivility() {
        this.columnNames = this.columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        if (this.selectable)
            this.columnNames.unshift('selection');
        if (this.actionColumn)
            this.columnNames.push('actions');
        this.updateGroups();
    }
    updateGroups() {
        this.columnGroups.updateColumns(this.columns.filter((c) => c.visible == true));
    }
    allVisible() {
        this.columns.forEach((c) => (c.visible = true));
        this.columnNames = this.columns
            .filter((c) => c.visible == true)
            .map((x) => x.name);
        if (this.selectable)
            this.columnNames.unshift('selection');
        if (this.actionColumn)
            this.columnNames.push('actions');
    }
}
export class GroupColumn {
    constructor(name) {
        this.columns = [];
        this.count = 0;
        this.start = 0;
        this.colspan = 1;
        this.name = name;
        this.checked = this.checkState();
    }
    updateColspan() {
        let groupData = this.columns
            .filter((x) => x.visible)
            .sort((a, b) => a.order - b.order);
        this.colspan = groupData.length;
        if (groupData.length != 0)
            this.start = groupData[0].order;
        this.checked = this.checkState();
    }
    addColumn(c) {
        this.columns.push(c);
        this.updateColspan();
    }
    toogleVisibbility(state) {
        for (const c of this.columns) {
            c.visible = state;
        }
    }
    checkState() {
        return this.columns.some((x) => x.visible);
    }
}
export class ColumnGroups {
    constructor(length) {
        this.active = false;
        this.groupColumns = [];
        this.displayNames = [];
        this.size = 0;
        this.displayNames = new Array(length).fill('empty-group');
    }
    updateColumns(visibleColumns) {
        this.displayNames = new Array(visibleColumns.length).fill('empty-group');
        this.groupColumns.forEach((e) => e.updateColspan());
        let deletion = 0;
        for (let i = 0; i < this.groupColumns.length; i++) {
            const element = this.groupColumns[i];
            const firstVisible = element.columns.filter((y) => y.visible)[0];
            if (element.colspan != 0) {
                let index = visibleColumns.findIndex((x) => x.propertyKey == firstVisible.propertyKey);
                this.displayNames.splice(1 + index - deletion, element.colspan, element.name);
                deletion += element.colspan - 1;
            }
        }
        /*
        this.displayNames = visibleColumns
          .reduce(
            (a, c) => {
              const includes = this.groupColumns.some((x) => x.columns.includes(c));
              let str = '';
              this.groupColumns.forEach((gc) => {
                if (gc.columns.includes(c)) {
                  str = gc.name;
                }
              });
              a.push(includes ? str : 'empty-group');
              return a;
            },
            ['empty-group']
          )
          .reduce(
            (a, c) => {
              if (c == 'empty-group' || !a.includes(c)) {
                a.push(c);
              }
              return a;
            },
            ['empty-group']
          );
        */
        this.displayNames.unshift();
    }
}
export class RowConstrain {
    constructor(name, _constrain) {
        this.name = name;
        this._constrain = _constrain;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl0by10YWJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9saXRvLXRhYmxlL3NyYy9saWIvbGl0by10YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9saXRvLXRhYmxlL3NyYy9saWIvbGl0by10YWJsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBRUwsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxFQUNOLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDM0QsT0FBTyxFQUFFLE9BQU8sRUFBUSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdELE9BQU8sa0JBQWtCLENBQUM7QUFFMUIsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNsQyxPQUFPLEVBR0wsc0JBQXNCLEdBQ3ZCLE1BQU0seUNBQXlDLENBQUM7QUFDakQsT0FBTyxFQU9MLGNBQWMsR0FDZixNQUFNLG1DQUFtQyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQXVCLE1BQU0sK0JBQStCLENBQUM7QUFDaEYsT0FBTyxFQUVMLGVBQWUsR0FFaEIsTUFBTSx3QkFBd0IsQ0FBQztBQUNoQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU83QyxNQUFNLE9BQU8sa0JBQWtCO0lBZ0Q3QixZQUFvQixjQUE2QjtRQUE3QixtQkFBYyxHQUFkLGNBQWMsQ0FBZTtRQS9DakQsV0FBVztRQUNYLGdCQUFXLEdBQUcsVUFBVSxDQUFDO1FBQ3pCLG1CQUFjLEdBQUcsY0FBYyxDQUFDO1FBRWhDLFlBQU8sR0FBYSxFQUFFLENBQUM7UUFDdkIsd0JBQW1CLEdBQUcsc0JBQXNCLENBQUM7UUFDN0MscUJBQWdCLEdBQXFCLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztRQUM1RCxrQkFBYSxHQUFtQixFQUFFLENBQUM7UUFDbkMsZUFBVSxHQUFHLElBQUksa0JBQWtCLEVBQUUsQ0FBQztRQUN0QyxhQUFRLEdBQVksS0FBSyxDQUFDO1FBQzFCLGlCQUFZLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUN6QixvQkFBZSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDNUIscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBQ2xDLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQVVsQyxrQkFBYSxHQUFXLFVBQVUsQ0FBQztRQUVuQyxZQUFZO1FBQ1osZ0NBQTJCLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUVoRCwrQkFBMEIsR0FBZ0IsSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFRcEMsb0JBQWUsR0FBMEIsRUFBRSxDQUFDO1FBR3RDLHlCQUFvQixHQUcvQyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ00sdUJBQWtCLEdBRzNDLElBQUksWUFBWSxFQUFFLENBQUM7UUFxV3hCLGdCQUFXLEdBQVksS0FBSyxDQUFDO0lBcFd1QixDQUFDO0lBRXJELFFBQVE7UUFDTixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLFNBQVMsRUFBRTtZQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQVksRUFBRSxFQUFFOztnQkFDMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDaEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDM0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDakMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUM5QixNQUFBLElBQUksQ0FBQyxrQkFBa0IsMENBQUUsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUNuRSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUM7WUFDaEUsQ0FBQyxDQUFDLENBQUM7U0FDSjthQUFNO1lBQ0wsSUFBSSxDQUFDLEdBQVUsRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM3QztRQUNELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDN0MsQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFXO1FBQ25CLE9BQU8sS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUM3QyxDQUFDO0lBRUQsa0JBQWtCLENBQUMsU0FBZTtRQUNoQyxJQUFJLFNBQVMsQ0FBQyxTQUFTLEVBQUU7WUFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsVUFBVSxTQUFTLENBQUMsU0FBUyxRQUFRLENBQUMsQ0FBQztTQUNyRTthQUFNO1lBQ0wsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUNqRDtJQUNILENBQUM7SUFFRCw0QkFBNEI7UUFDMUIsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDbEQsT0FBTyxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN0RCxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUVELGlCQUFpQixDQUFDLE1BQWE7UUFDN0IsSUFBSSxDQUFDLDRCQUE0QixFQUFFLENBQUM7UUFDcEMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ3pCLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUU7Z0JBQ2hDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQy9CLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQ2hDLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7d0JBQ3hCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUU7NEJBQ3hCLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRTtnQ0FDekMsWUFBWSxFQUFFLElBQUk7Z0NBQ2xCLFVBQVUsRUFBRSxLQUFLO2dDQUNqQixLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUU7Z0NBQ3JDLFFBQVEsRUFBRSxJQUFJOzZCQUNmLENBQUMsQ0FBQzt5QkFDSjs2QkFBTSxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTs0QkFDOUIsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssbUNBQ3BCLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLEdBQ3pCLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUN2QixDQUFDO3lCQUNIO3dCQUNELElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO3FCQUNuQztpQkFDRjtZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUVqQyxNQUFNLE1BQU0sR0FBVSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztRQUMzQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDekIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRTtnQkFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDaEMsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRTt3QkFDeEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTs0QkFDeEIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFO2dDQUN6QyxZQUFZLEVBQUUsSUFBSTtnQ0FDbEIsVUFBVSxFQUFFLEtBQUs7Z0NBQ2pCLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRTtnQ0FDckMsUUFBUSxFQUFFLElBQUk7NkJBQ2YsQ0FBQyxDQUFDO3lCQUNKOzZCQUFNLElBQUksT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFOzRCQUM5QixPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsS0FBSyxtQ0FDcEIsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssR0FDekIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQ3ZCLENBQUM7eUJBQ0g7d0JBQ0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7cUJBQ25DO2lCQUNGO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxZQUFZLENBQUMsV0FBbUIsRUFBRSxLQUFVO1FBQzFDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtTQUNuQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxVQUFVOztRQUNSLE1BQU0sZUFBZSxHQUFVLE9BQU8sQ0FBQyxXQUFXLENBQ2hELGlCQUFpQixFQUNqQixJQUFJLENBQUMsUUFBUSxDQUNkLENBQUM7UUFFRixJQUFJLFlBQVksR0FBaUIsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFckQsSUFBSSxlQUFlLElBQUksU0FBUyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FDaEMsQ0FBQyxDQUF5RCxFQUFFLENBQUMsRUFBRSxFQUFFOztnQkFDL0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQ3JCLENBQUMsQ0FBQyxXQUFXLEVBQ2IsQ0FBQyxDQUFDLFdBQVcsRUFDYixVQUFVLENBQUMsTUFBTSxFQUNqQixDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FDakIsQ0FBQztnQkFDRixNQUFNLENBQUMsT0FBTztvQkFDWixDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7Z0JBQzlELE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQztnQkFDckQsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksSUFBSSxVQUFVLENBQUMsTUFBTSxDQUFDO2dCQUNuRCxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLFNBQVMsQ0FBQztnQkFDL0MsTUFBTSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLFlBQVksSUFBSSxTQUFTLENBQUM7Z0JBQzNELE1BQU0sQ0FBQyxrQkFBa0I7b0JBQ3ZCLENBQUMsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLElBQUksU0FBUyxDQUFDO2dCQUU3QyxNQUFNLEdBQUcsR0FBRyxNQUFBLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBVywwQ0FBRSxJQUFJLENBQUM7Z0JBQ3pDLElBQUksR0FBRyxFQUFFO29CQUNQLElBQ0UsWUFBWSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDbEU7d0JBQ0EsSUFBSSxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3ZDLFdBQVcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7d0JBQzlCLFlBQVksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO3FCQUM3Qzt5QkFBTTt3QkFDTCxZQUFZLENBQUMsWUFBWTs2QkFDdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzs2QkFDL0IsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3FCQUN0QjtpQkFDRjtnQkFDRCxPQUFPLE1BQU0sQ0FBQztZQUNoQixDQUFDLENBQ0YsQ0FBQztZQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN6QixPQUFPLENBQUMsQ0FBQyxLQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQU0sQ0FBQztZQUM3QixDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQzFDLElBQUksQ0FBQyxPQUFPLEVBQ1osSUFBSSxDQUFDLFNBQVMsRUFDZCxDQUFBLE1BQUEsSUFBSSxDQUFDLG1CQUFtQiwwQ0FBRSxhQUFhLEtBQUksU0FBUyxDQUNyRCxDQUFDO1FBQ0YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDbEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxhQUFhO1FBQ1gsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7UUFDM0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzVDLE9BQU8sV0FBVyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNsQixDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUU7WUFDM0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQsZUFBZSxDQUFDLEtBQWMsRUFBRSxHQUFROztRQUN0QyxJQUFJLEtBQUssRUFBRTtZQUNULElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzVCO2FBQU07WUFDTCxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztnQkFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMvRDtRQUNELElBQUksTUFBQSxJQUFJLENBQUMsa0JBQWtCLDBDQUFFLE9BQU8sRUFBRTtZQUNwQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ25FO0lBQ0gsQ0FBQztJQUVELG9CQUFvQixDQUNsQixLQUFVLEVBQ1YsSUFBcUIsRUFDckIsS0FBYSxFQUNiLFVBQW1CLElBQUk7UUFFdkIsSUFBSSxPQUFPLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxFQUFFLEVBQUU7WUFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7U0FDM0I7UUFDRCxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1osUUFBUSxLQUFLLEVBQUU7Z0JBQ2IsS0FBSyxhQUFhO29CQUNoQixJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ2xDLE1BQU07Z0JBQ1IsS0FBSyxjQUFjLENBQUM7Z0JBQ3BCLEtBQUssZUFBZTtvQkFDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDOUMsTUFBTTtnQkFDUixLQUFLLGVBQWU7b0JBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzlDLE1BQU07YUFDVDtTQUNGO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUEyQjtRQUN0QyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztRQUNwQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsZ0JBQWdCO1FBQ2QsSUFBSSxDQUFDLDRCQUE0QixFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELGVBQWUsQ0FBQyxTQUE4QjtRQUM1QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUE0QjtRQUNwQyxlQUFlLENBQ2IsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFDakMsS0FBSyxDQUFDLGFBQWEsR0FBRyxDQUFDLEVBQ3ZCLEtBQUssQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUN2QixDQUFDO0lBQ0osQ0FBQztJQUVELGdCQUFnQixDQUFDLEdBQVEsRUFBRSxNQUFxQjtRQUM5QyxJQUNFLE1BQU0sQ0FBQyxZQUFZLENBQUMsYUFBYTtZQUNqQyxNQUFNLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFDakM7WUFDQSxHQUFHLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDO2dCQUMzQixTQUFTLEVBQUUsTUFBTTtnQkFDakIsSUFBSSxFQUFFLEdBQUc7YUFDVixDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7SUFFRCxTQUFTLENBQUMsR0FBUSxFQUFFLE1BQVc7UUFDN0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLElBQUksTUFBTSxFQUFFO1lBQ1YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBUyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDdkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUN0RDthQUFNO1lBQ0wsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQyxHQUFHLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztTQUN4QjtRQUNELElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRTlCLElBQUksQ0FBQyxVQUFVLENBQUMseUJBQXlCLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRUQsbUJBQW1COztRQUNqQixJQUNFLE1BQUEsTUFBQSxJQUFJLENBQUMsbUJBQW1CLDBDQUFFLFlBQVksMENBQUUsWUFBWSxDQUFDLG1CQUFtQixFQUN4RTtZQUNBLE1BQUEsTUFBQSxJQUFJLENBQUMsbUJBQW1CLDBDQUFFLFlBQVksMENBQUUsWUFBWSxDQUFDLG1CQUFtQixFQUFFLENBQUM7U0FDNUU7SUFDSCxDQUFDO0lBRUQsNEJBQTRCLENBQzFCLE1BQXFCLEVBQ3JCLEdBQVEsRUFDUixZQUF1QztRQUV2QyxJQUFJLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQztRQUM5QixJQUFJLENBQUMsZUFBZSxHQUFHO1lBQ3JCLGdCQUFnQixFQUFFLFlBQVk7WUFDOUIsR0FBRyxFQUFFLEdBQUc7WUFDUixNQUFNLEVBQUUsTUFBTTtTQUNmLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQztJQUVELG9CQUFvQixDQUFDLFNBQTRCO1FBQy9DLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsb0JBQW9CLENBQUMsU0FBNEI7UUFDL0MsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQztZQUM3QixTQUFTLEVBQUUsU0FBUztZQUNwQixJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVk7U0FDeEIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxTQUFTLENBQUMsWUFBWSxFQUFFO1lBQzFCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDMUM7SUFDSCxDQUFDO0lBRUQsU0FBUyxDQUFDLEdBQVE7UUFDaEIsR0FBRyxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUNELGdCQUFnQixDQUFDLElBQWM7UUFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ25CLEdBQUcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELGtCQUFrQixDQUFDLElBQWM7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ25CLEdBQUcsQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELGdDQUFnQyxDQUFDLFNBQTRCO1FBQzNELElBQUksQ0FBQyxhQUFhLEdBQUcsVUFBVSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxtQkFBbUIsR0FBRztZQUN6QixnQkFBZ0IsRUFBRSxTQUFTLENBQUMsWUFBYTtZQUN6QyxNQUFNLEVBQUUsU0FBUztTQUNsQixDQUFDO1FBRUYsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNwQjtJQUNILENBQUM7SUFFRCxXQUFXO1FBQ1QsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLDBCQUEwQixDQUFDLEtBQUssQ0FBQztRQUMxRCxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDNUQsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixJQUNFLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxLQUFLO1lBQ3RDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFDbEQ7WUFDQSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsR0FBRyxDQUFDLElBQVMsRUFBRSxNQUFjLEVBQUUsRUFBRTtnQkFDOUQsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixNQUFNLEdBQUcsSUFBSSxDQUFDLDJCQUEyQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQ2xELENBQUMsS0FBYSxFQUFFLEVBQUU7b0JBQ2hCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDckUsQ0FBQyxDQUNGLENBQUM7Z0JBQ0YsT0FBTyxNQUFNLENBQUM7WUFDaEIsQ0FBQyxDQUFDO1NBQ0g7YUFBTTtZQUNMLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztTQUMvRDtRQUNELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBR0QsaUJBQWlCO0lBQ2pCLGlCQUFpQjtRQUNmLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3ZDLENBQUM7SUFDRCxJQUFJLENBQUMsS0FBeUI7UUFDNUIsTUFBTSxRQUFRLEdBQ1osS0FBSyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQztRQUMxRSxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMvQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXJCOzs7Ozs7Ozs7Ozs7O1lBYUk7SUFDTixDQUFDOztnSEE3YVUsa0JBQWtCO29HQUFsQixrQkFBa0IsNGJBK0JsQixZQUFZLHVFQU9aLE9BQU8seUVBQ1AsU0FBUyxnRENwRnRCLGk3NEJBazBCQTs0RkRyeEJhLGtCQUFrQjtrQkFMOUIsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsWUFBWTtvQkFDdEIsV0FBVyxFQUFFLDZCQUE2QjtvQkFDMUMsU0FBUyxFQUFFLENBQUMsNEJBQTRCLENBQUM7aUJBQzFDO29HQWdDMEIsU0FBUztzQkFBakMsU0FBUzt1QkFBQyxZQUFZO2dCQUNOLFdBQVc7c0JBQTNCLEtBQUs7dUJBQUMsUUFBUTtnQkFDQSxRQUFRO3NCQUF0QixLQUFLO3VCQUFDLE1BQU07Z0JBQ2dCLGtCQUFrQjtzQkFBOUMsS0FBSzt1QkFBQyxvQkFBb0I7Z0JBQ1AsU0FBUztzQkFBNUIsS0FBSzt1QkFBQyxXQUFXO2dCQUNPLG1CQUFtQjtzQkFBM0MsS0FBSzt1QkFBQyxnQkFBZ0I7Z0JBQ0csZUFBZTtzQkFBeEMsS0FBSzt1QkFBQyxpQkFBaUI7Z0JBQ0osSUFBSTtzQkFBdkIsU0FBUzt1QkFBQyxPQUFPO2dCQUNJLE1BQU07c0JBQTNCLFNBQVM7dUJBQUMsU0FBUztnQkFDWSxvQkFBb0I7c0JBQW5ELE1BQU07dUJBQUMsc0JBQXNCO2dCQUlBLGtCQUFrQjtzQkFBL0MsTUFBTTt1QkFBQyxvQkFBb0I7O0FBb1k5QixNQUFNLE9BQU8sZ0JBQWdCO0lBUTNCLFlBQ0UsVUFBb0IsRUFBRSxFQUN0QixhQUFzQixLQUFLLEVBQzNCLGdCQUF5QixLQUFLO1FBRTlCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTzthQUN2QixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO2FBQ2hDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxZQUFZLEdBQUcsYUFBYSxDQUFDO1FBQ2xDLElBQUksVUFBVTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RELElBQUksYUFBYTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCxzQkFBc0IsQ0FBQyxNQUFjO1FBQ25DLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUNyRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPO2FBQzVCLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUM7YUFDaEMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEIsSUFBSSxJQUFJLENBQUMsVUFBVTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNELElBQUksSUFBSSxDQUFDLFlBQVk7WUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELGdCQUFnQjtRQUNkLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU87YUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQzthQUNoQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxVQUFVO1lBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0QsSUFBSSxJQUFJLENBQUMsWUFBWTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFBWTtRQUNWLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUM3QixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsQ0FDOUMsQ0FBQztJQUNKLENBQUM7SUFFRCxVQUFVO1FBQ1IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE9BQU87YUFDNUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQzthQUNoQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxVQUFVO1lBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0QsSUFBSSxJQUFJLENBQUMsWUFBWTtZQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzFELENBQUM7Q0FDRjtBQUVELE1BQU0sT0FBTyxXQUFXO0lBT3RCLFlBQVksSUFBWTtRQUx4QixZQUFPLEdBQWEsRUFBRSxDQUFDO1FBQ3ZCLFVBQUssR0FBVyxDQUFDLENBQUM7UUFDbEIsVUFBSyxHQUFXLENBQUMsQ0FBQztRQUNsQixZQUFPLEdBQVcsQ0FBQyxDQUFDO1FBR2xCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ25DLENBQUM7SUFDRCxhQUFhO1FBQ1gsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU87YUFDekIsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO2FBQ3hCLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxJQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMzRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBQ0QsU0FBUyxDQUFDLENBQVM7UUFDakIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxLQUFjO1FBQzlCLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUM1QixDQUFDLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztTQUNuQjtJQUNILENBQUM7SUFDRCxVQUFVO1FBQ1IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdDLENBQUM7Q0FDRjtBQUVELE1BQU0sT0FBTyxZQUFZO0lBS3ZCLFlBQVksTUFBYztRQUoxQixXQUFNLEdBQVksS0FBSyxDQUFDO1FBQ3hCLGlCQUFZLEdBQWtCLEVBQUUsQ0FBQztRQUNqQyxpQkFBWSxHQUFhLEVBQUUsQ0FBQztRQUM1QixTQUFJLEdBQVcsQ0FBQyxDQUFDO1FBRWYsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUNELGFBQWEsQ0FBQyxjQUF3QjtRQUNwQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDO1FBQ3BELElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDakQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQyxNQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWpFLElBQUksT0FBTyxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUU7Z0JBQ3hCLElBQUksS0FBSyxHQUFHLGNBQWMsQ0FBQyxTQUFTLENBQ2xDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxJQUFJLFlBQVksQ0FBQyxXQUFXLENBQ2pELENBQUM7Z0JBQ0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQ3RCLENBQUMsR0FBRyxLQUFLLEdBQUcsUUFBUSxFQUNwQixPQUFPLENBQUMsT0FBTyxFQUNmLE9BQU8sQ0FBQyxJQUFJLENBQ2IsQ0FBQztnQkFDRixRQUFRLElBQUksT0FBTyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7YUFDakM7U0FDRjtRQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1VBeUJFO1FBQ0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM5QixDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sWUFBWTtJQUd2QixZQUFZLElBQVksRUFBRSxVQUFxQjtRQUM3QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUMvQixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaXZlQW5ub3VuY2VyIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2ExMXknO1xuaW1wb3J0IHsgU2VsZWN0aW9uTW9kZWwgfSBmcm9tICdAYW5ndWxhci9jZGsvY29sbGVjdGlvbnMnO1xuaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgVmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFBhZ2luYXRvciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3BhZ2luYXRvcic7XG5pbXBvcnQgeyBNYXRTb3J0LCBTb3J0IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc29ydCc7XG5pbXBvcnQgeyBNYXRUYWJsZURhdGFTb3VyY2UgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90YWJsZSc7XG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnLi9jb2x1bW4nO1xuaW1wb3J0IHtcbiAgQ29uc3RyYWluLFxuICBGaWVsZENvbnN0cmlhblN0eWxlLFxuICBNZXN1cmFibGVDb25zdHJhaW5UeXBlLFxufSBmcm9tICcuL2NvbmZpZ3VyYXRpb25zL2ZpZWxkQ29uc3RyaWFucy5jb25maWcnO1xuaW1wb3J0IHtcbiAgTGl0b0dlbmVyYWxBY3Rpb24sXG4gIExpdG9HZW5lcmFsQWN0aW9uQ29uZmlybWF0aW9uLFxuICBMaXRvUm93QWN0aW9uLFxuICBMaXRvUm93QWN0aW9uQ29uZmlybWF0aW9uLFxuICBUYWJsZUFjdGlvbnNDb25maWcsXG4gIFRhYmxlQ29uZmlndXJhdGlvbnMsXG4gIFRhYmxlT3BlcmF0aW9uLFxufSBmcm9tICcuL2NvbmZpZ3VyYXRpb25zL2xpdG90YWJsZS5jb25maWcnO1xuaW1wb3J0IHsgQ29sdW1uVHlwZSwgVGFibGVDb2x1bW5NZXRhZGF0YSB9IGZyb20gJy4vZGVjb3JhdG9ycy9jb2x1bW4uZGVjb3JhdG9yJztcbmltcG9ydCB7XG4gIENka0RyYWdEcm9wLFxuICBtb3ZlSXRlbUluQXJyYXksXG4gIHRyYW5zZmVyQXJyYXlJdGVtLFxufSBmcm9tICdAYW5ndWxhci9jZGsvZHJhZy1kcm9wJztcbmltcG9ydCB7IE1hdERyYXdlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3NpZGVuYXYnO1xuaW1wb3J0IHsgRm9ybUNvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2xpdG8tdGFibGUnLFxuICB0ZW1wbGF0ZVVybDogJy4vbGl0by10YWJsZS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2xpdG8tdGFibGUuY29tcG9uZW50LmNzcyddLFxufSlcbmV4cG9ydCBjbGFzcyBMaXRvdGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQge1xuICAvKiBFbnVtcyAqL1xuICBjb2x1bW5UeXBlcyA9IENvbHVtblR5cGU7XG4gIG9wZXJhdGlvblR5cGVzID0gVGFibGVPcGVyYXRpb247XG5cbiAgY29sdW1uczogQ29sdW1uW10gPSBbXTtcbiAgbnVtYmVyQ29uc3RyYWluVHlwZSA9IE1lc3VyYWJsZUNvbnN0cmFpblR5cGU7XG4gIGRpc3BsYXllZENvbHVtbnM6IERpc3BsYXllZENvbHVtbnMgPSBuZXcgRGlzcGxheWVkQ29sdW1ucygpO1xuICByb3dDb25zdHJhaW5zOiBSb3dDb25zdHJhaW5bXSA9IFtdO1xuICBkYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZSgpO1xuICBmZXRjaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBzZWxlY3RlZFJvd3MgPSBuZXcgU2V0KCk7XG4gIGNvbnN0cmFpbmVkUm93cyA9IG5ldyBTZXQoKTtcbiAgc2hvd1NlbGVjdGVkT25seTogYm9vbGVhbiA9IGZhbHNlO1xuICBjcmVhdGlvbkZvcm1PcGVuOiBib29sZWFuID0gZmFsc2U7XG4gIHJvd0NvbmZpcm1hdGlvbj86IHtcbiAgICBjb25maXJtYXRpb25EYXRhOiBMaXRvUm93QWN0aW9uQ29uZmlybWF0aW9uO1xuICAgIHJvdzogYW55O1xuICAgIGFjdGlvbjogTGl0b1Jvd0FjdGlvbjtcbiAgfTtcbiAgZ2VuZXJhbENvbmZpcm1hdGlvbj86IHtcbiAgICBjb25maXJtYXRpb25EYXRhOiBMaXRvR2VuZXJhbEFjdGlvbkNvbmZpcm1hdGlvbjtcbiAgICBhY3Rpb246IExpdG9HZW5lcmFsQWN0aW9uO1xuICB9O1xuICBfY29uZmlybWF0aW9uOiBzdHJpbmcgPSAnbXVsdGlwbGUnO1xuXG4gIC8qIEZpbHRlciAqL1xuICBmaWx0ZXJpbmdDb2x1bW5zRm9ybUNvbnRyb2wgPSBuZXcgRm9ybUNvbnRyb2woKTtcbiAgZGVmYXVsdEZpbHRlclByZWRpY2F0ZSE6IChkYXRhOiB1bmtub3duLCBmaWx0ZXI6IHN0cmluZykgPT4gYm9vbGVhbjtcbiAgZmlsdGVyaW5nU3RyaW5nRm9ybUNvbnRyb2w6IEZvcm1Db250cm9sID0gbmV3IEZvcm1Db250cm9sKCcnKTtcblxuICBAVmlld0NoaWxkKE1hdFBhZ2luYXRvcikgcGFnaW5hdG9yITogTWF0UGFnaW5hdG9yO1xuICBASW5wdXQoJ3NvdXJjZScpIGlucHV0U291cmNlITogT2JzZXJ2YWJsZTxhbnlbXT47XG4gIEBJbnB1dCgndHlwZScpIGRhdGFUeXBlITogT2JqZWN0O1xuICBASW5wdXQoJ3RhYmxlQWN0aW9uc0NvbmZpZycpIHRhYmxlQWN0aW9uc0NvbmZpZz86IFRhYmxlQWN0aW9uc0NvbmZpZztcbiAgQElucHV0KCdzZWxlY3Rpb24nKSBzZWxlY3Rpb24hOiBib29sZWFuO1xuICBASW5wdXQoJ2NvbmZpZ3VyYXRpb25zJykgdGFibGVDb25maWd1cmF0aW9ucz86IFRhYmxlQ29uZmlndXJhdGlvbnM7XG4gIEBJbnB1dCgnZmllbGRDb25zdHJpYW5zJykgZmllbGRDb25zdHJpYW5zOiBGaWVsZENvbnN0cmlhblN0eWxlW10gPSBbXTtcbiAgQFZpZXdDaGlsZChNYXRTb3J0KSBzb3J0ITogTWF0U29ydDtcbiAgQFZpZXdDaGlsZChNYXREcmF3ZXIpIGRyYXdlciE6IE1hdERyYXdlcjtcbiAgQE91dHB1dCgnbXVsdGlwbGVBY3Rpb25PdXRwdXQnKSBtdWx0aXBsZUFjdGlvbk91dHB1dDogRXZlbnRFbWl0dGVyPHtcbiAgICBvcGVyYXRpb246IExpdG9HZW5lcmFsQWN0aW9uO1xuICAgIGRhdGE6IFNldDxhbnk+O1xuICB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgnc2luZ2xlQWN0aW9uT3V0cHV0Jykgc2luZ2xlQWN0aW9uT3V0cHV0OiBFdmVudEVtaXR0ZXI8e1xuICAgIG9wZXJhdGlvbjogTGl0b1Jvd0FjdGlvbjtcbiAgICBkYXRhOiBhbnk7XG4gIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9saXZlQW5ub3VuY2VyOiBMaXZlQW5ub3VuY2VyKSB7fVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc2V0Q29sdW1ucygpO1xuICAgIGlmICh0aGlzLmlucHV0U291cmNlICE9IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5mZXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmlucHV0U291cmNlLnN1YnNjcmliZSgoZGF0b3M6IGFueVtdKSA9PiB7XG4gICAgICAgIHRoaXMuZmV0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZShkYXRvcyk7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5wYWdpbmF0b3IgPSB0aGlzLnBhZ2luYXRvcjtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlLnNvcnQgPSB0aGlzLnNvcnQ7XG4gICAgICAgIHRoaXMuc2V0Um93c0NvbnN0cmFpbnMoZGF0b3MpO1xuICAgICAgICB0aGlzLnRhYmxlQWN0aW9uc0NvbmZpZz8udXBkYXRlUGVybW9ybWFibGVTdGF0ZSh0aGlzLnNlbGVjdGVkUm93cyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclByZWRpY2F0ZSA9IHRoaXMuZGF0YVNvdXJjZS5maWx0ZXJQcmVkaWNhdGU7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGM6IGFueVtdID0gW107XG4gICAgICB0aGlzLmRhdGFTb3VyY2UgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlKGMpO1xuICAgIH1cbiAgICB0aGlzLmRhdGFTb3VyY2UucGFnaW5hdG9yID0gdGhpcy5wYWdpbmF0b3I7XG4gIH1cblxuICBwYXJzZURhdGUoaW5wdXQ6IERhdGUpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dC50b0pTT04oKTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICB0aGlzLmRhdGFTb3VyY2UucGFnaW5hdG9yID0gdGhpcy5wYWdpbmF0b3I7XG4gIH1cblxuICBhbm5vdW5jZVNvcnRDaGFuZ2Uoc29ydFN0YXRlOiBTb3J0KSB7XG4gICAgaWYgKHNvcnRTdGF0ZS5kaXJlY3Rpb24pIHtcbiAgICAgIHRoaXMuX2xpdmVBbm5vdW5jZXIuYW5ub3VuY2UoYFNvcnRlZCAke3NvcnRTdGF0ZS5kaXJlY3Rpb259ZW5kaW5nYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpdmVBbm5vdW5jZXIuYW5ub3VuY2UoJ1NvcnRpbmcgY2xlYXJlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUZpZWxkc1RvUm93c0NvbnN0cmFpbnMoKSB7XG4gICAgaWYgKHRoaXMuZmllbGRDb25zdHJpYW5zKSB7XG4gICAgICB0aGlzLnJvd0NvbnN0cmFpbnMgPSB0aGlzLmZpZWxkQ29uc3RyaWFucy5tYXAoKHgpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBSb3dDb25zdHJhaW4oeC5wcm9wZXJ0eUtleSwgeC5jb25zdHJhaW4pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc2V0Um93c0NvbnN0cmFpbnMoc291cmNlOiBhbnlbXSkge1xuICAgIHRoaXMudXBkYXRlRmllbGRzVG9Sb3dzQ29uc3RyYWlucygpO1xuICAgIHNvdXJjZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLnJvd0NvbnN0cmFpbnMuZm9yRWFjaCgocmMpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50W3JjLm5hbWVdO1xuICAgICAgICBpZiAocmMuX2NvbnN0cmFpbi50cmlnZ2VyKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChyYy5fY29uc3RyYWluLmVuYWJsZSkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50Wydyb3dTdHlsZSddKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAncm93U3R5bGUnLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0eWxlOiByYy5fY29uc3RyYWluLnN0eWxlIH0sXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Wydyb3dTdHlsZSddKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRbJ3Jvd1N0eWxlJ10uc3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uZWxlbWVudFsncm93U3R5bGUnXS5zdHlsZSxcbiAgICAgICAgICAgICAgICAuLi5yYy5fY29uc3RyYWluLnN0eWxlLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25zdHJhaW5lZFJvd3MuYWRkKGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVSb3dDb25zdHJhaW5zKCkge1xuICAgIHRoaXMuY29uc3RyYWluZWRSb3dzID0gbmV3IFNldCgpO1xuXG4gICAgY29uc3Qgc291cmNlOiBhbnlbXSA9IHRoaXMuZGF0YVNvdXJjZS5kYXRhO1xuICAgIHNvdXJjZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLnJvd0NvbnN0cmFpbnMuZm9yRWFjaCgocmMpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbGVtZW50W3JjLm5hbWVdO1xuICAgICAgICBpZiAocmMuX2NvbnN0cmFpbi50cmlnZ2VyKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChyYy5fY29uc3RyYWluLmVuYWJsZSkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50Wydyb3dTdHlsZSddKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAncm93U3R5bGUnLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0eWxlOiByYy5fY29uc3RyYWluLnN0eWxlIH0sXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Wydyb3dTdHlsZSddKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRbJ3Jvd1N0eWxlJ10uc3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgLi4uZWxlbWVudFsncm93U3R5bGUnXS5zdHlsZSxcbiAgICAgICAgICAgICAgICAuLi5yYy5fY29uc3RyYWluLnN0eWxlLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25zdHJhaW5lZFJvd3MuYWRkKGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoYXNDb25zdHJhaW4ocHJvcGVydHlLZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgIGxldCByZXN1bHQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5yb3dDb25zdHJhaW5zLmxlbmd0aCAhPSAwKSB7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzZXRDb2x1bW5zKCkge1xuICAgIGNvbnN0IGNvbHVtbnNNZXRhZGF0YTogYW55W10gPSBSZWZsZWN0LmdldE1ldGFkYXRhKFxuICAgICAgJ2NvbHVtbnNNZXRhZGF0YScsXG4gICAgICB0aGlzLmRhdGFUeXBlXG4gICAgKTtcblxuICAgIGxldCBjb2x1bW5Hcm91cHM6IENvbHVtbkdyb3VwcyA9IG5ldyBDb2x1bW5Hcm91cHMoMCk7XG5cbiAgICBpZiAoY29sdW1uc01ldGFkYXRhICE9IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1uc01ldGFkYXRhLm1hcChcbiAgICAgICAgKGM6IHsgcHJvcGVydHlLZXk6IHN0cmluZzsgbWV0YWRhdGE6IFRhYmxlQ29sdW1uTWV0YWRhdGEgfSwgaSkgPT4ge1xuICAgICAgICAgIGxldCBjb2x1bW4gPSBuZXcgQ29sdW1uKFxuICAgICAgICAgICAgYy5wcm9wZXJ0eUtleSxcbiAgICAgICAgICAgIGMucHJvcGVydHlLZXksXG4gICAgICAgICAgICBDb2x1bW5UeXBlLlNUUklORyxcbiAgICAgICAgICAgIGMubWV0YWRhdGEub3JkZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbHVtbi52aXNpYmxlID1cbiAgICAgICAgICAgIGMubWV0YWRhdGEudmlzaWJsZSA9PSB1bmRlZmluZWQgPyB0cnVlIDogYy5tZXRhZGF0YS52aXNpYmxlO1xuICAgICAgICAgIGNvbHVtbi5uYW1lID0gYy5tZXRhZGF0YS5jb2x1bW5OYW1lIHx8IGMucHJvcGVydHlLZXk7XG4gICAgICAgICAgY29sdW1uLnR5cGUgPSBjLm1ldGFkYXRhLnR5cGUgfHwgQ29sdW1uVHlwZS5TVFJJTkc7XG4gICAgICAgICAgY29sdW1uLmZvcm1hdCA9IGMubWV0YWRhdGEuZm9ybWF0IHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICBjb2x1bW4uY29udGVudEFsaWduID0gYy5tZXRhZGF0YS5jb250ZW50QWxpZ24gfHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbHVtbi5lbnVtVHlwZUFzb2NpYXRpb24gPVxuICAgICAgICAgICAgYy5tZXRhZGF0YS5lbnVtVHlwZUFzb2NpYXRpb24gfHwgdW5kZWZpbmVkO1xuXG4gICAgICAgICAgY29uc3Qgc3RyID0gYy5tZXRhZGF0YS5jb2x1bW5Hcm91cD8ubmFtZTtcbiAgICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvbHVtbkdyb3Vwcy5ncm91cENvbHVtbnMuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT0gc3RyKS5sZW5ndGggPT0gMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGxldCBuZXdDb2xHcm91cCA9IG5ldyBHcm91cENvbHVtbihzdHIpO1xuICAgICAgICAgICAgICBuZXdDb2xHcm91cC5hZGRDb2x1bW4oY29sdW1uKTtcbiAgICAgICAgICAgICAgY29sdW1uR3JvdXBzLmdyb3VwQ29sdW1ucy5wdXNoKG5ld0NvbEdyb3VwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbHVtbkdyb3Vwcy5ncm91cENvbHVtbnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiB4Lm5hbWUgPT0gc3RyKVswXVxuICAgICAgICAgICAgICAgIC5hZGRDb2x1bW4oY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHRoaXMuY29sdW1ucy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLm9yZGVyISAtIGIub3JkZXIhO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGxheWVkQ29sdW1ucyA9IG5ldyBEaXNwbGF5ZWRDb2x1bW5zKFxuICAgICAgdGhpcy5jb2x1bW5zLFxuICAgICAgdGhpcy5zZWxlY3Rpb24sXG4gICAgICB0aGlzLnRhYmxlQ29uZmlndXJhdGlvbnM/LmFjdGlvbnNDb2x1bW4gIT0gdW5kZWZpbmVkXG4gICAgKTtcbiAgICB0aGlzLmRpc3BsYXllZENvbHVtbnMuY29sdW1uR3JvdXBzID0gY29sdW1uR3JvdXBzO1xuICAgIHRoaXMuZGlzcGxheWVkQ29sdW1ucy51cGRhdGVHcm91cHMoKTtcbiAgfVxuXG4gIGlzQWxsU2VsZWN0ZWQoKSB7XG4gICAgY29uc3QgbnVtU2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkUm93cy5zaXplO1xuICAgIGNvbnN0IG51bVJvd3MgPSB0aGlzLmRhdGFTb3VyY2UuZGF0YS5sZW5ndGg7XG4gICAgcmV0dXJuIG51bVNlbGVjdGVkID09IG51bVJvd3MgJiYgbnVtUm93cyAhPSAwO1xuICB9XG5cbiAgbWFzdGVyVG9nZ2xlKCkge1xuICAgIHRoaXMuaXNBbGxTZWxlY3RlZCgpXG4gICAgICA/IHRoaXMuc2VsZWN0ZWRSb3dzLmNsZWFyKClcbiAgICAgIDogdGhpcy5kYXRhU291cmNlLmRhdGEuZm9yRWFjaCgocm93KSA9PiB0aGlzLnNlbGVjdGVkUm93cy5hZGQocm93KSk7XG4gIH1cblxuICBzZWxlY3Rpb25Ub29nbGUoc3RhdGU6IGJvb2xlYW4sIHJvdzogYW55KSB7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkUm93cy5hZGQocm93KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3dzLmhhcyhyb3cpKSB0aGlzLnNlbGVjdGVkUm93cy5kZWxldGUocm93KTtcbiAgICB9XG4gICAgaWYgKHRoaXMudGFibGVBY3Rpb25zQ29uZmlnPy5hY3Rpb25zKSB7XG4gICAgICB0aGlzLnRhYmxlQWN0aW9uc0NvbmZpZy51cGRhdGVQZXJtb3JtYWJsZVN0YXRlKHRoaXMuc2VsZWN0ZWRSb3dzKTtcbiAgICB9XG4gIH1cblxuICBjaGFuZ2VDb25zdHJhaW5TdGF0ZShcbiAgICB2YWx1ZTogYW55LFxuICAgIGRhdGE6IENvbnN0cmFpbiB8IGFueSxcbiAgICBmaWVsZDogc3RyaW5nLFxuICAgIGlzU3R5bGU6IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIGlmIChpc1N0eWxlICYmIGZpZWxkICYmIGZpZWxkICE9ICcnKSB7XG4gICAgICBkYXRhLnN0eWxlW2ZpZWxkXSA9IHZhbHVlO1xuICAgIH1cbiAgICBpZiAoIWlzU3R5bGUpIHtcbiAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgY2FzZSAnbnVtYmVyLXR5cGUnOlxuICAgICAgICAgIGRhdGEudHlwZSA9IHBhcnNlSW50KHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbnVtYmVyLXZhbHVlJzpcbiAgICAgICAgY2FzZSAnbnVtYmVyLXZhbHVlMSc6XG4gICAgICAgICAgZGF0YS52YWx1ZXNbMF0gPSBwYXJzZUludCh2YWx1ZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXItdmFsdWUyJzpcbiAgICAgICAgICBkYXRhLnZhbHVlc1sxXSA9IHBhcnNlSW50KHZhbHVlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudXBkYXRlUm93Q29uc3RyYWlucygpO1xuICB9XG5cbiAgYWRkQ29uc3RyYWluKCRldmVudDogRmllbGRDb25zdHJpYW5TdHlsZSkge1xuICAgIHRoaXMuZmllbGRDb25zdHJpYW5zLnB1c2goJGV2ZW50KTtcbiAgICB0aGlzLnVwZGF0ZUZpZWxkc1RvUm93c0NvbnN0cmFpbnMoKTtcbiAgICB0aGlzLnVwZGF0ZVJvd0NvbnN0cmFpbnMoKTtcbiAgfVxuXG4gIHVwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgdGhpcy51cGRhdGVGaWVsZHNUb1Jvd3NDb25zdHJhaW5zKCk7XG4gICAgdGhpcy51cGRhdGVSb3dDb25zdHJhaW5zKCk7XG4gIH1cblxuICByZW1vdmVDb25zdHJhaW4oY29uc3RyYWluOiBGaWVsZENvbnN0cmlhblN0eWxlKSB7XG4gICAgdGhpcy5maWVsZENvbnN0cmlhbnMgPSB0aGlzLmZpZWxkQ29uc3RyaWFucy5maWx0ZXIoKHgpID0+IHggIT0gY29uc3RyYWluKTtcbiAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKTtcbiAgfVxuXG4gIHRhYmxlRHJvcChldmVudDogQ2RrRHJhZ0Ryb3A8c3RyaW5nW10+KSB7XG4gICAgbW92ZUl0ZW1JbkFycmF5KFxuICAgICAgdGhpcy5kaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbk5hbWVzLFxuICAgICAgZXZlbnQucHJldmlvdXNJbmRleCArIDEsXG4gICAgICBldmVudC5jdXJyZW50SW5kZXggKyAxXG4gICAgKTtcbiAgfVxuXG4gIG9uUm93QWN0aW9uQ2xpY2socm93OiBhbnksIGFjdGlvbjogTGl0b1Jvd0FjdGlvbikge1xuICAgIGlmIChcbiAgICAgIGFjdGlvbi5hY3Rpb25SZXN1bHQud2lsbFVwZGF0ZVJvdyB8fFxuICAgICAgYWN0aW9uLmFjdGlvblJlc3VsdC53aWxsRGVsZXRlUm93XG4gICAgKSB7XG4gICAgICByb3cucHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICB0aGlzLnNpbmdsZUFjdGlvbk91dHB1dC5lbWl0KHtcbiAgICAgICAgb3BlcmF0aW9uOiBhY3Rpb24sXG4gICAgICAgIGRhdGE6IHJvdyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVJvdyhyb3c6IGFueSwgbmV3Um93OiBhbnkpIHtcbiAgICBsZXQgaW5keCA9IHRoaXMuZGF0YVNvdXJjZS5kYXRhLmluZGV4T2Yocm93KTtcbiAgICBpZiAobmV3Um93KSB7XG4gICAgICB0aGlzLmRhdGFTb3VyY2UuZGF0YVtpbmR4XSA9IG5ld1JvdztcbiAgICAgICh0aGlzLmRhdGFTb3VyY2UuZGF0YVtpbmR4XSBhcyBhbnkpLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLmRlbGV0ZSh0aGlzLmRhdGFTb3VyY2UuZGF0YVtpbmR4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5kYXRhLnNwbGljZShpbmR4LCAxKTtcbiAgICAgIHJvdy5wcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0ZWRSb3dzLmRlbGV0ZShyb3cpO1xuXG4gICAgdGhpcy5kYXRhU291cmNlLl91cGRhdGVDaGFuZ2VTdWJzY3JpcHRpb24oKTtcbiAgICB0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKTtcbiAgfVxuXG4gIHBlcmZvcm1Gb290ZXJBY3Rpb24oKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy50YWJsZUNvbmZpZ3VyYXRpb25zPy5mb290ZXJBY3Rpb24/LmFjdGlvblJlc3VsdC5ub25PYnNlcnZhYmxlQWN0aW9uXG4gICAgKSB7XG4gICAgICB0aGlzLnRhYmxlQ29uZmlndXJhdGlvbnM/LmZvb3RlckFjdGlvbj8uYWN0aW9uUmVzdWx0Lm5vbk9ic2VydmFibGVBY3Rpb24oKTtcbiAgICB9XG4gIH1cblxuICBwZXJmb3JtUm93QWN0aW9uQ29uZmlybWF0aW9uKFxuICAgIGFjdGlvbjogTGl0b1Jvd0FjdGlvbixcbiAgICByb3c6IGFueSxcbiAgICBjb25maXJtYXRpb246IExpdG9Sb3dBY3Rpb25Db25maXJtYXRpb25cbiAgKSB7XG4gICAgdGhpcy5fY29uZmlybWF0aW9uID0gJ3NpbmdsZSc7XG4gICAgdGhpcy5yb3dDb25maXJtYXRpb24gPSB7XG4gICAgICBjb25maXJtYXRpb25EYXRhOiBjb25maXJtYXRpb24sXG4gICAgICByb3c6IHJvdyxcbiAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgIH07XG4gICAgaWYgKHRoaXMuZHJhd2VyKSB7XG4gICAgICB0aGlzLmRyYXdlci5vcGVuKCk7XG4gICAgfVxuICB9XG5cbiAgb25HZW5lcmFsQWN0aW9uQ2xpY2sob3BlcmF0aW9uOiBMaXRvR2VuZXJhbEFjdGlvbikge1xuICAgIHRoaXMucGVyZm9ybUdlbmVyYWxBY3Rpb24ob3BlcmF0aW9uKTtcbiAgfVxuXG4gIHBlcmZvcm1HZW5lcmFsQWN0aW9uKG9wZXJhdGlvbjogTGl0b0dlbmVyYWxBY3Rpb24pIHtcbiAgICB0aGlzLm11bHRpcGxlQWN0aW9uT3V0cHV0LmVtaXQoe1xuICAgICAgb3BlcmF0aW9uOiBvcGVyYXRpb24sXG4gICAgICBkYXRhOiB0aGlzLnNlbGVjdGVkUm93cyxcbiAgICB9KTtcbiAgICBpZiAob3BlcmF0aW9uLm11c3RMb2NrUm93cykge1xuICAgICAgdGhpcy5sb2NrU2VsZWN0ZWRSb3dzKHRoaXMuc2VsZWN0ZWRSb3dzKTtcbiAgICB9XG4gIH1cblxuICB1bkxvY2tSb3cocm93OiBhbnkpIHtcbiAgICByb3cucHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG4gIGxvY2tTZWxlY3RlZFJvd3Mocm93czogU2V0PGFueT4pIHtcbiAgICByb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgcm93LnByb2Nlc3NpbmcgPSB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHVuTG9ja1NlbGVjdGVkUm93cyhyb3dzOiBTZXQ8YW55Pikge1xuICAgIHJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICByb3cucHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcGVyZm9ybUdlbmVyYWxBY3Rpb25Db25maXJtYXRpb24ob3BlcmF0aW9uOiBMaXRvR2VuZXJhbEFjdGlvbikge1xuICAgIHRoaXMuX2NvbmZpcm1hdGlvbiA9ICdtdWx0aXBsZSc7XG4gICAgdGhpcy5nZW5lcmFsQ29uZmlybWF0aW9uID0ge1xuICAgICAgY29uZmlybWF0aW9uRGF0YTogb3BlcmF0aW9uLmNvbmZpcm1hdGlvbiEsXG4gICAgICBhY3Rpb246IG9wZXJhdGlvbixcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuZHJhd2VyKSB7XG4gICAgICB0aGlzLmRyYXdlci5vcGVuKCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlGaWx0ZXIoKSB7XG4gICAgY29uc3QgZmlsdGVyVmFsdWUgPSB0aGlzLmZpbHRlcmluZ1N0cmluZ0Zvcm1Db250cm9sLnZhbHVlO1xuICAgIHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIgPSBmaWx0ZXJWYWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIHNldEZpbHRlclNlbGVjdGlvbigpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZpbHRlcmluZ0NvbHVtbnNGb3JtQ29udHJvbC52YWx1ZSAmJlxuICAgICAgdGhpcy5maWx0ZXJpbmdDb2x1bW5zRm9ybUNvbnRyb2wudmFsdWUubGVuZ3RoICE9IDBcbiAgICApIHtcbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5maWx0ZXJQcmVkaWNhdGUgPSAoZGF0YTogYW55LCBmaWx0ZXI6IHN0cmluZykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyaW5nQ29sdW1uc0Zvcm1Db250cm9sLnZhbHVlLnNvbWUoXG4gICAgICAgICAgKGZpZWxkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhW2ZpZWxkXS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGFTb3VyY2UuZmlsdGVyUHJlZGljYXRlID0gdGhpcy5kZWZhdWx0RmlsdGVyUHJlZGljYXRlO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5RmlsdGVyKCk7XG4gIH1cblxuICBkcmFnYW5kZHJvcDogYm9vbGVhbiA9IGZhbHNlO1xuICAvKiBEcmFnQW5kRHJvcCAqL1xuICB0b29nbGVEcmFnQW5kRHJvcCgpIHtcbiAgICB0aGlzLmRyYWdhbmRkcm9wID0gIXRoaXMuZHJhZ2FuZGRyb3A7XG4gIH1cbiAgZHJvcChldmVudDogQ2RrRHJhZ0Ryb3A8YW55W10+KSB7XG4gICAgY29uc3Qgcm93SW5kZXggPVxuICAgICAgZXZlbnQuY3VycmVudEluZGV4ICsgdGhpcy5wYWdpbmF0b3IucGFnZUluZGV4ICogdGhpcy5wYWdpbmF0b3IucGFnZVNpemU7XG4gICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LmNvbnRhaW5lci5kYXRhW3Jvd0luZGV4XTtcbiAgICBjb25zb2xlLmxvZyhlbGVtZW50KTtcblxuICAgIC8qIGlmIChldmVudC5wcmV2aW91c0NvbnRhaW5lciA9PT0gZXZlbnQuY29udGFpbmVyKSB7XG4gICAgICBtb3ZlSXRlbUluQXJyYXkoXG4gICAgICAgIGV2ZW50LmNvbnRhaW5lci5kYXRhLFxuICAgICAgICBldmVudC5wcmV2aW91c0luZGV4LFxuICAgICAgICBldmVudC5jdXJyZW50SW5kZXhcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZmVyQXJyYXlJdGVtKFxuICAgICAgICBldmVudC5wcmV2aW91c0NvbnRhaW5lci5kYXRhLFxuICAgICAgICBldmVudC5jb250YWluZXIuZGF0YSxcbiAgICAgICAgZXZlbnQucHJldmlvdXNJbmRleCxcbiAgICAgICAgZXZlbnQuY3VycmVudEluZGV4XG4gICAgICApO1xuICAgIH0gKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlzcGxheWVkQ29sdW1ucyB7XG4gIGNvbHVtbnM6IENvbHVtbltdO1xuICBjb2x1bW5OYW1lczogc3RyaW5nW107XG4gIGNvbHVtblR5cGVzOiBDb2x1bW5UeXBlW107XG4gIHNlbGVjdGFibGU6IGJvb2xlYW47XG4gIGFjdGlvbkNvbHVtbjogYm9vbGVhbjtcbiAgY29sdW1uR3JvdXBzOiBDb2x1bW5Hcm91cHM7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29sdW1uczogQ29sdW1uW10gPSBbXSxcbiAgICBzZWxlY3RhYmxlOiBib29sZWFuID0gZmFsc2UsXG4gICAgYWN0aW9uc0NvbHVtbjogYm9vbGVhbiA9IGZhbHNlXG4gICkge1xuICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgdGhpcy5jb2x1bW5OYW1lcyA9IGNvbHVtbnNcbiAgICAgIC5maWx0ZXIoKGMpID0+IGMudmlzaWJsZSA9PSB0cnVlKVxuICAgICAgLm1hcCgoeCkgPT4geC5uYW1lKTtcbiAgICB0aGlzLmNvbHVtblR5cGVzID0gY29sdW1ucy5tYXAoKHgpID0+IHgudHlwZSk7XG4gICAgdGhpcy5zZWxlY3RhYmxlID0gc2VsZWN0YWJsZTtcbiAgICB0aGlzLmFjdGlvbkNvbHVtbiA9IGFjdGlvbnNDb2x1bW47XG4gICAgaWYgKHNlbGVjdGFibGUpIHRoaXMuY29sdW1uTmFtZXMudW5zaGlmdCgnc2VsZWN0aW9uJyk7XG4gICAgaWYgKGFjdGlvbnNDb2x1bW4pIHRoaXMuY29sdW1uTmFtZXMucHVzaCgnYWN0aW9ucycpO1xuICAgIHRoaXMuY29sdW1uR3JvdXBzID0gbmV3IENvbHVtbkdyb3Vwcyhjb2x1bW5zLmxlbmd0aCk7XG4gIH1cblxuICBjaGFuZ2VDb2x1bW5WaXNpdmlsaXR5KGNvbHVtbjogQ29sdW1uKSB7XG4gICAgdGhpcy5jb2x1bW5zLmZpbHRlcigoYykgPT4gYyA9PSBjb2x1bW4pWzBdLnZpc2libGUgPSAhY29sdW1uLnZpc2libGU7XG4gICAgdGhpcy5jb2x1bW5OYW1lcyA9IHRoaXMuY29sdW1uc1xuICAgICAgLmZpbHRlcigoYykgPT4gYy52aXNpYmxlID09IHRydWUpXG4gICAgICAubWFwKCh4KSA9PiB4Lm5hbWUpO1xuICAgIGlmICh0aGlzLnNlbGVjdGFibGUpIHRoaXMuY29sdW1uTmFtZXMudW5zaGlmdCgnc2VsZWN0aW9uJyk7XG4gICAgaWYgKHRoaXMuYWN0aW9uQ29sdW1uKSB0aGlzLmNvbHVtbk5hbWVzLnB1c2goJ2FjdGlvbnMnKTtcbiAgICB0aGlzLnVwZGF0ZUdyb3VwcygpO1xuICB9XG5cbiAgdXBkYXRlVmlzaXZpbGl0eSgpIHtcbiAgICB0aGlzLmNvbHVtbk5hbWVzID0gdGhpcy5jb2x1bW5zXG4gICAgICAuZmlsdGVyKChjKSA9PiBjLnZpc2libGUgPT0gdHJ1ZSlcbiAgICAgIC5tYXAoKHgpID0+IHgubmFtZSk7XG4gICAgaWYgKHRoaXMuc2VsZWN0YWJsZSkgdGhpcy5jb2x1bW5OYW1lcy51bnNoaWZ0KCdzZWxlY3Rpb24nKTtcbiAgICBpZiAodGhpcy5hY3Rpb25Db2x1bW4pIHRoaXMuY29sdW1uTmFtZXMucHVzaCgnYWN0aW9ucycpO1xuICAgIHRoaXMudXBkYXRlR3JvdXBzKCk7XG4gIH1cblxuICB1cGRhdGVHcm91cHMoKSB7XG4gICAgdGhpcy5jb2x1bW5Hcm91cHMudXBkYXRlQ29sdW1ucyhcbiAgICAgIHRoaXMuY29sdW1ucy5maWx0ZXIoKGMpID0+IGMudmlzaWJsZSA9PSB0cnVlKVxuICAgICk7XG4gIH1cblxuICBhbGxWaXNpYmxlKCkge1xuICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKChjKSA9PiAoYy52aXNpYmxlID0gdHJ1ZSkpO1xuICAgIHRoaXMuY29sdW1uTmFtZXMgPSB0aGlzLmNvbHVtbnNcbiAgICAgIC5maWx0ZXIoKGMpID0+IGMudmlzaWJsZSA9PSB0cnVlKVxuICAgICAgLm1hcCgoeCkgPT4geC5uYW1lKTtcbiAgICBpZiAodGhpcy5zZWxlY3RhYmxlKSB0aGlzLmNvbHVtbk5hbWVzLnVuc2hpZnQoJ3NlbGVjdGlvbicpO1xuICAgIGlmICh0aGlzLmFjdGlvbkNvbHVtbikgdGhpcy5jb2x1bW5OYW1lcy5wdXNoKCdhY3Rpb25zJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwQ29sdW1uIHtcbiAgbmFtZTogc3RyaW5nO1xuICBjb2x1bW5zOiBDb2x1bW5bXSA9IFtdO1xuICBjb3VudDogbnVtYmVyID0gMDtcbiAgc3RhcnQ6IG51bWJlciA9IDA7XG4gIGNvbHNwYW46IG51bWJlciA9IDE7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5jaGVja2VkID0gdGhpcy5jaGVja1N0YXRlKCk7XG4gIH1cbiAgdXBkYXRlQ29sc3BhbigpIHtcbiAgICBsZXQgZ3JvdXBEYXRhID0gdGhpcy5jb2x1bW5zXG4gICAgICAuZmlsdGVyKCh4KSA9PiB4LnZpc2libGUpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5vcmRlciAtIGIub3JkZXIpO1xuICAgIHRoaXMuY29sc3BhbiA9IGdyb3VwRGF0YS5sZW5ndGg7XG4gICAgaWYgKGdyb3VwRGF0YS5sZW5ndGggIT0gMCkgdGhpcy5zdGFydCA9IGdyb3VwRGF0YVswXS5vcmRlcjtcbiAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmNoZWNrU3RhdGUoKTtcbiAgfVxuICBhZGRDb2x1bW4oYzogQ29sdW1uKSB7XG4gICAgdGhpcy5jb2x1bW5zLnB1c2goYyk7XG4gICAgdGhpcy51cGRhdGVDb2xzcGFuKCk7XG4gIH1cbiAgdG9vZ2xlVmlzaWJiaWxpdHkoc3RhdGU6IGJvb2xlYW4pIHtcbiAgICBmb3IgKGNvbnN0IGMgb2YgdGhpcy5jb2x1bW5zKSB7XG4gICAgICBjLnZpc2libGUgPSBzdGF0ZTtcbiAgICB9XG4gIH1cbiAgY2hlY2tTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW5zLnNvbWUoKHgpID0+IHgudmlzaWJsZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtbkdyb3VwcyB7XG4gIGFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBncm91cENvbHVtbnM6IEdyb3VwQ29sdW1uW10gPSBbXTtcbiAgZGlzcGxheU5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuICBzaXplOiBudW1iZXIgPSAwO1xuICBjb25zdHJ1Y3RvcihsZW5ndGg6IG51bWJlcikge1xuICAgIHRoaXMuZGlzcGxheU5hbWVzID0gbmV3IEFycmF5KGxlbmd0aCkuZmlsbCgnZW1wdHktZ3JvdXAnKTtcbiAgfVxuICB1cGRhdGVDb2x1bW5zKHZpc2libGVDb2x1bW5zOiBDb2x1bW5bXSkge1xuICAgIHRoaXMuZGlzcGxheU5hbWVzID0gbmV3IEFycmF5KHZpc2libGVDb2x1bW5zLmxlbmd0aCkuZmlsbCgnZW1wdHktZ3JvdXAnKTtcbiAgICB0aGlzLmdyb3VwQ29sdW1ucy5mb3JFYWNoKChlKSA9PiBlLnVwZGF0ZUNvbHNwYW4oKSk7XG4gICAgbGV0IGRlbGV0aW9uID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JvdXBDb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5ncm91cENvbHVtbnNbaV07XG4gICAgICBjb25zdCBmaXJzdFZpc2libGUgPSBlbGVtZW50LmNvbHVtbnMuZmlsdGVyKCh5KSA9PiB5LnZpc2libGUpWzBdO1xuXG4gICAgICBpZiAoZWxlbWVudC5jb2xzcGFuICE9IDApIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdmlzaWJsZUNvbHVtbnMuZmluZEluZGV4KFxuICAgICAgICAgICh4KSA9PiB4LnByb3BlcnR5S2V5ID09IGZpcnN0VmlzaWJsZS5wcm9wZXJ0eUtleVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRpc3BsYXlOYW1lcy5zcGxpY2UoXG4gICAgICAgICAgMSArIGluZGV4IC0gZGVsZXRpb24sXG4gICAgICAgICAgZWxlbWVudC5jb2xzcGFuLFxuICAgICAgICAgIGVsZW1lbnQubmFtZVxuICAgICAgICApO1xuICAgICAgICBkZWxldGlvbiArPSBlbGVtZW50LmNvbHNwYW4gLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBcbiAgICB0aGlzLmRpc3BsYXlOYW1lcyA9IHZpc2libGVDb2x1bW5zXG4gICAgICAucmVkdWNlKFxuICAgICAgICAoYSwgYykgPT4ge1xuICAgICAgICAgIGNvbnN0IGluY2x1ZGVzID0gdGhpcy5ncm91cENvbHVtbnMuc29tZSgoeCkgPT4geC5jb2x1bW5zLmluY2x1ZGVzKGMpKTtcbiAgICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgICAgdGhpcy5ncm91cENvbHVtbnMuZm9yRWFjaCgoZ2MpID0+IHtcbiAgICAgICAgICAgIGlmIChnYy5jb2x1bW5zLmluY2x1ZGVzKGMpKSB7XG4gICAgICAgICAgICAgIHN0ciA9IGdjLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYS5wdXNoKGluY2x1ZGVzID8gc3RyIDogJ2VtcHR5LWdyb3VwJyk7XG4gICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sXG4gICAgICAgIFsnZW1wdHktZ3JvdXAnXVxuICAgICAgKVxuICAgICAgLnJlZHVjZShcbiAgICAgICAgKGEsIGMpID0+IHtcbiAgICAgICAgICBpZiAoYyA9PSAnZW1wdHktZ3JvdXAnIHx8ICFhLmluY2x1ZGVzKGMpKSB7XG4gICAgICAgICAgICBhLnB1c2goYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9LFxuICAgICAgICBbJ2VtcHR5LWdyb3VwJ11cbiAgICAgICk7XG4gICAgKi9cbiAgICB0aGlzLmRpc3BsYXlOYW1lcy51bnNoaWZ0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJvd0NvbnN0cmFpbiB7XG4gIG5hbWU6IHN0cmluZztcbiAgX2NvbnN0cmFpbjogQ29uc3RyYWluO1xuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIF9jb25zdHJhaW46IENvbnN0cmFpbikge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fY29uc3RyYWluID0gX2NvbnN0cmFpbjtcbiAgfVxufVxuIiwiPCEtLSBPcGVyYXRpb25zIC0tPlxuPCEtLSBFWFBBTkRBQkxFIC0tPlxuPG1hdC1hY2NvcmRpb25cbiAgY2xhc3M9XCJ0YWJsZS1vcGVyYXRpb25zXCJcbiAgKm5nSWY9XCJ0YWJsZUFjdGlvbnNDb25maWcgJiYgdGFibGVBY3Rpb25zQ29uZmlnLmV4cGFuZGFibGVcIlxuPlxuICA8bWF0LWV4cGFuc2lvbi1wYW5lbCBoaWRlVG9nZ2xlPlxuICAgIDxtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cbiAgICAgIDxtYXQtcGFuZWwtdGl0bGUgc3R5bGU9XCJhbGlnbi1pdGVtczogY2VudGVyXCI+XG4gICAgICAgIE9wZXJhY2lvbmVzXG4gICAgICA8L21hdC1wYW5lbC10aXRsZT5cbiAgICA8L21hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyPlxuICAgIDxkaXYgY2xhc3M9XCJvcGVyYXRpb24tYnV0dG9ucy1jb250YWluZXJcIiAqbmdJZj1cInRhYmxlQWN0aW9uc0NvbmZpZ1wiPlxuICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgb3BlcmF0aW9uIG9mIHRhYmxlQWN0aW9uc0NvbmZpZy5hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1ib3R0b20tY29udGFpbmVyXCI+XG4gICAgICAgICAgPCEtLSAoc2VsZWN0ZWRSb3dzLnNpemUgPT0gMCAmJiBvcGVyYXRpb24ubXVzdEhhdmVPbmVTZWxlY3RlZCkgfHxcbiAgICAgICAgICAgICAgKHNlbGVjdGVkUm93cy5zaXplICE9IDEgJiYgb3BlcmF0aW9uLnNjb3BlID09IDEpIC0tPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIFttYXRUb29sdGlwRGlzYWJsZWRdPVwib3BlcmF0aW9uLnBlcmZvcm1hYmxlLnN0YXRlXCJcbiAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJ7eyBvcGVyYXRpb24ucGVyZm9ybWFibGUudG9vbHRpcCB9fVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiIW9wZXJhdGlvbi5wZXJmb3JtYWJsZS5zdGF0ZVwiXG4gICAgICAgICAgICAgIG1hdC1zdHJva2VkLWJ1dHRvblxuICAgICAgICAgICAgICBjbGFzcz1cImdlbmVyYWwtYWN0aW9uXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIlxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5jb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICAgID8gcGVyZm9ybUdlbmVyYWxBY3Rpb25Db25maXJtYXRpb24ob3BlcmF0aW9uKVxuICAgICAgICAgICAgICAgICAgOiBwZXJmb3JtR2VuZXJhbEFjdGlvbihvcGVyYXRpb24pXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxtYXQtaWNvblxuICAgICAgICAgICAgICAgICpuZ0lmPVwib3BlcmF0aW9uPy5pY29uXCJcbiAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJ7XG4gICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgKCFvcGVyYXRpb24ucGVyZm9ybWFibGUuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICA/ICdncmF5J1xuICAgICAgICAgICAgICAgICAgICAgIDogb3BlcmF0aW9uPy5jb2xvcikgfHwgJ2N1cnJlbnRDb2xvcidcbiAgICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgICAgICA+e3sgb3BlcmF0aW9uLmljb24gfX08L21hdC1pY29uXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgb3BlcmF0aW9uLmNvbnRlbnQgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L21hdC1leHBhbnNpb24tcGFuZWw+XG48L21hdC1hY2NvcmRpb24+XG5cbjwhLS0gTk9UIEVYUEFOREFCTEUgLS0+XG48ZGl2XG4gIGNsYXNzPVwidGFibGUtb3BlcmF0aW9ucyBtYXQtZWxldmF0aW9uLXoyIG5vdC1leHBhbmRhYmxlLW9wZXJhdGlvc1wiXG4gICpuZ0lmPVwidGFibGVBY3Rpb25zQ29uZmlnICYmICF0YWJsZUFjdGlvbnNDb25maWcuZXhwYW5kYWJsZVwiXG4+XG4gIDxkaXYgY2xhc3M9XCJub3QtZXhwYW5kYWJsZS1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgIDxkaXYgY2xhc3M9XCJvcGVyYXRpb24tYnV0dG9ucy1jb250YWluZXJcIiAqbmdJZj1cInRhYmxlQWN0aW9uc0NvbmZpZ1wiPlxuICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgb3BlcmF0aW9uIG9mIHRhYmxlQWN0aW9uc0NvbmZpZy5hY3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1ib3R0b20tY29udGFpbmVyXCI+XG4gICAgICAgICAgPCEtLSAoc2VsZWN0ZWRSb3dzLnNpemUgPT0gMCAmJiBvcGVyYXRpb24ubXVzdEhhdmVPbmVTZWxlY3RlZCkgfHxcbiAgICAgICAgICAgICAgKHNlbGVjdGVkUm93cy5zaXplICE9IDEgJiYgb3BlcmF0aW9uLnNjb3BlID09IDEpIC0tPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIFttYXRUb29sdGlwRGlzYWJsZWRdPVwib3BlcmF0aW9uLnBlcmZvcm1hYmxlLnN0YXRlXCJcbiAgICAgICAgICAgIG1hdFRvb2x0aXA9XCJ7eyBvcGVyYXRpb24ucGVyZm9ybWFibGUudG9vbHRpcCB9fVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiIW9wZXJhdGlvbi5wZXJmb3JtYWJsZS5zdGF0ZVwiXG4gICAgICAgICAgICAgIG1hdC1zdHJva2VkLWJ1dHRvblxuICAgICAgICAgICAgICBjbGFzcz1cImdlbmVyYWwtYWN0aW9uXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIlxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5jb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICAgID8gcGVyZm9ybUdlbmVyYWxBY3Rpb25Db25maXJtYXRpb24ob3BlcmF0aW9uKVxuICAgICAgICAgICAgICAgICAgOiBwZXJmb3JtR2VuZXJhbEFjdGlvbihvcGVyYXRpb24pXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxtYXQtaWNvblxuICAgICAgICAgICAgICAgICpuZ0lmPVwib3BlcmF0aW9uPy5pY29uXCJcbiAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJ7XG4gICAgICAgICAgICAgICAgICBjb2xvcjpcbiAgICAgICAgICAgICAgICAgICAgKCFvcGVyYXRpb24ucGVyZm9ybWFibGUuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICA/ICdncmF5J1xuICAgICAgICAgICAgICAgICAgICAgIDogb3BlcmF0aW9uPy5jb2xvcikgfHwgJ2N1cnJlbnRDb2xvcidcbiAgICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgICAgICA+e3sgb3BlcmF0aW9uLmljb24gfX08L21hdC1pY29uXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgb3BlcmF0aW9uLmNvbnRlbnQgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuXG48IS0tIFRhYmxlIC0tPlxuPGRpdiBjbGFzcz1cImxpdG90YWJsZS1tYWluLWNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwibGl0b3RhYmxlLWNvbnRhaW5lciBtYXQtZWxldmF0aW9uLXo0XCI+XG4gICAgPCEtLSBUb29sYmFyIGFjdGlvbnMgLS0+XG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLXRvcC1jb250YWluZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9XCJEcmFnICYgRHJvcFwiXG4gICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IHRvb2dsZURyYWdBbmREcm9wKClcIlxuICAgICAgPlxuICAgICAgICA8bWF0LWljb24gW25nU3R5bGVdPVwieyBjb2xvcjogZHJhZ2FuZGRyb3AgPyAncmVkJyA6ICdjdXJyZW50Q29sb3InIH1cIlxuICAgICAgICAgID5vcGVuX3dpdGg8L21hdC1pY29uXG4gICAgICAgID5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwiZXhwb3J0XCJcbiAgICAgICAgYXJpYS1sYWJlbD1cIkV4cG9ydGFyXCJcbiAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICA+XG4gICAgICAgIDxtYXQtaWNvbj5kb3dubG9hZDwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAgPGJ1dHRvblxuICAgICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cImNvbHVtbnNcIlxuICAgICAgICBhcmlhLWxhYmVsPVwiQ29sdW1uYXNcIlxuICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgID5cbiAgICAgICAgPG1hdC1pY29uPnZpZXdfY29sdW1uPC9tYXQtaWNvbj5cbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwiY29uc3RyYWluc1wiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJDb25zdHJhaW5zXCJcbiAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICA+XG4gICAgICAgIDxtYXQtaWNvbj5icnVzaDwvbWF0LWljb24+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyXCI+XG4gICAgICA8IS0tIEZpbHRlciAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItY29udGFpbmVyXCI+XG4gICAgICAgIDxtYXQtZm9ybS1maWVsZCBhcHBlYXJhbmNlPVwic3RhbmRhcmRcIj5cbiAgICAgICAgICA8bWF0LWxhYmVsPkNvbHVtbmFzIGEgZmlsdHJhcjwvbWF0LWxhYmVsPlxuICAgICAgICAgIDxtYXQtc2VsZWN0XG4gICAgICAgICAgICAoc2VsZWN0aW9uQ2hhbmdlKT1cInNldEZpbHRlclNlbGVjdGlvbigpXCJcbiAgICAgICAgICAgIFtmb3JtQ29udHJvbF09XCJmaWx0ZXJpbmdDb2x1bW5zRm9ybUNvbnRyb2xcIlxuICAgICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bWF0LW9wdGlvblxuICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgY29sdW1uYSBvZiBkaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbnNcIlxuICAgICAgICAgICAgICBbdmFsdWVdPVwiY29sdW1uYS5wcm9wZXJ0eUtleVwiXG4gICAgICAgICAgICAgID57eyBjb2x1bW5hLm5hbWUgfX08L21hdC1vcHRpb25cbiAgICAgICAgICAgID5cbiAgICAgICAgICA8L21hdC1zZWxlY3Q+XG4gICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgIDxtYXQtZm9ybS1maWVsZCBhcHBlYXJhbmNlPVwic3RhbmRhcmRcIiBjbGFzcz1cImZpbHRlci1zZWxlY3RvclwiPlxuICAgICAgICAgIDxtYXQtbGFiZWw+RmlsdGVyPC9tYXQtbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBbZm9ybUNvbnRyb2xdPVwiZmlsdGVyaW5nU3RyaW5nRm9ybUNvbnRyb2xcIlxuICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgIChrZXl1cCk9XCJhcHBseUZpbHRlcigpXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXguIGl1bVwiXG4gICAgICAgICAgICAjaW5wdXRcbiAgICAgICAgICAvPlxuICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgICAgPC9kaXY+XG4gICAgICA8bWF0LWRyYXdlci1jb250YWluZXIgY2xhc3M9XCJleGFtcGxlLWNvbnRhaW5lclwiIFtoYXNCYWNrZHJvcF09XCJ0cnVlXCI+XG4gICAgICAgIDxtYXQtZHJhd2VyICNkcmF3ZXIgbW9kZT1cIm92ZXJcIiBwb3NpdGlvbj1cImVuZFwiPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJzaWRlbmF2TWVudVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICA8L21hdC1kcmF3ZXI+XG4gICAgICAgIDxtYXQtZHJhd2VyLWNvbnRlbnQ+XG4gICAgICAgICAgPGRpdiAqbmdJZj1cImRhdGFTb3VyY2VcIiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cbiAgICAgICAgICAgIDwhLS0gVGFibGUgLS0+XG4gICAgICAgICAgICA8dGFibGVcbiAgICAgICAgICAgICAgbWF0LXRhYmxlXG4gICAgICAgICAgICAgIFtkYXRhU291cmNlXT1cImRhdGFTb3VyY2VcIlxuICAgICAgICAgICAgICBtYXRTb3J0XG4gICAgICAgICAgICAgIChtYXRTb3J0Q2hhbmdlKT1cImFubm91bmNlU29ydENoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgICAgICAgY2RrRHJvcExpc3RcbiAgICAgICAgICAgICAgW2Nka0Ryb3BMaXN0RGF0YV09XCJkYXRhU291cmNlLmRhdGFcIlxuICAgICAgICAgICAgICAoY2RrRHJvcExpc3REcm9wcGVkKT1cImRyb3AoJGV2ZW50KVwiXG4gICAgICAgICAgICAgIGNka0Ryb3BMaXN0U29ydGluZ0Rpc2FibGVkXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDwhLS0gQ29sdW1uYSBkZSBzZWxlY2Npb24gLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwic2VsZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZj5cbiAgICAgICAgICAgICAgICAgIDxtYXQtY2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJtYXN0ZXJUb2dnbGUoKVwiXG4gICAgICAgICAgICAgICAgICAgIFtpbmRldGVybWluYXRlXT1cIlxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLnNpemUgIT0gMCAmJiAhaXNBbGxTZWxlY3RlZCgpXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cImlzQWxsU2VsZWN0ZWQoKVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8L21hdC1jaGVja2JveD5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgbWF0LWNlbGxcbiAgICAgICAgICAgICAgICAgICptYXRDZWxsRGVmPVwibGV0IHJvd1wiXG4gICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxtYXQtY2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwic2VsZWN0aW9uVG9vZ2xlKCRldmVudC5jaGVja2VkLCByb3cpXCJcbiAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0ZWRSb3dzLmhhcyhyb3cpXCJcbiAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cInJvdy5wcm9jZXNzaW5nXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDwvbWF0LWNoZWNrYm94PlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgICAgIDwhLS0gUmVzdG8gZGUgY29sdW1uYXMgLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGRpc3BsYXllZENvbHVtbnMuY29sdW1uc1wiXG4gICAgICAgICAgICAgICAgbWF0Q29sdW1uRGVmPVwie3sgY29sdW1uLm5hbWUgfX1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPCEtLSBDb2x1bW4gSGVhZGVyIC0tPlxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgbWF0LWhlYWRlci1jZWxsXG4gICAgICAgICAgICAgICAgICAqbWF0SGVhZGVyQ2VsbERlZlxuICAgICAgICAgICAgICAgICAgbWF0LXNvcnQtaGVhZGVyPVwie3sgY29sdW1uLnByb3BlcnR5S2V5IH19XCJcbiAgICAgICAgICAgICAgICAgIHNvcnRBY3Rpb25EZXNjcmlwdGlvbj1cIlNvcnQgYnkge3sgY29sdW1uLnByb3BlcnR5S2V5IH19XCJcbiAgICAgICAgICAgICAgICAgIFtjbGFzcy5oZWFkZXItYm9yZGVyc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5oZWFkZXJCb3JkZXJzXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7eyBjb2x1bW4ubmFtZSB9fVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPCEtLSBDb2x1bW4gRGF0YSAtLT5cbiAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgIG1hdC1jZWxsXG4gICAgICAgICAgICAgICAgICAqbWF0Q2VsbERlZj1cImxldCBlbGVtZW50XCJcbiAgICAgICAgICAgICAgICAgICNsaXRvdGFibGVUZFxuICAgICAgICAgICAgICAgICAgW2NsYXNzLmNlbGwtYm9yZGVyc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5oZWFkZXJCb3JkZXJzXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICNjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwidHJhbnNpdGlvbjogMC4zcyBhbGxcIlxuICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2VsbC1hbGlnbi1sZWZ0XT1cIlxuICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jb250ZW50QWxpZ24gJiYgY29sdW1uLmNvbnRlbnRBbGlnbiA9PSAxXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgIFtjbGFzcy5jZWxsLWFsaWduLWNlbnRlcl09XCJcbiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY29udGVudEFsaWduICYmIGNvbHVtbi5jb250ZW50QWxpZ24gPT0gMlxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICBbY2xhc3MuY2VsbC1hbGlnbi1yaWdodF09XCJcbiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY29udGVudEFsaWduICYmIGNvbHVtbi5jb250ZW50QWxpZ24gPT0gM1xuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJcbiAgICAgICAgICAgICAgICAgICAgICBsaXRvdGFibGVUZC5wYXJlbnRFbGVtZW50Py5zdHlsZT8uY29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyBjb2xvcjogbGl0b3RhYmxlVGQucGFyZW50RWxlbWVudD8uc3R5bGU/LmNvbG9yIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDoge31cbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJjb2x1bW4udHlwZSA9PSBjb2x1bW5UeXBlcy5TVFJJTkdcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cImNvbHVtbi50eXBlID09IGNvbHVtblR5cGVzLklOVEVHRVJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfCBudW1iZXI6IFwiMS4wLTBcIiB9fVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuRkxPQVRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfCBudW1iZXI6IFwiMS4yLTRcIiB9fVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuREFURVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBkYXRlOiAoY29sdW1uLmZvcm1hdCA/IGNvbHVtbi5mb3JtYXQgOiBcInNob3J0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cImNvbHVtbi50eXBlID09IGNvbHVtblR5cGVzLkNVUlJFTkNZXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3sgZWxlbWVudFtjb2x1bW4ucHJvcGVydHlLZXldIHwgY3VycmVuY3kgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cImNvbHVtbi50eXBlID09IGNvbHVtblR5cGVzLkNVSVRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7eyBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV0gfCBjdWl0OiBcIi1cIiB9fVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuUEhPTkVcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtjb2x1bW4ucHJvcGVydHlLZXldXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgcGhvbmU6IChjb2x1bW4uZm9ybWF0ID8gY29sdW1uLmZvcm1hdCA6IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiY29sdW1uLnR5cGUgPT0gY29sdW1uVHlwZXMuRU5VTVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgYXNvY2lhdGlvbiBvZiBjb2x1bW4uZW51bVR5cGVBc29jaWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJhc29jaWF0aW9uLmtleSA9PSBlbGVtZW50W2NvbHVtbi5wcm9wZXJ0eUtleV1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwie3sgYXNvY2lhdGlvbi50b29sdGlwIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGFzb2NpYXRpb24uaWNvbiB9fTwvbWF0LWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgICAgIDwhLS0gQ29sdW1uYSBkZSBBY2Npb25lcyAtLT5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICpuZ0lmPVwidGFibGVDb25maWd1cmF0aW9ucz8uYWN0aW9uc0NvbHVtblwiXG4gICAgICAgICAgICAgICAgbWF0Q29sdW1uRGVmPVwiYWN0aW9uc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgIG1hdC1oZWFkZXItY2VsbFxuICAgICAgICAgICAgICAgICAgKm1hdEhlYWRlckNlbGxEZWZcbiAgICAgICAgICAgICAgICAgIFtjbGFzcy5oZWFkZXItYm9yZGVyc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5oZWFkZXJCb3JkZXJzXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWN0aW9ucy10aFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQWNjaW9uZXNcbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgbWF0LWNlbGxcbiAgICAgICAgICAgICAgICAgICptYXRDZWxsRGVmPVwibGV0IHJvd1wiXG4gICAgICAgICAgICAgICAgICBbY2xhc3MuY2VsbC1ib3JkZXJzXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LmhlYWRlckJvcmRlcnNcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nOiAwXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWN0aW9ucy10ZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBhY3Rpb24gb2YgdGFibGVDb25maWd1cmF0aW9ucz8uYWN0aW9uc0NvbHVtblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwicm93LnByb2Nlc3NpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJhY3Rpb24uY29uZmlybWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cInt7IGFjdGlvbi50b29sdGlwIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybVJvd0FjdGlvbkNvbmZpcm1hdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5jb25maXJtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlXT1cIntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcm93LnByb2Nlc3NpbmcgPyAnbGlnaHRncmF5JyA6IGFjdGlvbi5jb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPnt7IGFjdGlvbi5pY29uIH19PC9tYXQtaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJyb3cucHJvY2Vzc2luZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIiFhY3Rpb24uY29uZmlybWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0VG9vbHRpcD1cInt7IGFjdGlvbi50b29sdGlwIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvblJvd0FjdGlvbkNsaWNrKHJvdywgYWN0aW9uKVwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZV09XCJ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJvdy5wcm9jZXNzaW5nID8gJ2xpZ2h0Z3JheScgOiBhY3Rpb24uY29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID57eyBhY3Rpb24uaWNvbiB9fTwvbWF0LWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgICA8IS0tIENvbHVtbmFzIGRlIGFncnVwYWNpb24gLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwiZW1wdHktZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8dGggKm1hdEhlYWRlckNlbGxEZWYgY2xhc3M9XCJncm91cC1oZWFkZXItZW1wdHlcIj48L3RoPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2wgb2YgZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5Hcm91cHMuZ3JvdXBDb2x1bW5zXCJcbiAgICAgICAgICAgICAgICBtYXRDb2x1bW5EZWY9XCJ7eyBjb2wubmFtZSB9fVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8dGhcbiAgICAgICAgICAgICAgICAgIG1hdC1oZWFkZXItY2VsbFxuICAgICAgICAgICAgICAgICAgKm1hdEhlYWRlckNlbGxEZWZcbiAgICAgICAgICAgICAgICAgIFthdHRyLmNvbHNwYW5dPVwiY29sLmNvbHNwYW5cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt7IGNvbC5uYW1lIH19XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDx0clxuICAgICAgICAgICAgICAgIGNsYXNzPVwiZ3JvdXAtaGVhZGVyXCJcbiAgICAgICAgICAgICAgICBtYXQtaGVhZGVyLXJvd1xuICAgICAgICAgICAgICAgICptYXRIZWFkZXJSb3dEZWY9XCJkaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbkdyb3Vwcy5kaXNwbGF5TmFtZXNcIlxuICAgICAgICAgICAgICA+PC90cj5cblxuICAgICAgICAgICAgICA8IS0tIEVuY2FiZXphZG9zIGRlIGNvbHVtbmFzIC0tPlxuICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICBtYXQtaGVhZGVyLXJvd1xuICAgICAgICAgICAgICAgICptYXRIZWFkZXJSb3dEZWY9XCJkaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbk5hbWVzXCJcbiAgICAgICAgICAgICAgPjwvdHI+XG5cbiAgICAgICAgICAgICAgPCEtLSBGb3JtYXRvIGNvbmRpY2lvbmFsIGRlIGZpbGFzIC0tPlxuICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICBjZGtEcmFnXG4gICAgICAgICAgICAgICAgW2Nka0RyYWdEaXNhYmxlZF09XCIhZHJhZ2FuZGRyb3BcIlxuICAgICAgICAgICAgICAgIG1hdC1yb3dcbiAgICAgICAgICAgICAgICBbY2xhc3MubWF0LXJvdy1zZWxlY3RlZF09XCJzZWxlY3RlZFJvd3MuaGFzKHJvdylcIlxuICAgICAgICAgICAgICAgIFtjbGFzcy5tYXQtcm93LXNlbGVjdGVkLWJvcmRlcnNdPVwiXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd3MuaGFzKHJvdykgJiZcbiAgICAgICAgICAgICAgICAgIHRhYmxlQ29uZmlndXJhdGlvbnM/LnNlbGVjdGlvblN0eWxlID09IDFcbiAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgIFtjbGFzcy5tYXQtcm93LXNlbGVjdGVkLXNoYWRvd109XCJcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93cy5oYXMocm93KSAmJlxuICAgICAgICAgICAgICAgICAgdGFibGVDb25maWd1cmF0aW9ucz8uc2VsZWN0aW9uU3R5bGUgPT0gMlxuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgW2NsYXNzLm1hdC1yb3ctYm9yZGVyc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5ob3ZlclN0eWxlID09IDFcIlxuICAgICAgICAgICAgICAgIFtjbGFzcy5tYXQtcm93LXNoYWRvd109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5ob3ZlclN0eWxlID09IDJcIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwidHJhbnNpdGlvbjogMC4zcyBiYWNrZ3JvdW5kLWNvbG9yXCJcbiAgICAgICAgICAgICAgICBbbmdTdHlsZV09XCJjb25zdHJhaW5lZFJvd3MuaGFzKHJvdykgPyByb3cucm93U3R5bGUuc3R5bGUgOiAnJ1wiXG4gICAgICAgICAgICAgICAgKm1hdFJvd0RlZj1cImxldCByb3c7IGNvbHVtbnM6IGRpc3BsYXllZENvbHVtbnMuY29sdW1uTmFtZXNcIlxuICAgICAgICAgICAgICAgIFtjbGFzcy5tYXQtcm93LXByb2Nlc3NpbmddPVwicm93LnByb2Nlc3NpbmdcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiAqY2RrRHJhZ1BsYWNlaG9sZGVyPnBsYWNlaG9sZGVyPC9kaXY+XG4gICAgICAgICAgICAgIDwvdHI+XG5cbiAgICAgICAgICAgICAgPCEtLSBNZW5zYWplIHBvciBkZWZlY3RvIGVuIGNhc28gZGUgbm8gaGFiZXIgZGF0b3MgbyBzZSBlc3RlIGZldGNoZWFuZG8gLS0+XG4gICAgICAgICAgICAgIDx0ciBjbGFzcz1cIm1hdC1yb3dcIiAqbWF0Tm9EYXRhUm93PlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cIm1hdC1jZWxsXCIgY29sc3Bhbj1cIjRcIj5cbiAgICAgICAgICAgICAgICAgIHt7IGZldGNoaW5nID8gXCJmZXRjaGluZyBkYXRhXCIgOiBcIk5vIGRhdGEgZm91bmRcIiB9fVxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L21hdC1kcmF3ZXItY29udGVudD5cbiAgICAgIDwvbWF0LWRyYXdlci1jb250YWluZXI+XG5cbiAgICAgIDwhLS0gRm9vdGVyIGFjdGlvbiBidXR0b24gLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFibGUtYm90dG9tLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgbWF0LXN0cm9rZWQtYnV0dG9uXG4gICAgICAgICAgY2xhc3M9XCJmb290ZXJjZWxsXCJcbiAgICAgICAgICAoY2xpY2spPVwicGVyZm9ybUZvb3RlckFjdGlvbigpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtaWNvblxuICAgICAgICAgICAgKm5nSWY9XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5mb290ZXJBY3Rpb24/Lmljb25cIlxuICAgICAgICAgICAgW25nU3R5bGVdPVwie1xuICAgICAgICAgICAgICBjb2xvcjogdGFibGVDb25maWd1cmF0aW9ucz8uZm9vdGVyQWN0aW9uPy5jb2xvciB8fCAnY3VycmVudENvbG9yJ1xuICAgICAgICAgICAgfVwiXG4gICAgICAgICAgICA+e3sgdGFibGVDb25maWd1cmF0aW9ucz8uZm9vdGVyQWN0aW9uPy5pY29uIH19PC9tYXQtaWNvblxuICAgICAgICAgID5cbiAgICAgICAgICB7eyB0YWJsZUNvbmZpZ3VyYXRpb25zPy5mb290ZXJBY3Rpb24/LmNvbnRlbnQgfX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gUGFnaW5hdG9yIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1ib3R0b20tY29udGFpbmVyXCI+XG4gICAgICA8bWF0LXBhZ2luYXRvclxuICAgICAgICBbcGFnZVNpemVPcHRpb25zXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LnBhZ2luYXRpb25TaXplcyB8fCBbNSwgMTAsIDIwXVwiXG4gICAgICAgIHNob3dGaXJzdExhc3RCdXR0b25zXG4gICAgICAgIGFyaWEtbGFiZWw9XCJTZWxlY3QgcGFnZVwiXG4gICAgICA+XG4gICAgICA8L21hdC1wYWdpbmF0b3I+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIFByb2dyZXNzYmFyIC0tPlxuICAgIDxtYXQtcHJvZ3Jlc3MtYmFyXG4gICAgICBbbW9kZV09XCJmZXRjaGluZyA/ICdpbmRldGVybWluYXRlJyA6ICdkZXRlcm1pbmF0ZSdcIlxuICAgID48L21hdC1wcm9ncmVzcy1iYXI+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjwhLS0gRXhwb3J0IE1lbnUgLS0+XG48bWF0LW1lbnUgI2V4cG9ydD1cIm1hdE1lbnVcIiB4UG9zaXRpb249XCJiZWZvcmVcIj5cbiAgPGRpdlxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgZGlzYWJsZWQ9XCJ0cnVlXCJcbiAgPlxuICAgIEV4cG9ydGFyXG4gIDwvZGl2PlxuPC9tYXQtbWVudT5cblxuPCEtLSBDb2x1bW5zIFNlbGVjdG9yIE1lbnUgLS0+XG48bWF0LW1lbnUgI2NvbHVtbnM9XCJtYXRNZW51XCIgeFBvc2l0aW9uPVwiYmVmb3JlXCI+XG4gIDxkaXZcbiAgICBtYXQtbWVudS1pdGVtXG4gICAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIlxuICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgIGRpc2FibGVkPVwidHJ1ZVwiXG4gID5cbiAgICBDb2x1bW5hc1xuICA8L2Rpdj5cbiAgPG1hdC1kaXZpZGVyPjwvbWF0LWRpdmlkZXI+XG5cbiAgPGRpdlxuICAgICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgZGlzcGxheWVkQ29sdW1ucy5jb2x1bW5zXCJcbiAgICBtYXQtbWVudS1pdGVtXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gID5cbiAgICA8bWF0LXNsaWRlLXRvZ2dsZVxuICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgKGNoYW5nZSk9XCJkaXNwbGF5ZWRDb2x1bW5zLmNoYW5nZUNvbHVtblZpc2l2aWxpdHkoY29sdW1uKVwiXG4gICAgICBbY2hlY2tlZF09XCJjb2x1bW4udmlzaWJsZVwiXG4gICAgPlxuICAgICAge3sgY29sdW1uLm5hbWUgfX1cbiAgICA8L21hdC1zbGlkZS10b2dnbGU+XG4gIDwvZGl2PlxuICA8bWF0LWRpdmlkZXI+PC9tYXQtZGl2aWRlcj5cbiAgPGRpdlxuICAgICpuZ0Zvcj1cImxldCBncm91cCBvZiBkaXNwbGF5ZWRDb2x1bW5zLmNvbHVtbkdyb3Vwcy5ncm91cENvbHVtbnNcIlxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgPlxuICAgIDxtYXQtc2xpZGUtdG9nZ2xlXG4gICAgICBjb2xvcj1cImFjY2VudFwiXG4gICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgIChjaGFuZ2UpPVwiXG4gICAgICAgIGdyb3VwLnRvb2dsZVZpc2liYmlsaXR5KCRldmVudC5jaGVja2VkKTtcbiAgICAgICAgZGlzcGxheWVkQ29sdW1ucy51cGRhdGVWaXNpdmlsaXR5KClcbiAgICAgIFwiXG4gICAgICBbY2hlY2tlZF09XCJncm91cC5jaGVja2VkXCJcbiAgICA+XG4gICAgICB7eyBncm91cC5uYW1lIH19XG4gICAgPC9tYXQtc2xpZGUtdG9nZ2xlPlxuICA8L2Rpdj5cbiAgPGJ1dHRvblxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4gICAgKGNsaWNrKT1cImRpc3BsYXllZENvbHVtbnMuYWxsVmlzaWJsZSgpOyAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICA+XG4gICAgVG9kYXNcbiAgPC9idXR0b24+XG48L21hdC1tZW51PlxuXG48IS0tIENvbnN0cmFpbnMgTWVudSAtLT5cbjxtYXQtbWVudVxuICAjY29uc3RyYWlucz1cIm1hdE1lbnVcIlxuICB4UG9zaXRpb249XCJiZWZvcmVcIlxuICBzdHlsZT1cInBhZGRpbmc6IDAuNXJlbSAhaW1wb3J0YW50XCJcbj5cbiAgPGRpdlxuICAgIG1hdC1tZW51LWl0ZW1cbiAgICBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlclwiXG4gICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgZGlzYWJsZWQ9XCJ0cnVlXCJcbiAgPlxuICAgIEVzdGlsb3NcbiAgPC9kaXY+XG4gIDxkaXZcbiAgICBtYXQtbWVudS1pdGVtXG4gICAgZGlzYWJsZVJpcHBsZT1cInRydWVcIlxuICAgICpuZ0Zvcj1cImxldCBjb25zdHIgb2YgZmllbGRDb25zdHJpYW5zXCJcbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICBbc3R5bGVdPVwie1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgJ2FsaWduLWl0ZW1zJzogJ2NlbnRlcicsXG4gICAgICAnanVzdGlmeS1pdGVtcyc6ICdjZW50ZXInLFxuICAgICAgY29sb3I6IGNvbnN0ci5jb25zdHJhaW4uc3R5bGVbJ2NvbG9yJ10sXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6IGNvbnN0ci5jb25zdHJhaW4uc3R5bGVbJ2JhY2tncm91bmQtY29sb3InXSxcbiAgICAgICd0ZXh0LWFsaWduJzogJ2NlbnRlcidcbiAgICB9XCJcbiAgPlxuICAgIDxzcGFuIHN0eWxlPVwiZmxleC1ncm93OiAxOyB0ZXh0LWFsaWduOiBjZW50ZXJcIj57e1xuICAgICAgY29uc3RyLmNvbnN0cmFpbk5hbWVcbiAgICB9fTwvc3Bhbj5cbiAgICA8YnV0dG9uXG4gICAgICBtYXQtaWNvbi1idXR0b25cbiAgICAgIG1hdFRvb2x0aXA9XCJyZW1vdmVcIlxuICAgICAgc3R5bGU9XCJqdXN0aWZ5LXNlbGY6IGZsZXgtZW5kOyBtYXJnaW4tbGVmdDogMXJlbVwiXG4gICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwiY29uc3RyYWluRGVsZXRpb25Db25maXJtXCJcbiAgICAgIFttYXRNZW51VHJpZ2dlckRhdGFdPVwieyBkYXRhOiBjb25zdHIgfVwiXG4gICAgPlxuICAgICAgPG1hdC1pY29uIHN0eWxlPVwibWFyZ2luOiBhdXRvXCI+ZGVsZXRlPC9tYXQtaWNvbj5cbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiBzdHlsZT1cImp1c3RpZnktc2VsZjogZmxleC1lbmRcIj5cbiAgICAgIDxtYXQtaWNvbiBzdHlsZT1cIm1hcmdpbjogYXV0b1wiIG1hdFRvb2x0aXA9XCJoaWRlXCI+ZWRpdDwvbWF0LWljb24+XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvblxuICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICBzdHlsZT1cImp1c3RpZnktc2VsZjogZmxleC1lbmRcIlxuICAgICAgKGNsaWNrKT1cIlxuICAgICAgICBjb25zdHIuY29uc3RyYWluLmVuYWJsZSA9ICFjb25zdHIuY29uc3RyYWluLmVuYWJsZTsgdXBkYXRlVmlzaWJpbGl0eSgpXG4gICAgICBcIlxuICAgID5cbiAgICAgIDxtYXQtaWNvbiBzdHlsZT1cIm1hcmdpbjogYXV0b1wiIG1hdFRvb2x0aXA9XCJoaWRlXCI+e3tcbiAgICAgICAgY29uc3RyLmNvbnN0cmFpbi5lbmFibGUgPyBcInZpc2liaWxpdHlcIiA6IFwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgfX08L21hdC1pY29uPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cblxuICA8IS0tIENvbnN0cmFpbiBDcmVhdG9yIC0tPlxuICA8ZGl2XG4gICAgbWF0LW1lbnUtaXRlbVxuICAgIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCJcbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgPlxuICAgIDxsaXRvdGFibGUtY29uc3RyYWluLWNyZWF0b3JcbiAgICAgIFtjb2x1bW5zXT1cImRpc3BsYXllZENvbHVtbnMuY29sdW1uc1wiXG4gICAgICAocmVzdWx0LWNvbnN0cmFpbik9XCJhZGRDb25zdHJhaW4oJGV2ZW50KVwiXG4gICAgICA+PG1hdC1pY29uIHN0eWxlPVwibWFyZ2luOiBhdXRvXCJcbiAgICAgICAgPmFkZF9jaXJjbGU8L21hdC1pY29uXG4gICAgICA+PC9saXRvdGFibGUtY29uc3RyYWluLWNyZWF0b3JcbiAgICA+XG4gIDwvZGl2PlxuPC9tYXQtbWVudT5cblxuPG1hdC1tZW51ICNjb25zdHJhaW5EZWxldGlvbkNvbmZpcm09XCJtYXRNZW51XCIgeFBvc2l0aW9uPVwiYmVmb3JlXCI+XG4gIDxuZy10ZW1wbGF0ZSBtYXRNZW51Q29udGVudCBsZXQtY29uc3RyYWluPVwiZGF0YVwiPlxuICAgIDxidXR0b25cbiAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgIChjbGljayk9XCJyZW1vdmVDb25zdHJhaW4oY29uc3RyYWluKVwiXG4gICAgICBzdHlsZT1cImNvbG9yOiByZWQ7IGZvbnQtd2VpZ2h0OiA1MDBcIlxuICAgID5cbiAgICAgIGNvbmZpcm0gcmVtb3ZlXG4gICAgPC9idXR0b24+XG4gIDwvbmctdGVtcGxhdGU+XG48L21hdC1tZW51PlxuXG48bWF0LW1lbnUgI2NvbnN0cmFpbj1cIm1hdE1lbnVcIiB4UG9zaXRpb249XCJiZWZvcmVcIj5cbiAgPG5nLXRlbXBsYXRlIG1hdE1lbnVDb250ZW50IGxldC1kYXRhPVwiZGF0YVwiPlxuICAgIDxtYXQtY2FyZFxuICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICA+XG4gICAgICA8bWF0LWNhcmQtY29udGVudFxuICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgKGtleXByZXNzKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgIGNsYXNzPVwiY29uc3RyYWluLW1hdC1jb250ZW50XCJcbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiY29uc3RyYWluLW1hdC1jb250ZW50LWR1YWxcIlxuICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICA+XG4gICAgICAgICAgPGFwcC1saXRvLWNvbG9yLXBpY2tlclxuICAgICAgICAgICAgW2NvbG9yc109XCJ0YWJsZUNvbmZpZ3VyYXRpb25zPy5yb3dTdHlsZUNvbG9yc1wiXG4gICAgICAgICAgICAocmVzdWx0KT1cIlxuICAgICAgICAgICAgICBjaGFuZ2VDb25zdHJhaW5TdGF0ZSgkZXZlbnQsIGRhdGEuY29uc3RyYWluLCAnYmFja2dyb3VuZC1jb2xvcicpXG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgY29udGVudD1cIkJhY2tncm91bmRcIlxuICAgICAgICAgID48L2FwcC1saXRvLWNvbG9yLXBpY2tlcj5cbiAgICAgICAgICA8YXBwLWxpdG8tY29sb3ItcGlja2VyXG4gICAgICAgICAgICBbY29sb3JzXT1cInRhYmxlQ29uZmlndXJhdGlvbnM/LnJvd1N0eWxlQ29sb3JzXCJcbiAgICAgICAgICAgIChyZXN1bHQpPVwiY2hhbmdlQ29uc3RyYWluU3RhdGUoJGV2ZW50LCBkYXRhLmNvbnN0cmFpbiwgJ2NvbG9yJylcIlxuICAgICAgICAgICAgY29udGVudD1cIkZvcmVncm91bmRcIlxuICAgICAgICAgID48L2FwcC1saXRvLWNvbG9yLXBpY2tlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBbc3R5bGVdPVwie1xuICAgICAgICAgICAgY29sb3I6IGRhdGEuY29uc3RyYWluLnN0eWxlWydjb2xvciddLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBkYXRhLmNvbnN0cmFpbi5zdHlsZVsnYmFja2dyb3VuZC1jb2xvciddLFxuICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnMXJlbScsXG4gICAgICAgICAgICAndGV4dC1hbGlnbic6ICdjZW50ZXInLFxuICAgICAgICAgICAgcGFkZGluZzogJzAuNXJlbSAwJyxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgICB9XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IGRhdGEuY29uc3RyYWluLnZhbHVlc1swXSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlLWdyb3VwXG4gICAgICAgICAgbmFtZT1cImZvbnRTdHlsZVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkZvbnQgU3R5bGVcIlxuICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIHZhbHVlPVwie3sgZGF0YS5jb25zdHJhaW4udHlwZSB9fVwiXG4gICAgICAgICAgKGNoYW5nZSk9XCJcbiAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKCRldmVudCwgZGF0YS5jb25zdHJhaW4sICdudW1iZXItdHlwZScsIGZhbHNlKVxuICAgICAgICAgIFwiXG4gICAgICAgID5cbiAgICAgICAgICA8bWF0LWJ1dHRvbi10b2dnbGUgdmFsdWU9XCIxXCI+PTwvbWF0LWJ1dHRvbi10b2dnbGU+XG4gICAgICAgICAgPG1hdC1idXR0b24tdG9nZ2xlIHZhbHVlPVwiMlwiPnt7IFwiXFw+XCIgfX08L21hdC1idXR0b24tdG9nZ2xlPlxuICAgICAgICAgIDxtYXQtYnV0dG9uLXRvZ2dsZSB2YWx1ZT1cIjNcIj57eyBcIlxcPFwiIH19PC9tYXQtYnV0dG9uLXRvZ2dsZT5cbiAgICAgICAgICA8bWF0LWJ1dHRvbi10b2dnbGUgdmFsdWU9XCI0XCI+e3sgXCJcXDxcXD5cIiB9fTwvbWF0LWJ1dHRvbi10b2dnbGU+XG4gICAgICAgIDwvbWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAqbmdJZj1cImRhdGEuY29uc3RyYWluLnR5cGUgIT0gbnVtYmVyQ29uc3RyYWluVHlwZS5CRVRXRUVOXCJcbiAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAoa2V5ZG93bik9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZFxuICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogMTAwJVwiXG4gICAgICAgICAgICBhcHBlYXJhbmNlPVwiZmlsbFwiXG4gICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgKGtleWRvd24pPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bWF0LWxhYmVsIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIj5WQUxPUjwvbWF0LWxhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICBzdGVwPVwiMTAwXCJcbiAgICAgICAgICAgICAgKGtleWRvd24pPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgKGtleXByZXNzKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIlxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VDb25zdHJhaW5TdGF0ZShcbiAgICAgICAgICAgICAgICAgICRldmVudCxcbiAgICAgICAgICAgICAgICAgIGRhdGEuY29uc3RyYWluLFxuICAgICAgICAgICAgICAgICAgJ251bWJlci12YWx1ZScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgKGtleXVwKT1cIlxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VDb25zdHJhaW5TdGF0ZShcbiAgICAgICAgICAgICAgICAgICRldmVudCxcbiAgICAgICAgICAgICAgICAgIGRhdGEuY29uc3RyYWluLFxuICAgICAgICAgICAgICAgICAgJ251bWJlci12YWx1ZScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgICAgICB2YWx1ZT1cInt7IGRhdGEuY29uc3RyYWluLnZhbHVlc1swXSB9fVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8IS0tIEJFVFdFRU4gLS0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAqbmdJZj1cImRhdGEuY29uc3RyYWluLnR5cGUgPT0gbnVtYmVyQ29uc3RyYWluVHlwZS5CRVRXRUVOXCJcbiAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAoa2V5ZG93bik9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgIHN0eWxlPVwibWF4LXdpZHRoOiBmaXQtY29udGVudDsgZGlzcGxheTogZmxvdy1yb290XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZFxuICAgICAgICAgICAgc3R5bGU9XCJtYXgtd2lkdGg6IDQ1JTsgZmxvYXQ6IGxlZnRcIlxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cImZpbGxcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1hdC1sYWJlbCAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+REVTREU8L21hdC1sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIlxuICAgICAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKFxuICAgICAgICAgICAgICAgICAgJGV2ZW50LFxuICAgICAgICAgICAgICAgICAgZGF0YS5jb25zdHJhaW4sXG4gICAgICAgICAgICAgICAgICAnbnVtYmVyLXZhbHVlMScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgKGtleXVwKT1cIlxuICAgICAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKFxuICAgICAgICAgICAgICAgICAgJGV2ZW50LFxuICAgICAgICAgICAgICAgICAgZGF0YS5jb25zdHJhaW4sXG4gICAgICAgICAgICAgICAgICAnbnVtYmVyLXZhbHVlMScsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgbWF0SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgICAgICB2YWx1ZT1cInt7IGRhdGEuY29uc3RyYWluLnZhbHVlc1swXSB9fVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkXG4gICAgICAgICAgICBzdHlsZT1cIm1heC13aWR0aDogNDUlOyBmbG9hdDogcmlnaHRcIlxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cImZpbGxcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAoa2V5cHJlc3MpPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1hdC1sYWJlbFxuICAgICAgICAgICAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgKGtleXByZXNzKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgID5IQVNUQTwvbWF0LWxhYmVsXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIHN0ZXA9XCIxMDBcIlxuICAgICAgICAgICAgICAoY2hhbmdlKT1cIlxuICAgICAgICAgICAgICAgIGNoYW5nZUNvbnN0cmFpblN0YXRlKFxuICAgICAgICAgICAgICAgICAgJGV2ZW50LFxuICAgICAgICAgICAgICAgICAgZGF0YS5jb25zdHJhaW4sXG4gICAgICAgICAgICAgICAgICAnbnVtYmVyLXZhbHVlMicsXG4gICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlkb3duKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgIChrZXlwcmVzcyk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIlxuICAgICAgICAgICAgICAoa2V5dXApPVwiXG4gICAgICAgICAgICAgICAgY2hhbmdlQ29uc3RyYWluU3RhdGUoXG4gICAgICAgICAgICAgICAgICAkZXZlbnQsXG4gICAgICAgICAgICAgICAgICBkYXRhLmNvbnN0cmFpbixcbiAgICAgICAgICAgICAgICAgICdudW1iZXItdmFsdWUyJyxcbiAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICBtYXRJbnB1dFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlwiXG4gICAgICAgICAgICAgIHZhbHVlPVwie3sgZGF0YS5jb25zdHJhaW4udmFsdWVzWzFdIH19XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L21hdC1jYXJkLWNvbnRlbnQ+XG4gICAgPC9tYXQtY2FyZD5cbiAgPC9uZy10ZW1wbGF0ZT5cbjwvbWF0LW1lbnU+XG5cbjwhLS0gc2lkZW5hdi1tZW51IC0tPlxuPG5nLXRlbXBsYXRlICNzaWRlbmF2TWVudT5cbiAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDFyZW1cIj5cbiAgICA8aDI+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ3NpbmdsZSdcIj5cbiAgICAgICAge3tcbiAgICAgICAgICByb3dDb25maXJtYXRpb25cbiAgICAgICAgICAgID8gcm93Q29uZmlybWF0aW9uPy5jb25maXJtYXRpb25EYXRhPy50aXRsZVxuICAgICAgICAgICAgOiBcIkNvbmZpcm1hY2lvblwiXG4gICAgICAgIH19XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ211bHRpcGxlJ1wiPlxuICAgICAgICB7e1xuICAgICAgICAgIGdlbmVyYWxDb25maXJtYXRpb25cbiAgICAgICAgICAgID8gZ2VuZXJhbENvbmZpcm1hdGlvbj8uY29uZmlybWF0aW9uRGF0YT8udGl0bGVcbiAgICAgICAgICAgIDogXCJDb25maXJtYWNpb25cIlxuICAgICAgICB9fVxuICAgICAgPC9zcGFuPlxuICAgIDwvaDI+XG4gICAgPHA+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ3NpbmdsZSdcIj5cbiAgICAgICAge3sgcm93Q29uZmlybWF0aW9uPy5jb25maXJtYXRpb25EYXRhPy5jb250ZW50IH19XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiAqbmdJZj1cIl9jb25maXJtYXRpb24gPT0gJ211bHRpcGxlJ1wiPlxuICAgICAgICB7eyBnZW5lcmFsQ29uZmlybWF0aW9uPy5jb25maXJtYXRpb25EYXRhPy5jb250ZW50IH19XG4gICAgICA8L3NwYW4+XG4gICAgPC9wPlxuXG4gICAgPGJ1dHRvblxuICAgICAgbWF0LXJhaXNlZC1idXR0b25cbiAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICBzdHlsZT1cIm1hcmdpbi1yaWdodDogMC41cmVtXCJcbiAgICAgIChjbGljayk9XCJcbiAgICAgICAgZHJhd2VyLnRvZ2dsZSgpO1xuICAgICAgICBfY29uZmlybWF0aW9uID09ICdzaW5nbGUnXG4gICAgICAgICAgPyBvblJvd0FjdGlvbkNsaWNrKHJvd0NvbmZpcm1hdGlvbj8ucm93LCByb3dDb25maXJtYXRpb24hLmFjdGlvbilcbiAgICAgICAgICA6IG9uR2VuZXJhbEFjdGlvbkNsaWNrKGdlbmVyYWxDb25maXJtYXRpb24hLmFjdGlvbilcbiAgICAgIFwiXG4gICAgPlxuICAgICAgYWNjZXB0XG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cIndhcm5cIiAoY2xpY2spPVwiZHJhd2VyLnRvZ2dsZSgpXCI+XG4gICAgICBjYW5jZWxcbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuIl19